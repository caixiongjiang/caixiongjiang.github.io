<!DOCTYPE html>
<html><head>
<title>超级码力在线编程大赛初赛 第2场 题解</title>




<meta charset="utf-8">
<meta name="X-UA-Compatible" content="IE=edge">
<meta name="google-site-verification" content="">
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
<meta content="telephone=no" name="format-detection">
<meta name="description" content="">
<meta name="renderer" content="webkit">
<meta name="theme-color" content="#ffffff">



<meta property="og:title" content="超级码力在线编程大赛初赛 第2场 题解" />
<meta property="og:description" content="超级码力在线编程大赛初赛 第2场 题解 下面的题解仅代表个人观点，出了问题，概不负责。
比赛链接：https://tianchi.aliyun.com/oj/15165469968503404?spm=5176.15098393.J_6210563800.8.6b8b5cd6dK6WtT
1. 三角魔法 描述 小栖必须在一个三角形中才能施展魔法，现在他知道自己的坐标和三个点的坐标，他想知道他能否施展魔法
 −109&lt;=x,y&lt;=109 点在边上也属于三角形内  示例 输入: triangle = [[0,0],[2,0],[1,2]] point= [1,1]输出: &quot;Yes&quot;输入: triangle = [[0,0],[2,0],[1,1]] point= [2,1]输出: &quot;No&quot;思路 判断是否在三角形内，模板题。
代码 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134  class Vector2d { public: double x_; double y_; public: Vector2d(double x, double y) : x_(x), y_(y) {} Vector2d() : x_(0), y_(0) {} //二维向量叉乘, 叉乘的结果其实是向量，方向垂直于两个向量组成的平面，这里我们只需要其大小和方向  double CrossProduct(const Vector2d vec) { return x_ * vec." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://caixiongjiang.github.io/blog/2020/%E8%B6%85%E7%BA%A7%E7%A0%81%E5%8A%9B%E5%9C%A8%E7%BA%BF%E7%BC%96%E7%A8%8B%E5%A4%A7%E8%B5%9B%E5%88%9D%E8%B5%9B-%E7%AC%AC2%E5%9C%BA-%E9%A2%98%E8%A7%A3/" /><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2020-08-30T13:05:00+08:00" />
<meta property="article:modified_time" content="2020-08-30T13:05:06+08:00" />











<link type="text/css" rel="stylesheet" href="/vendor/css/bootstrap.min.css">
<script src="/vendor/js/vue.min.js" ></script>


  




<link rel="icon" href="https://image-1252109614.cos.ap-beijing.myqcloud.com/img/20210427152737.jpeg">



<link rel="stylesheet" href="https://caixiongjiang.github.io/scss/journal.min.3f72a5fc8f5b5dd732a4b476aced0eece2156958d9d414316494ddb10593ddf7.css" integrity="sha256-P3Kl/I9bXdcypLR2rO0O7OIVaVjZ1BQxZJTdsQWT3fc=" media="screen">



<link rel="stylesheet" href="https://caixiongjiang.github.io/scss/dark-mode.min.c0082f0b082177f6fb3768ff91439a097de49689bd26f4d49f76d94ebb81e02d.css" integrity="sha256-wAgvCwghd/b7N2j/kUOaCX3klom9JvTUn3bZTruB4C0=" media="screen">


<script src="/js/loadCSS.js"></script>
<script>
  loadCSS("https://fonts.googleapis.com/css?family=Fira+Mono|Material+Icons");
</script>


  
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script>
MathJax = {
  tex: {
    inlineMath: [['$', '$'], ['\\(', '\\)']]
  },
  svg: {
    fontCache: 'global'
  }
};
</script>
<script type="text/javascript" id="MathJax-script"
async
src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
MathJax.Hub.Queue(function() {



var all = MathJax.Hub.getAllJax(), i;
for(i = 0; i < all.length; i += 1) {
all[i].SourceElement().parentNode.className += ' has-jax';
}
});
</script>

<style>
code.has-jax {
font: inherit;
font-size: 100%;
background: inherit;
border: inherit;
color: #515151;
}
</style>





  
    <script src="/js/toc.js"></script>
  











<script src="https://cdn.jsdelivr.net/npm/twikoo@1.3.1/dist/twikoo.all.min.js"></script>




</head>
<body>
    	<div id="app"><div ref="sideContainer" class="side-container">
    
    <a class="a-block nav-head false" href="https://caixiongjiang.github.io/">
    
        <div class="nav-title">
            🌀riba2534&#39;s Blog
        </div>
        
        <div class="nav-subtitle">
            凡事有交代，件件有着落，事事有回音
        </div>
        
    </a>

    <div class="nav-link-list">
        
        
            
            
            
                
            
            
            
            <a class="a-block nav-link-item active" href="/blog">
                文章📖
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/categories">
                分类📌
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/tags">
                标签🏷️
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/series">
                系列📚
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/archive">
                归档📃
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/about">
                关于👋
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/friends">
                友链🔗
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/index.xml">
                RSS📢
            </a>
            
        
    </div>

    

    <div class="nav-footer">
        
<a href="https://blog.csdn.net/riba2534">
    CSDN
</a>
<br>

<a href="https://github.com/riba2534">
    GitHub
</a>
<br>

<a href="https://www.zhihu.com/people/riba2534">
    Zhihu
</a>
<br>

<a href="mailto:riba2534@qq.com">
    Email
</a>
<br>

        <hr>
        
魔改自 <a href="https://github.com/amazingrise/hugo-theme-diary">Diary</a> by <a href="https://blog.riba2534.cn">riba2534</a>
<br>

&copy;
	
	2021 🌀riba2534&#39;s Blog
	
    </div>
    
</div><div ref="extraContainer" class="extra-container">
    
    
    <div class="toc animated-visibility" :class="{ invisible: scrollY <= 140 }">


	<div class="toc-content">
	
		
		
		
		<center>- 目录 -</center>
		
		
		<ul>
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e8%b6%85%e7%ba%a7%e7%a0%81%e5%8a%9b%e5%9c%a8%e7%ba%bf%e7%bc%96%e7%a8%8b%e5%a4%a7%e8%b5%9b%e5%88%9d%e8%b5%9b-%e7%ac%ac2%e5%9c%ba-%e9%a2%98%e8%a7%a3" onclick="onNavClick(`#超级码力在线编程大赛初赛-第2场-题解-nav`)" id="超级码力在线编程大赛初赛-第2场-题解-nav">
									超级码力在线编程大赛初赛 第2场 题解
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#1-%e4%b8%89%e8%a7%92%e9%ad%94%e6%b3%95" onclick="onNavClick(`#1-三角魔法-nav`)" id="1-三角魔法-nav">
									1. 三角魔法
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e6%8f%8f%e8%bf%b0" onclick="onNavClick(`#描述-nav`)" id="描述-nav">
									描述
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e7%a4%ba%e4%be%8b" onclick="onNavClick(`#示例-nav`)" id="示例-nav">
									示例
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e6%80%9d%e8%b7%af" onclick="onNavClick(`#思路-nav`)" id="思路-nav">
									思路
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e4%bb%a3%e7%a0%81" onclick="onNavClick(`#代码-nav`)" id="代码-nav">
									代码
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#2-%e5%8c%ba%e9%97%b4%e5%bc%82%e6%88%96" onclick="onNavClick(`#2-区间异或-nav`)" id="2-区间异或-nav">
									2. 区间异或
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e6%8f%8f%e8%bf%b0-1" onclick="onNavClick(`#描述-1-nav`)" id="描述-1-nav">
									描述
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e7%a4%ba%e4%be%8b-1" onclick="onNavClick(`#示例-1-nav`)" id="示例-1-nav">
									示例
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e6%80%9d%e8%b7%af-1" onclick="onNavClick(`#思路-1-nav`)" id="思路-1-nav">
									思路
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e4%bb%a3%e7%a0%81-1" onclick="onNavClick(`#代码-1-nav`)" id="代码-1-nav">
									代码
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#3-%e4%ba%94%e5%ad%90%e5%9b%9e%e6%96%87" onclick="onNavClick(`#3-五子回文-nav`)" id="3-五子回文-nav">
									3. 五子回文
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e6%8f%8f%e8%bf%b0-2" onclick="onNavClick(`#描述-2-nav`)" id="描述-2-nav">
									描述
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e7%a4%ba%e4%be%8b-2" onclick="onNavClick(`#示例-2-nav`)" id="示例-2-nav">
									示例
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e6%80%9d%e8%b7%af-2" onclick="onNavClick(`#思路-2-nav`)" id="思路-2-nav">
									思路
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e4%bb%a3%e7%a0%81-2" onclick="onNavClick(`#代码-2-nav`)" id="代码-2-nav">
									代码
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#4-%e5%b0%8f%e6%a0%96%e7%9a%84%e9%87%91%e5%ad%97%e5%a1%94" onclick="onNavClick(`#4-小栖的金字塔-nav`)" id="4-小栖的金字塔-nav">
									4. 小栖的金字塔
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e6%8f%8f%e8%bf%b0-3" onclick="onNavClick(`#描述-3-nav`)" id="描述-3-nav">
									描述
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e7%a4%ba%e4%be%8b-3" onclick="onNavClick(`#示例-3-nav`)" id="示例-3-nav">
									示例
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e6%80%9d%e8%b7%af-3" onclick="onNavClick(`#思路-3-nav`)" id="思路-3-nav">
									思路
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e4%bb%a3%e7%a0%81-3" onclick="onNavClick(`#代码-3-nav`)" id="代码-3-nav">
									代码
								</a>
							</li>
						
						
					
				
			
		</ul>
	</div>

</div>
    
    <div class="pagination">
        <a id="globalBackToTop" class="pagination-action animated-visibility" href="#top" :class="{ invisible: scrollY == 0 }">
            <i class="material-icons pagination-action-icon">
                keyboard_arrow_up
            </i>
        </a>
        
        <a class="pagination-action" v-on:click="toggleDarkMode">
            <i class="material-icons pagination-action-icon" v-if="isDarkMode">
                brightness_4
            </i>
            <i class="material-icons pagination-action-icon" v-else="isDarkMode">
                brightness_7
            </i>
        </a>
        
        
    </div>
</div>
<div class="single-column-drawer-container" ref="drawer"
     v-bind:class="{ 'single-column-drawer-container-active': isDrawerOpen }">
    <div class="drawer-content">
        <div class="drawer-menu">
            
            
            
                
                
                
                    
                
                
                
                <a class="a-block drawer-menu-item active" href="/blog">
                    文章📖
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/categories">
                    分类📌
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/tags">
                    标签🏷️
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/series">
                    系列📚
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/archive">
                    归档📃
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/about">
                    关于👋
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/friends">
                    友链🔗
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/index.xml">
                    RSS📢
                </a>
                
            
            
            <div class="toc">


	<div class="toc-content">
	
		
		
		
		<center>- 目录 -</center>
		
		
		<ul>
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e8%b6%85%e7%ba%a7%e7%a0%81%e5%8a%9b%e5%9c%a8%e7%ba%bf%e7%bc%96%e7%a8%8b%e5%a4%a7%e8%b5%9b%e5%88%9d%e8%b5%9b-%e7%ac%ac2%e5%9c%ba-%e9%a2%98%e8%a7%a3" onclick="onNavClick(`#超级码力在线编程大赛初赛-第2场-题解-nav`)" id="超级码力在线编程大赛初赛-第2场-题解-nav">
									超级码力在线编程大赛初赛 第2场 题解
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#1-%e4%b8%89%e8%a7%92%e9%ad%94%e6%b3%95" onclick="onNavClick(`#1-三角魔法-nav`)" id="1-三角魔法-nav">
									1. 三角魔法
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e6%8f%8f%e8%bf%b0" onclick="onNavClick(`#描述-nav`)" id="描述-nav">
									描述
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e7%a4%ba%e4%be%8b" onclick="onNavClick(`#示例-nav`)" id="示例-nav">
									示例
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e6%80%9d%e8%b7%af" onclick="onNavClick(`#思路-nav`)" id="思路-nav">
									思路
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e4%bb%a3%e7%a0%81" onclick="onNavClick(`#代码-nav`)" id="代码-nav">
									代码
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#2-%e5%8c%ba%e9%97%b4%e5%bc%82%e6%88%96" onclick="onNavClick(`#2-区间异或-nav`)" id="2-区间异或-nav">
									2. 区间异或
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e6%8f%8f%e8%bf%b0-1" onclick="onNavClick(`#描述-1-nav`)" id="描述-1-nav">
									描述
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e7%a4%ba%e4%be%8b-1" onclick="onNavClick(`#示例-1-nav`)" id="示例-1-nav">
									示例
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e6%80%9d%e8%b7%af-1" onclick="onNavClick(`#思路-1-nav`)" id="思路-1-nav">
									思路
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e4%bb%a3%e7%a0%81-1" onclick="onNavClick(`#代码-1-nav`)" id="代码-1-nav">
									代码
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#3-%e4%ba%94%e5%ad%90%e5%9b%9e%e6%96%87" onclick="onNavClick(`#3-五子回文-nav`)" id="3-五子回文-nav">
									3. 五子回文
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e6%8f%8f%e8%bf%b0-2" onclick="onNavClick(`#描述-2-nav`)" id="描述-2-nav">
									描述
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e7%a4%ba%e4%be%8b-2" onclick="onNavClick(`#示例-2-nav`)" id="示例-2-nav">
									示例
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e6%80%9d%e8%b7%af-2" onclick="onNavClick(`#思路-2-nav`)" id="思路-2-nav">
									思路
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e4%bb%a3%e7%a0%81-2" onclick="onNavClick(`#代码-2-nav`)" id="代码-2-nav">
									代码
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#4-%e5%b0%8f%e6%a0%96%e7%9a%84%e9%87%91%e5%ad%97%e5%a1%94" onclick="onNavClick(`#4-小栖的金字塔-nav`)" id="4-小栖的金字塔-nav">
									4. 小栖的金字塔
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e6%8f%8f%e8%bf%b0-3" onclick="onNavClick(`#描述-3-nav`)" id="描述-3-nav">
									描述
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e7%a4%ba%e4%be%8b-3" onclick="onNavClick(`#示例-3-nav`)" id="示例-3-nav">
									示例
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e6%80%9d%e8%b7%af-3" onclick="onNavClick(`#思路-3-nav`)" id="思路-3-nav">
									思路
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e4%bb%a3%e7%a0%81-3" onclick="onNavClick(`#代码-3-nav`)" id="代码-3-nav">
									代码
								</a>
							</li>
						
						
					
				
			
		</ul>
	</div>

</div>
            
        </div>
    </div>
</div>
<transition name="fade">
    <div v-bind:class="{ 'single-column-drawer-mask': mounted }" v-if="isDrawerOpen" v-on:click="toggleDrawer"></div>
</transition>
<nav ref="navBar" class="navbar sticky-top navbar-light single-column-nav-container">
    <div ref="navBackground" class="nav-background"></div>
    <div class="container container-narrow nav-content">
        <button id="nav_dropdown_btn" class="nav-dropdown-toggle" type="button" v-on:click="toggleDrawer">
            <i class="material-icons">
                menu
            </i>
        </button>
        <a ref="navTitle" class="navbar-brand" href="https://caixiongjiang.github.io/">
            🌀riba2534&#39;s Blog
        </a>
        
        <button type="button" class="nav-darkmode-toggle" v-on:click="toggleDarkMode">
            <i class="material-icons" v-if="isDarkMode">
                brightness_4
            </i>
            <i class="material-icons" v-else="isDarkMode">
                brightness_7
            </i>
        </button>
        
    </div>
</nav>
<div class="single-column-header-container" ref="pageHead"
     v-bind:style="{ transform: 'translateZ(0px) translateY('+.3*scrollY+'px)', opacity: 1-navOpacity }">
    <a href="https://caixiongjiang.github.io/">
        <div class="single-column-header-title">🌀riba2534&#39;s Blog</div>
        
        <div class="single-column-header-subtitle">凡事有交代，件件有着落，事事有回音</div>
        

    </a>
</div>

            <div id="content">
<div ref="streamContainer" class="stream-container">
    <div class="post-list-container post-list-container-shadow">
        <div class="post">
            
            
            
                
            

            <div class="post-head-wrapper"
                
                    
                    
                    style="background-image: url('https://image-1252109614.cos.ap-beijing.myqcloud.com/img/20210508201518.png')"
                    
                
            >
                <div class="post-title">
                    超级码力在线编程大赛初赛 第2场 题解
                    
                    <div class="post-meta">
                        
                        <time itemprop="datePublished">
                            2020-08-30 13:05
                        </time>
                        

                        
                            <i class="material-icons" style="">folder</i>
                                <a href="/categories/onlinejudge%E5%88%B7%E9%A2%98">OnlineJudge刷题</a>
                                &nbsp;
                        

                        
                            <i class="material-icons" style="">label</i>
                            
                                <a href="/tags/%E5%A4%A9%E6%B1%A0">天池</a>
                                &nbsp;
                            
                        
                        
                            <i class="material-icons" style="">schedule</i>
                            

                            
                            

                            
                            10 min
                            
                            50 s.
                        
                    </div>
                </div>
            </div>
            
            <div class="post-body-wrapper">
                
                <div class="post-body" v-pre>
                
                    <h1 id="超级码力在线编程大赛初赛-第2场-题解">超级码力在线编程大赛初赛 第2场 题解</h1>
<p>下面的题解仅代表个人观点，出了问题，概不负责。</p>
<p>比赛链接：https://tianchi.aliyun.com/oj/15165469968503404?spm=5176.15098393.J_6210563800.8.6b8b5cd6dK6WtT</p>
<h1 id="1-三角魔法">1. 三角魔法</h1>
<h2 id="描述">描述</h2>
<p>小栖必须在一个三角形中才能施展魔法，现在他知道自己的坐标和三个点的坐标，他想知道他能否施展魔法</p>
<ul>
<li>−109&lt;=x,y&lt;=109</li>
<li>点在边上也属于三角形内</li>
</ul>
<h2 id="示例">示例</h2>
<pre tabindex="0"><code>输入: triangle = [[0,0],[2,0],[1,2]] point= [1,1]
输出: &quot;Yes&quot;
输入: triangle = [[0,0],[2,0],[1,1]] point= [2,1]
输出: &quot;No&quot;
</code></pre><h2 id="思路">思路</h2>
<p>判断是否在三角形内，模板题。</p>
<h2 id="代码">代码</h2>
<div class="highlight"><div style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 33
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 34
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 35
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 36
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 37
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 38
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 39
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 40
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 41
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 42
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 43
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 44
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 45
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 46
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 47
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 48
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 49
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 50
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 51
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 52
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 53
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 54
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 55
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 56
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 57
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 58
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 59
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 60
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 61
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 62
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 63
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 64
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 65
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 66
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 67
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 68
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 69
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 70
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 71
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 72
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 73
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 74
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 75
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 76
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 77
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 78
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 79
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 80
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 81
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 82
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 83
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 84
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 85
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 86
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 87
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 88
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 89
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 90
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 91
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 92
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 93
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 94
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 95
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 96
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 97
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 98
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 99
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">100
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">101
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">102
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">103
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">104
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">105
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">106
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">107
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">108
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">109
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">110
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">111
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">112
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">113
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">114
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">115
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">116
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">117
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">118
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">119
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">120
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">121
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">122
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">123
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">124
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">125
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">126
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">127
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">128
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">129
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">130
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">131
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">132
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">133
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">134
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#8b008b;font-weight:bold">class</span> <span style="color:#008b45;font-weight:bold">Vector2d</span>
{
<span style="color:#8b008b;font-weight:bold">public</span>:
    <span style="color:#00688b;font-weight:bold">double</span> x_;
    <span style="color:#00688b;font-weight:bold">double</span> y_;

<span style="color:#8b008b;font-weight:bold">public</span>:
    Vector2d(<span style="color:#00688b;font-weight:bold">double</span> x, <span style="color:#00688b;font-weight:bold">double</span> y) : x_(x), y_(y) {}
    Vector2d() : x_(<span style="color:#b452cd">0</span>), y_(<span style="color:#b452cd">0</span>) {}

    <span style="color:#228b22">//二维向量叉乘, 叉乘的结果其实是向量，方向垂直于两个向量组成的平面，这里我们只需要其大小和方向
</span><span style="color:#228b22"></span>    <span style="color:#00688b;font-weight:bold">double</span> <span style="color:#008b45">CrossProduct</span>(<span style="color:#8b008b;font-weight:bold">const</span> Vector2d vec)
    {
        <span style="color:#8b008b;font-weight:bold">return</span> x_ * vec.y_ - y_ * vec.x_;
    }

    <span style="color:#228b22">//二维向量点积
</span><span style="color:#228b22"></span>    <span style="color:#00688b;font-weight:bold">double</span> <span style="color:#008b45">DotProduct</span>(<span style="color:#8b008b;font-weight:bold">const</span> Vector2d vec)
    {
        <span style="color:#8b008b;font-weight:bold">return</span> x_ * vec.x_ + y_ * vec.y_;
    }

    <span style="color:#228b22">//二维向量减法
</span><span style="color:#228b22"></span>    Vector2d <span style="color:#008b45">Minus</span>(<span style="color:#8b008b;font-weight:bold">const</span> Vector2d vec) <span style="color:#8b008b;font-weight:bold">const</span>
    {
        <span style="color:#8b008b;font-weight:bold">return</span> Vector2d(x_ - vec.x_, y_ - vec.y_);
    }

    <span style="color:#228b22">//判断点M,N是否在直线AB的同一侧
</span><span style="color:#228b22"></span>    <span style="color:#8b008b;font-weight:bold">static</span> <span style="color:#00688b;font-weight:bold">bool</span> <span style="color:#008b45">IsPointAtSameSideOfLine</span>(<span style="color:#8b008b;font-weight:bold">const</span> Vector2d &amp;pointM, <span style="color:#8b008b;font-weight:bold">const</span> Vector2d &amp;pointN,
                                        <span style="color:#8b008b;font-weight:bold">const</span> Vector2d &amp;pointA, <span style="color:#8b008b;font-weight:bold">const</span> Vector2d &amp;pointB)
    {
        Vector2d AB = pointB.Minus(pointA);
        Vector2d AM = pointM.Minus(pointA);
        Vector2d AN = pointN.Minus(pointA);

        <span style="color:#228b22">//等于0时表示某个点在直线上
</span><span style="color:#228b22"></span>        <span style="color:#8b008b;font-weight:bold">return</span> AB.CrossProduct(AM) * AB.CrossProduct(AN) &gt;= <span style="color:#b452cd">0</span>;
    }
};

<span style="color:#228b22">//三角形类
</span><span style="color:#228b22"></span><span style="color:#8b008b;font-weight:bold">class</span> <span style="color:#008b45;font-weight:bold">Triangle</span>
{
<span style="color:#8b008b;font-weight:bold">private</span>:
    Vector2d pointA_, pointB_, pointC_;

<span style="color:#8b008b;font-weight:bold">public</span>:
    Triangle(Vector2d point1, Vector2d point2, Vector2d point3)
        : pointA_(point1), pointB_(point2), pointC_(point3)
    {
        <span style="color:#228b22">//todo 判断三点是否共线
</span><span style="color:#228b22"></span>    }

    <span style="color:#228b22">//计算三角形面积
</span><span style="color:#228b22"></span>    <span style="color:#00688b;font-weight:bold">double</span> <span style="color:#008b45">ComputeTriangleArea</span>()
    {
        <span style="color:#228b22">//依据两个向量的叉乘来计算，可参考http://blog.csdn.net/zxj1988/article/details/6260576
</span><span style="color:#228b22"></span>        Vector2d AB = pointB_.Minus(pointA_);
        Vector2d BC = pointC_.Minus(pointB_);
        <span style="color:#8b008b;font-weight:bold">return</span> fabs(AB.CrossProduct(BC) / <span style="color:#b452cd">2.0</span>);
    }

    <span style="color:#00688b;font-weight:bold">bool</span> <span style="color:#008b45">IsPointInTriangle1</span>(<span style="color:#8b008b;font-weight:bold">const</span> Vector2d pointP)
    {
        <span style="color:#00688b;font-weight:bold">double</span> area_ABC = ComputeTriangleArea();
        <span style="color:#00688b;font-weight:bold">double</span> area_PAB = Triangle(pointP, pointA_, pointB_).ComputeTriangleArea();
        <span style="color:#00688b;font-weight:bold">double</span> area_PAC = Triangle(pointP, pointA_, pointC_).ComputeTriangleArea();
        <span style="color:#00688b;font-weight:bold">double</span> area_PBC = Triangle(pointP, pointB_, pointC_).ComputeTriangleArea();

        <span style="color:#8b008b;font-weight:bold">if</span> (fabs(area_PAB + area_PBC + area_PAC - area_ABC) &lt; <span style="color:#b452cd">0.000001</span>)
            <span style="color:#8b008b;font-weight:bold">return</span> <span style="color:#658b00">true</span>;
        <span style="color:#8b008b;font-weight:bold">else</span>
            <span style="color:#8b008b;font-weight:bold">return</span> <span style="color:#658b00">false</span>;
    }

    <span style="color:#00688b;font-weight:bold">bool</span> <span style="color:#008b45">IsPointInTriangle2</span>(<span style="color:#8b008b;font-weight:bold">const</span> Vector2d pointP)
    {
        <span style="color:#8b008b;font-weight:bold">return</span> Vector2d::IsPointAtSameSideOfLine(pointP, pointA_, pointB_, pointC_) &amp;&amp;
               Vector2d::IsPointAtSameSideOfLine(pointP, pointB_, pointA_, pointC_) &amp;&amp;
               Vector2d::IsPointAtSameSideOfLine(pointP, pointC_, pointA_, pointB_);
    }

    <span style="color:#00688b;font-weight:bold">bool</span> <span style="color:#008b45">IsPointInTriangle3</span>(<span style="color:#8b008b;font-weight:bold">const</span> Vector2d pointP)
    {
        Vector2d AB = pointB_.Minus(pointA_);
        Vector2d AC = pointC_.Minus(pointA_);
        Vector2d AP = pointP.Minus(pointA_);
        <span style="color:#00688b;font-weight:bold">double</span> dot_ac_ac = AC.DotProduct(AC);
        <span style="color:#00688b;font-weight:bold">double</span> dot_ac_ab = AC.DotProduct(AB);
        <span style="color:#00688b;font-weight:bold">double</span> dot_ac_ap = AC.DotProduct(AP);
        <span style="color:#00688b;font-weight:bold">double</span> dot_ab_ab = AB.DotProduct(AB);
        <span style="color:#00688b;font-weight:bold">double</span> dot_ab_ap = AB.DotProduct(AP);

        <span style="color:#00688b;font-weight:bold">double</span> tmp = <span style="color:#b452cd">1.0</span> / (dot_ac_ac * dot_ab_ab - dot_ac_ab * dot_ac_ab);

        <span style="color:#00688b;font-weight:bold">double</span> u = (dot_ab_ab * dot_ac_ap - dot_ac_ab * dot_ab_ap) * tmp;
        <span style="color:#8b008b;font-weight:bold">if</span> (u &lt; <span style="color:#b452cd">0</span> || u &gt; <span style="color:#b452cd">1</span>)
            <span style="color:#8b008b;font-weight:bold">return</span> <span style="color:#658b00">false</span>;
        <span style="color:#00688b;font-weight:bold">double</span> v = (dot_ac_ac * dot_ab_ap - dot_ac_ab * dot_ac_ap) * tmp;
        <span style="color:#8b008b;font-weight:bold">if</span> (v &lt; <span style="color:#b452cd">0</span> || v &gt; <span style="color:#b452cd">1</span>)
            <span style="color:#8b008b;font-weight:bold">return</span> <span style="color:#658b00">false</span>;

        <span style="color:#8b008b;font-weight:bold">return</span> u + v &lt;= <span style="color:#b452cd">1</span>;
    }

    <span style="color:#00688b;font-weight:bold">bool</span> <span style="color:#008b45">IsPointInTriangle4</span>(<span style="color:#8b008b;font-weight:bold">const</span> Vector2d pointP)
    {
        Vector2d PA = pointA_.Minus(pointP);
        Vector2d PB = pointB_.Minus(pointP);
        Vector2d PC = pointC_.Minus(pointP);
        <span style="color:#00688b;font-weight:bold">double</span> t1 = PA.CrossProduct(PB);
        <span style="color:#00688b;font-weight:bold">double</span> t2 = PB.CrossProduct(PC);
        <span style="color:#00688b;font-weight:bold">double</span> t3 = PC.CrossProduct(PA);
        <span style="color:#8b008b;font-weight:bold">return</span> t1 * t2 &gt;= <span style="color:#b452cd">0</span> &amp;&amp; t1 * t3 &gt;= <span style="color:#b452cd">0</span>;
    }
};

<span style="color:#8b008b;font-weight:bold">class</span> <span style="color:#008b45;font-weight:bold">Solution</span>
{
<span style="color:#8b008b;font-weight:bold">public</span>:
    <span style="color:#228b22">/**
</span><span style="color:#228b22">     * @param triangle: Coordinates of three points
</span><span style="color:#228b22">     * @param point: Xiaoqi&#39;s coordinates
</span><span style="color:#228b22">     * @return: Judge whether you can cast magic
</span><span style="color:#228b22">     */</span>
    string castMagic(vector&lt;vector&lt;<span style="color:#00688b;font-weight:bold">int</span>&gt;&gt; &amp;triangle, vector&lt;<span style="color:#00688b;font-weight:bold">int</span>&gt; &amp;point)
    {
        Triangle <span style="color:#008b45">tri</span>(Vector2d(triangle[<span style="color:#b452cd">0</span>][<span style="color:#b452cd">0</span>], triangle[<span style="color:#b452cd">0</span>][<span style="color:#b452cd">1</span>]),
                     Vector2d(triangle[<span style="color:#b452cd">1</span>][<span style="color:#b452cd">0</span>], triangle[<span style="color:#b452cd">1</span>][<span style="color:#b452cd">1</span>]),
                     Vector2d(triangle[<span style="color:#b452cd">2</span>][<span style="color:#b452cd">0</span>], triangle[<span style="color:#b452cd">2</span>][<span style="color:#b452cd">1</span>]));
        <span style="color:#8b008b;font-weight:bold">return</span> tri.IsPointInTriangle3(Vector2d(point[<span style="color:#b452cd">0</span>], point[<span style="color:#b452cd">1</span>])) ? <span style="color:#cd5555">&#34;Yes&#34;</span> : <span style="color:#cd5555">&#34;No&#34;</span>;
    }
};
</code></pre></td></tr></table>
</div>
</div><h1 id="2-区间异或">2. 区间异或</h1>
<h2 id="描述-1">描述</h2>
<p>有一个数组num，现在定义区间对的和等于：左区间的最大值加右区间的最小值 由于小栖特别能突发奇想，他突然想知道多个区间对和的异或和是多少</p>
<ul>
<li>4&lt;=len(num)&lt;=50000</li>
<li>
<ul>
<li>0&lt;=num[i]&lt;=100000000</li>
</ul>
</li>
<li>1&lt;=len(ask)&lt;=100000</li>
<li>len(ask[0])=4,分别表示 l1,r1,l2,r2</li>
<li>num中视作下标从1开始，而不是0</li>
<li>左右区间可能重合</li>
</ul>
<h2 id="示例-1">示例</h2>
<pre tabindex="0"><code>输入: num = [1,2,3,4,5] ask = [[1,2,3,4],[1,2,4,5]]
输出: 3
说明: [1,2,3,4]区间异或对和为5，[1,2,4,5]区间异或对和为6，5 xor 6 = 3
</code></pre><h2 id="思路-1">思路</h2>
<p>求区间最值，用线段树和RMQ都能搞，我用的RMQ</p>
<h2 id="代码-1">代码</h2>
<div class="highlight"><div style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#8b008b;font-weight:bold">typedef</span> <span style="color:#00688b;font-weight:bold">long</span> <span style="color:#00688b;font-weight:bold">long</span> ll;
<span style="color:#1e889b">#define N 100010
</span><span style="color:#1e889b"></span>ll maxx[N][<span style="color:#b452cd">20</span>];
ll minn[N][<span style="color:#b452cd">20</span>];
<span style="color:#00688b;font-weight:bold">void</span> <span style="color:#008b45">RMQ</span>(ll n)
{
    <span style="color:#8b008b;font-weight:bold">for</span> (ll j = <span style="color:#b452cd">1</span>; j &lt; <span style="color:#b452cd">20</span>; j++)
        <span style="color:#8b008b;font-weight:bold">for</span> (ll i = <span style="color:#b452cd">1</span>; i &lt;= n; i++)
            <span style="color:#8b008b;font-weight:bold">if</span> (i + (<span style="color:#b452cd">1</span> &lt;&lt; j) - <span style="color:#b452cd">1</span> &lt;= n)
            {
                maxx[i][j] = max(maxx[i][j - <span style="color:#b452cd">1</span>], maxx[i + (<span style="color:#b452cd">1</span> &lt;&lt; (j - <span style="color:#b452cd">1</span>))][j - <span style="color:#b452cd">1</span>]);
                minn[i][j] = min(minn[i][j - <span style="color:#b452cd">1</span>], minn[i + (<span style="color:#b452cd">1</span> &lt;&lt; (j - <span style="color:#b452cd">1</span>))][j - <span style="color:#b452cd">1</span>]);
            }
}
ll <span style="color:#008b45">get_max</span>(ll a, ll b)
{
    ll k = (ll)(log(b - a + <span style="color:#b452cd">1.0</span>) / log(<span style="color:#b452cd">2.0</span>));
    <span style="color:#8b008b;font-weight:bold">return</span> max(maxx[a][k], maxx[b - (<span style="color:#b452cd">1</span> &lt;&lt; k) + <span style="color:#b452cd">1</span>][k]);
}
ll <span style="color:#008b45">get_min</span>(ll a, ll b)
{
    ll k = (ll)(log(b - a + <span style="color:#b452cd">1.0</span>) / log(<span style="color:#b452cd">2.0</span>));
    <span style="color:#8b008b;font-weight:bold">return</span> min(minn[a][k], minn[b - (<span style="color:#b452cd">1</span> &lt;&lt; k) + <span style="color:#b452cd">1</span>][k]);
}
<span style="color:#8b008b;font-weight:bold">class</span> <span style="color:#008b45;font-weight:bold">Solution</span>
{
<span style="color:#8b008b;font-weight:bold">public</span>:
    <span style="color:#228b22">/**
</span><span style="color:#228b22">     * @param num: array of num
</span><span style="color:#228b22">     * @param ask: llerval pairs
</span><span style="color:#228b22">     * @return: return the sum of xor
</span><span style="color:#228b22">     */</span>
    <span style="color:#00688b;font-weight:bold">int</span> Intervalxor(vector&lt;<span style="color:#00688b;font-weight:bold">int</span>&gt; &amp;num, vector&lt;vector&lt;<span style="color:#00688b;font-weight:bold">int</span>&gt;&gt; &amp;ask)
    {
        <span style="color:#8b008b;font-weight:bold">for</span> (ll i = <span style="color:#b452cd">0</span>; i &lt; num.size(); i++)
        {
            minn[i + <span style="color:#b452cd">1</span>][<span style="color:#b452cd">0</span>] = maxx[i + <span style="color:#b452cd">1</span>][<span style="color:#b452cd">0</span>] = num[i];
        }
        ll n = num.size();
        RMQ(n);
        ll ans = <span style="color:#b452cd">0</span>;
        <span style="color:#8b008b;font-weight:bold">for</span> (vector&lt;<span style="color:#00688b;font-weight:bold">int</span>&gt; as : ask)
        {
            ll l1 = as[<span style="color:#b452cd">0</span>], r1 = as[<span style="color:#b452cd">1</span>];
            ll l2 = as[<span style="color:#b452cd">2</span>], r2 = as[<span style="color:#b452cd">3</span>];
            ll tmp = get_max(l1, r1) + get_min(l2, r2);
            ans ^= tmp;
        }
        <span style="color:#8b008b;font-weight:bold">return</span> ans;
    }
};
</code></pre></td></tr></table>
</div>
</div><h1 id="3-五子回文">3. 五子回文</h1>
<h2 id="描述-2">描述</h2>
<p>小栖最近很喜欢回文串，由于小栖的幸运数字是5，他想知道形似“abcba&quot;的回文串在他给定的字符串中的数量</p>
<ul>
<li>s.length&lt;=106</li>
<li>字符串s只包含小写字母</li>
</ul>
<h2 id="示例-2">示例</h2>
<p><strong>样例 1：</strong></p>
<pre tabindex="0"><code>输入：s = &quot;abcba&quot;
输出：1
</code></pre><p><strong>样例 2：</strong></p>
<pre tabindex="0"><code>输入：s = &quot;abcbabcccb&quot;
输出：2
解释：形似”abcba“的字符串有”abcba“和”cbabc“
</code></pre><h2 id="思路-2">思路</h2>
<p>直接O(n)遍历判断，不用算法。</p>
<h2 id="代码-2">代码</h2>
<div class="highlight"><div style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#8b008b;font-weight:bold">class</span> <span style="color:#008b45;font-weight:bold">Solution</span>
{
<span style="color:#8b008b;font-weight:bold">public</span>:
    <span style="color:#228b22">/**
</span><span style="color:#228b22">     * @param s: The given string
</span><span style="color:#228b22">     * @return: return the number of Five-character palindrome
</span><span style="color:#228b22">     */</span>
    <span style="color:#00688b;font-weight:bold">int</span> pd(string &amp;s, <span style="color:#00688b;font-weight:bold">int</span> mid)
    {
        <span style="color:#00688b;font-weight:bold">bool</span> f1 = s[mid - <span style="color:#b452cd">1</span>] == s[mid + <span style="color:#b452cd">1</span>];
        <span style="color:#00688b;font-weight:bold">bool</span> f2 = s[mid - <span style="color:#b452cd">2</span>] == s[mid + <span style="color:#b452cd">2</span>];
        <span style="color:#00688b;font-weight:bold">bool</span> f3 = (s[mid - <span style="color:#b452cd">1</span>] != s[mid - <span style="color:#b452cd">2</span>]) &amp; (s[mid] != s[mid - <span style="color:#b452cd">2</span>]) &amp; (s[mid] != s[mid - <span style="color:#b452cd">1</span>]);
        <span style="color:#8b008b;font-weight:bold">return</span> f1 &amp; f2 &amp; f3;
    }
    <span style="color:#00688b;font-weight:bold">int</span> <span style="color:#008b45">Fivecharacterpalindrome</span>(string &amp;s)
    {
        <span style="color:#00688b;font-weight:bold">int</span> n = s.size();
        <span style="color:#8b008b;font-weight:bold">if</span> (n &lt; <span style="color:#b452cd">5</span>)
            <span style="color:#8b008b;font-weight:bold">return</span> <span style="color:#b452cd">0</span>;
        <span style="color:#00688b;font-weight:bold">int</span> ans = <span style="color:#b452cd">0</span>;
        <span style="color:#8b008b;font-weight:bold">for</span> (<span style="color:#00688b;font-weight:bold">int</span> i = <span style="color:#b452cd">2</span>; i &lt; n - <span style="color:#b452cd">2</span>;)
        {
            <span style="color:#8b008b;font-weight:bold">if</span> (pd(s, i))
            {
                i += <span style="color:#b452cd">2</span>;
                ans++;
            }
            <span style="color:#8b008b;font-weight:bold">else</span>
            {
                i++;
            }
        }
        <span style="color:#8b008b;font-weight:bold">return</span> ans;
    }
};
</code></pre></td></tr></table>
</div>
</div><h1 id="4-小栖的金字塔">4. 小栖的金字塔</h1>
<h2 id="描述-3">描述</h2>
<p>小栖有一个金字塔，每一层都有编号. 
<img src="https://image-1252109614.cos.ap-beijing.myqcloud.com/img/20200830130158.jpeg" alt="1107.png"> 
小栖可以在不同点间移动，假设小栖现在在(x1,y1),他能够移动到的下一个点(x2,y2)满足x2&gt;=x1&amp;&amp;y2&gt;=y1x2&gt;=x1&amp;&amp;y2&gt;=y1 现在小栖呆在(k,k)处，由于我们不能确定小栖现在在哪儿，所以你需要求出所有点(k,k)到达(n,n)的方案数的和。</p>
<ul>
<li>1&lt;=k&lt;=n&lt;=107</li>
<li>由于方案数很大，请对方案数取模1e9+7</li>
</ul>
<h2 id="示例-3">示例</h2>
<pre tabindex="0"><code>输入：n=3,k=[1,2,3]
输出：9
</code></pre><h2 id="思路-3">思路</h2>
<p>超级卡特兰数/大施罗德数 裸题。</p>
<p>题目中求的是 k 到 n 的方案数，所以对于每一个三角形而言，要求第 <code>n-k+1</code> 个大施罗德数。</p>
<p>模板可以看这里：https://blog.csdn.net/PleasantlY1/article/details/84074637</p>
<h2 id="代码-3">代码</h2>
<div class="highlight"><div style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#8b008b;font-weight:bold">typedef</span> <span style="color:#00688b;font-weight:bold">long</span> <span style="color:#00688b;font-weight:bold">long</span> LL;
<span style="color:#8b008b;font-weight:bold">const</span> LL mod = <span style="color:#b452cd">1e9</span> + <span style="color:#b452cd">7</span>;
<span style="color:#8b008b;font-weight:bold">const</span> LL maxn = <span style="color:#b452cd">1e7</span> + <span style="color:#b452cd">10</span>;
LL num[maxn];
LL <span style="color:#008b45">inverse</span>(LL x, LL y) <span style="color:#228b22">///快速幂加费马小定理求逆元
</span><span style="color:#228b22"></span>{
    LL sum = <span style="color:#b452cd">1</span>;
    <span style="color:#8b008b;font-weight:bold">while</span> (y)
    {
        <span style="color:#8b008b;font-weight:bold">if</span> (y &amp; <span style="color:#b452cd">1</span>)
            sum = sum * x % mod;
        y /= <span style="color:#b452cd">2</span>;
        x = x * x % mod;
    }
    <span style="color:#8b008b;font-weight:bold">return</span> sum % mod;
}
<span style="color:#8b008b;font-weight:bold">class</span> <span style="color:#008b45;font-weight:bold">Solution</span>
{
<span style="color:#8b008b;font-weight:bold">public</span>:
    <span style="color:#228b22">/**
</span><span style="color:#228b22">     * @param n: The number of pyramid levels n
</span><span style="color:#228b22">     * @param k: Possible coordinates k
</span><span style="color:#228b22">     * @return: Find the sum of the number of plans
</span><span style="color:#228b22">     */</span>
    <span style="color:#00688b;font-weight:bold">int</span> pyramid(<span style="color:#00688b;font-weight:bold">int</span> n, vector&lt;<span style="color:#00688b;font-weight:bold">int</span>&gt; &amp;k)
    {
        num[<span style="color:#b452cd">1</span>] = num[<span style="color:#b452cd">0</span>] = <span style="color:#b452cd">1</span>;
        <span style="color:#8b008b;font-weight:bold">for</span> (<span style="color:#00688b;font-weight:bold">int</span> i = <span style="color:#b452cd">2</span>; i &lt;= n; i++)
        {
            num[i] = ((<span style="color:#b452cd">6</span> * i - <span style="color:#b452cd">3</span>) * num[i - <span style="color:#b452cd">1</span>] % mod - (i - <span style="color:#b452cd">2</span>) * num[i - <span style="color:#b452cd">2</span>] % mod + mod) % mod * inverse(i + <span style="color:#b452cd">1</span>, mod - <span style="color:#b452cd">2</span>) % mod;
        }
        LL ans = <span style="color:#b452cd">0</span>;
        <span style="color:#8b008b;font-weight:bold">for</span> (<span style="color:#8b008b;font-weight:bold">auto</span> x : k)
        {
            x = n - x + <span style="color:#b452cd">1</span>;
            LL tmp = x == <span style="color:#b452cd">1</span> ? <span style="color:#b452cd">1</span> : num[x - <span style="color:#b452cd">1</span>] * <span style="color:#b452cd">2</span> % mod;
            ans = (ans + tmp) % mod;
        }
        <span style="color:#8b008b;font-weight:bold">return</span> <span style="color:#008b45">int</span>(ans);
    }
};
</code></pre></td></tr></table>
</div>
</div>
                    
                    <HR width="100%" id="EOF">
		            <p style="color:#777;">最后修改于 2020-08-30</p>
                    
                    
                    <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="知识共享许可协议" style="border-width:0" src="https://image-1252109614.cos.ap-beijing.myqcloud.com/img/20210508215939.png" /></a><br />本作品采用<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>进行许可。
                </div>
            </div>
            
            
            <nav class="post-pagination">

                
                <a class="newer-posts" href="https://caixiongjiang.github.io/blog/2020/go-channel-%E8%AF%A6%E8%A7%A3/">
			下回<br>Go Channel 详解
                </a>
                
                
                
                <a class="older-posts" href="https://caixiongjiang.github.io/blog/2020/leetcode-214-%E6%9C%80%E7%9F%AD%E5%9B%9E%E6%96%87%E4%B8%B2kmpnext%E5%BA%94%E7%94%A8/">
			上回<br>LeetCode 214 最短回文串(kmp、next应用)
                </a>
                
            </nav>
            <div class="post-comment-wrapper">
                








<div id="tcomment"></div>



            </div>
        </div>
    </div>
</div>

            </div><div id="single-column-footer">
魔改自 <a href="https://github.com/amazingrise/hugo-theme-diary">Diary</a> by <a href="https://blog.riba2534.cn">riba2534</a>
<br>

&copy;
	
	2021 🌀riba2534&#39;s Blog
	</div>
            </div>
    <script>
let app;

app = new Vue({
    el: '#app',
    data: {
        scrollY: 0,
        navOpacity: 0,
        isDrawerOpen: false,
        mounted: false,
        isDarkMode: false
    },
    methods: {
            sgn(t, x) {
                let k = 1. / (1. - 2 * t);
                if (x <= t) return 0;
                else if (x >= 1 - t) return 1;
                else {
                    return k * (x - t);
                }
            },
            handleScroll() {
                this.scrollY = window.scrollY;
                this.navOpacity = this.sgn(.0, Math.min(1, Math.max(0, window.scrollY / (this.pageHeadHeight() - this.navBarHeight() * 0.8))));
                const {navBar, navBackground, navTitle, extraContainer, streamContainer} = this.$refs;

                if (this.navOpacity >= 1) {
                    navBackground.style.opacity = 1;
                    navTitle.style.opacity = 1;
                } else {
                    navBackground.style.opacity = 0;
                    navTitle.style.opacity = 0;
                }
            },
            handleResize() {
                const {navBar, navBackground, navTitle, extraContainer, streamContainer} = this.$refs;
                extraContainer.style.left = (streamContainer.offsetWidth - extraContainer.offsetWidth) + 'px';
            },
            navBarHeight() {
                return this.$refs.navBar.offsetHeight;
            },
            pageHeadHeight() {
                return this.$refs.pageHead.offsetHeight;
            },
            toggleDrawer() {
                this.isDrawerOpen = !this.isDrawerOpen;
                document.getElementsByTagName('html')[0].style.overflow = this.isDrawerOpen ? 'hidden' : 'unset';
            },
            closeDrawer() {
                this.isDrawerOpen = false;
                document.getElementsByTagName('html')[0].style.overflow = this.isDrawerOpen ? 'hidden' : 'unset';
            },
            toggleDarkMode() {
                this.isDarkMode = !this.isDarkMode;
                if (this.isDarkMode==true){
                    document.cookie = "night=1;path=/";
                    document.body.classList.add("night");
                } else {
                    document.cookie = "night=0;path=/";
                    document.body.classList.remove("night");
                }
            },
            debounce(func, wait, options) {
                let lastArgs,
                    lastThis,
                    maxWait,
                    result,
                    timerId,
                    lastCallTime

                let lastInvokeTime = 0
                let leading = false
                let maxing = false
                let trailing = true

                
                const useRAF = (!wait && wait !== 0 && typeof root.requestAnimationFrame === 'function')

                if (typeof func !== 'function') {
                    throw new TypeError('Expected a function')
                }
                function isObject(value) {
                    const type = typeof value
                    return value != null && (type === 'object' || type === 'function')
                }

                wait = +wait || 0
                if (isObject(options)) {
                    leading = !!options.leading
                    maxing = 'maxWait' in options
                    maxWait = maxing ? Math.max(+options.maxWait || 0, wait) : maxWait
                    trailing = 'trailing' in options ? !!options.trailing : trailing
                }

                function invokeFunc(time) {
                    const args = lastArgs
                    const thisArg = lastThis

                    lastArgs = lastThis = undefined
                    lastInvokeTime = time
                    result = func.apply(thisArg, args)
                    return result
                }

                function startTimer(pendingFunc, wait) {
                    if (useRAF) {
                    root.cancelAnimationFrame(timerId)
                    return root.requestAnimationFrame(pendingFunc)
                    }
                    return setTimeout(pendingFunc, wait)
                }

                function cancelTimer(id) {
                    if (useRAF) {
                    return root.cancelAnimationFrame(id)
                    }
                    clearTimeout(id)
                }

                function leadingEdge(time) {
                    
                    lastInvokeTime = time
                    
                    timerId = startTimer(timerExpired, wait)
                    
                    return leading ? invokeFunc(time) : result
                }

                function remainingWait(time) {
                    const timeSinceLastCall = time - lastCallTime
                    const timeSinceLastInvoke = time - lastInvokeTime
                    const timeWaiting = wait - timeSinceLastCall

                    return maxing
                    ? Math.min(timeWaiting, maxWait - timeSinceLastInvoke)
                    : timeWaiting
                }

                function shouldInvoke(time) {
                    const timeSinceLastCall = time - lastCallTime
                    const timeSinceLastInvoke = time - lastInvokeTime

                    
                    
                    
                    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||
                    (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait))
                }

                function timerExpired() {
                    const time = Date.now()
                    if (shouldInvoke(time)) {
                    return trailingEdge(time)
                    }
                    
                    timerId = startTimer(timerExpired, remainingWait(time))
                }

                function trailingEdge(time) {
                    timerId = undefined

                    
                    
                    if (trailing && lastArgs) {
                    return invokeFunc(time)
                    }
                    lastArgs = lastThis = undefined
                    return result
                }

                function cancel() {
                    if (timerId !== undefined) {
                    cancelTimer(timerId)
                    }
                    lastInvokeTime = 0
                    lastArgs = lastCallTime = lastThis = timerId = undefined
                }

                function flush() {
                    return timerId === undefined ? result : trailingEdge(Date.now())
                }

                function pending() {
                    return timerId !== undefined
                }

                function debounced(...args) {
                    const time = Date.now()
                    const isInvoking = shouldInvoke(time)

                    lastArgs = args
                    lastThis = this
                    lastCallTime = time

                    if (isInvoking) {
                    if (timerId === undefined) {
                        return leadingEdge(lastCallTime)
                    }
                    if (maxing) {
                        
                        timerId = startTimer(timerExpired, wait)
                        return invokeFunc(lastCallTime)
                    }
                    }
                    if (timerId === undefined) {
                    timerId = startTimer(timerExpired, wait)
                    }
                    return result
                }
                debounced.cancel = cancel
                debounced.flush = flush
                debounced.pending = pending
                return debounced
                }

    },
    created() {
        window.addEventListener('scroll', this.handleScroll);
        window.addEventListener('resize', this.handleResize);
        window._nonDesktop = function () {
            let check = false;
            (function (a) {
                if (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0, 4))) check = true;
            })(navigator.userAgent || navigator.vendor || window.opera);
            return check;
        };
        
        var night = document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/, "$1");
        if (night==""){
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                
            }
        }else{
            
            if (night=="1") {
                this.toggleDarkMode();
            }
        }
    },
    mounted() {
        this.handleScroll();
        this.handleResize();
        this.mounted = true;

        
        
        
            twikoo.init({
                envId: "blog-9g6ht92ca9c564c6",
                el: '#tcomment',
                region:  null ,
            });
        

        document.querySelectorAll("table").forEach(function(elem){
            elem.classList.add("table-striped");
            elem.classList.add("table");
            elem.classList.add("table-responsive");
            elem.classList.add("table-hover");
        })

        
        spy();
        window.addEventListener('scroll', this.debounce(spy, 250, { 'maxWait': 250 }), false);
        
        
    },
    destroyed() {
        window.removeEventListener('scroll', this.handleScroll);
        window.removeEventListener('resize', this.handleResize);
    }
});



</script>
    </body>
</html>
