<!DOCTYPE html>
<html><head>
<title>NLP &amp; LLMÂÖ•Èó®</title>




<meta charset="utf-8">
<meta name="X-UA-Compatible" content="IE=edge">
<meta name="google-site-verification" content="">
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
<meta content="telephone=no" name="format-detection">
<meta name="description" content="Â≠¶‰π†Â§ßÊ®°ÂûãÁöÑÂèëÂ±ïÂéÜÁ®ãÔºå‰∏ªÊµÅÊñπÊ≥ïÂíåÊ®°ÂûãÔºå‰ª•ÂèäËÆ≠ÁªÉÊñπÊ≥ï">
<meta name="renderer" content="webkit">
<meta name="theme-color" content="#ffffff">



<meta property="og:title" content="NLP &amp; LLMÂÖ•Èó®" />
<meta property="og:description" content="Â≠¶‰π†Â§ßÊ®°ÂûãÁöÑÂèëÂ±ïÂéÜÁ®ãÔºå‰∏ªÊµÅÊñπÊ≥ïÂíåÊ®°ÂûãÔºå‰ª•ÂèäËÆ≠ÁªÉÊñπÊ≥ï" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://caixiongjiang.github.io/blog/2024/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%BA%94%E7%94%A8/nlpllm/" /><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2024-01-18T18:18:05+08:00" />
<meta property="article:modified_time" content="2024-01-19T09:19:06+08:00" />
<meta property="og:see_also" content="https://caixiongjiang.github.io/blog/2024/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%BA%94%E7%94%A8/vllm%E5%B9%B6%E5%8F%91/" /><meta property="og:see_also" content="https://caixiongjiang.github.io/blog/2024/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%BA%94%E7%94%A8/langchain%E5%85%A5%E9%97%A8/" /><meta property="og:see_also" content="https://caixiongjiang.github.io/blog/2023/llm/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E9%AB%98%E6%95%88%E5%BE%AE%E8%B0%83%E6%8A%80%E6%9C%AF/" />











<link type="text/css" rel="stylesheet" href="/vendor/css/bootstrap.min.css">
<script src="/vendor/js/vue.min.js" ></script>


  




<link rel="icon" href="https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/avater.jfif">



<link rel="stylesheet" href="https://caixiongjiang.github.io/scss/journal.min.3f72a5fc8f5b5dd732a4b476aced0eece2156958d9d414316494ddb10593ddf7.css" integrity="sha256-P3Kl/I9bXdcypLR2rO0O7OIVaVjZ1BQxZJTdsQWT3fc=" media="screen">



<link rel="stylesheet" href="https://caixiongjiang.github.io/scss/dark-mode.min.c0082f0b082177f6fb3768ff91439a097de49689bd26f4d49f76d94ebb81e02d.css" integrity="sha256-wAgvCwghd/b7N2j/kUOaCX3klom9JvTUn3bZTruB4C0=" media="screen">


<script src="/js/loadCSS.js"></script>
<script>
  loadCSS("https://fonts.googleapis.com/css?family=Fira+Mono|Material+Icons");
</script>


  
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script>
MathJax = {
  tex: {
    inlineMath: [['$', '$'], ['\\(', '\\)']]
  },
  svg: {
    fontCache: 'global'
  }
};
</script>
<script type="text/javascript" id="MathJax-script"
async
src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
MathJax.Hub.Queue(function() {



var all = MathJax.Hub.getAllJax(), i;
for(i = 0; i < all.length; i += 1) {
all[i].SourceElement().parentNode.className += ' has-jax';
}
});
</script>

<style>
code.has-jax {
font: inherit;
font-size: 100%;
background: inherit;
border: inherit;
color: #515151;
}
</style>





  
    <script src="/js/toc.js"></script>
  











<script src="https://cdn.jsdelivr.net/npm/twikoo@1.5.11/dist/twikoo.all.min.js"></script>




</head>
<body>
    	<div id="app"><div ref="sideContainer" class="side-container">
    
    <a class="a-block nav-head false" href="https://caixiongjiang.github.io/">
    
        <div class="nav-title">
            üåÄJarson Cai&#39;s Blog
        </div>
        
        <div class="nav-subtitle">
            Â§¥ËÑëÊòØÊó•Áî®ÂìÅÔºå‰∏çÊòØË£ÖÈ•∞ÂìÅ
        </div>
        
    </a>

    <div class="nav-link-list">
        
        
            
            
            
                
            
            
            
            <a class="a-block nav-link-item active" href="/blog">
                ÊñáÁ´†üìñ
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/categories">
                ÂàÜÁ±ªüìå
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/tags">
                Ê†áÁ≠æüè∑Ô∏è
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/series">
                Á≥ªÂàóüìö
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/archive">
                ÂΩíÊ°£üìÉ
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/about">
                ÂÖ≥‰∫éüëã
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/friends">
                ÂèãÈìæüîó
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/index.xml">
                RSSüì¢
            </a>
            
        
    </div>

    

    <div class="nav-footer">
        
<a href="https://github.com/caixiongjiang">
    GitHub
</a>
<br>

<a href="mailto:nau_cxj@163.com">
    Email
</a>
<br>

<a href="https://leetcode-cn.com/u/cai-xiong-jiang/">
    Leetcode
</a>
<br>

        <hr>
        
È≠îÊîπËá™ <a href="https://github.com/riba2534/hugo-blog">Riba2534</a> by <a href="https://caixiongjiang.github.io">Jarson Cai</a>
<br>

&copy;
	
	2024 üåÄJarson Cai&#39;s Blog
	
    </div>
    
</div><div ref="extraContainer" class="extra-container">
    
    
    <div class="toc animated-visibility" :class="{ invisible: scrollY <= 140 }">


	<div class="toc-content">
	
		
		
		
		<center>- ÁõÆÂΩï -</center>
		
		
		<ul>
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#nlp--llm%e5%85%a5%e9%97%a8" onclick="onNavClick(`#nlp--llmÂÖ•Èó®-nav`)" id="nlp--llmÂÖ•Èó®-nav">
									NLP &amp; LLMÂÖ•Èó®
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#llm%e5%8f%91%e5%b1%95" onclick="onNavClick(`#llmÂèëÂ±ï-nav`)" id="llmÂèëÂ±ï-nav">
									LLMÂèëÂ±ï
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e5%8f%8c%e5%90%91rnn%e4%b8%ad%e7%9a%84%e6%b3%a8%e6%84%8f%e5%8a%9b" onclick="onNavClick(`#ÂèåÂêërnn‰∏≠ÁöÑÊ≥®ÊÑèÂäõ-nav`)" id="ÂèåÂêërnn‰∏≠ÁöÑÊ≥®ÊÑèÂäõ-nav">
									ÂèåÂêëRNN‰∏≠ÁöÑÊ≥®ÊÑèÂäõ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#transformer" onclick="onNavClick(`#transformer-nav`)" id="transformer-nav">
									Transformer
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#post-ln-vs-pre-ln-transformer" onclick="onNavClick(`#post-ln-vs-pre-ln-transformer-nav`)" id="post-ln-vs-pre-ln-transformer-nav">
									Post-LN vs Pre-LN Transformer
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#nlp%e4%b8%ad%e7%9a%84%e8%ae%ad%e7%bb%83%e8%8c%83%e5%bc%8f" onclick="onNavClick(`#nlp‰∏≠ÁöÑËÆ≠ÁªÉËåÉÂºè-nav`)" id="nlp‰∏≠ÁöÑËÆ≠ÁªÉËåÉÂºè-nav">
									NLP‰∏≠ÁöÑËÆ≠ÁªÉËåÉÂºè
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#bert" onclick="onNavClick(`#bert-nav`)" id="bert-nav">
									BERT
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#gpt-1" onclick="onNavClick(`#gpt-1-nav`)" id="gpt-1-nav">
									GPT-1
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#bart" onclick="onNavClick(`#bart-nav`)" id="bart-nav">
									BART
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#llm%e9%80%9a%e7%94%a8%e6%9e%b6%e6%9e%84%e5%88%86%e7%b1%bb" onclick="onNavClick(`#llmÈÄöÁî®Êû∂ÊûÑÂàÜÁ±ª-nav`)" id="llmÈÄöÁî®Êû∂ÊûÑÂàÜÁ±ª-nav">
									LLMÈÄöÁî®Êû∂ÊûÑÂàÜÁ±ª
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e4%b8%bb%e6%b5%81llm" onclick="onNavClick(`#‰∏ªÊµÅllm-nav`)" id="‰∏ªÊµÅllm-nav">
									‰∏ªÊµÅLLM
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#chatglm" onclick="onNavClick(`#chatglm-nav`)" id="chatglm-nav">
									ChatGLM
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#qwen" onclick="onNavClick(`#qwen-nav`)" id="qwen-nav">
									Qwen
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#baichuan" onclick="onNavClick(`#baichuan-nav`)" id="baichuan-nav">
									Baichuan
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#llama" onclick="onNavClick(`#llama-nav`)" id="llama-nav">
									llama
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#gpt%e7%b3%bb%e5%88%97" onclick="onNavClick(`#gptÁ≥ªÂàó-nav`)" id="gptÁ≥ªÂàó-nav">
									GPTÁ≥ªÂàó
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#deepseek" onclick="onNavClick(`#deepseek-nav`)" id="deepseek-nav">
									DeepSeek
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#llm%e8%ae%ad%e7%bb%83" onclick="onNavClick(`#llmËÆ≠ÁªÉ-nav`)" id="llmËÆ≠ÁªÉ-nav">
									LLMËÆ≠ÁªÉ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#common-nlu%e5%92%8cnlg%e4%bb%bb%e5%8a%a1" onclick="onNavClick(`#common-nluÂíånlg‰ªªÂä°-nav`)" id="common-nluÂíånlg‰ªªÂä°-nav">
									Common NLUÂíåNLG‰ªªÂä°
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e5%a4%a7%e6%a8%a1%e5%9e%8b%e5%ba%94%e7%94%a8%e8%ae%ad%e7%bb%83%e9%80%89%e6%8b%a9" onclick="onNavClick(`#Â§ßÊ®°ÂûãÂ∫îÁî®ËÆ≠ÁªÉÈÄâÊã©-nav`)" id="Â§ßÊ®°ÂûãÂ∫îÁî®ËÆ≠ÁªÉÈÄâÊã©-nav">
									Â§ßÊ®°ÂûãÂ∫îÁî®ËÆ≠ÁªÉÈÄâÊã©
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#peft" onclick="onNavClick(`#peft-nav`)" id="peft-nav">
									PEFT
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e6%a3%80%e7%b4%a2%e5%a2%9e%e5%bc%ba%e7%94%9f%e6%88%90" onclick="onNavClick(`#Ê£ÄÁ¥¢Â¢ûÂº∫ÁîüÊàê-nav`)" id="Ê£ÄÁ¥¢Â¢ûÂº∫ÁîüÊàê-nav">
									Ê£ÄÁ¥¢Â¢ûÂº∫ÁîüÊàê
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#rlhf%e8%ae%ad%e7%bb%83" onclick="onNavClick(`#rlhfËÆ≠ÁªÉ-nav`)" id="rlhfËÆ≠ÁªÉ-nav">
									RLHFËÆ≠ÁªÉ
								</a>
							</li>
						
						
					
				
			
		</ul>
	</div>

</div>
    
    <div class="pagination">
        <a id="globalBackToTop" class="pagination-action animated-visibility" href="#top" :class="{ invisible: scrollY == 0 }">
            <i class="material-icons pagination-action-icon">
                keyboard_arrow_up
            </i>
        </a>
        
        <a class="pagination-action" v-on:click="toggleDarkMode">
            <i class="material-icons pagination-action-icon" v-if="isDarkMode">
                brightness_4
            </i>
            <i class="material-icons pagination-action-icon" v-else="isDarkMode">
                brightness_7
            </i>
        </a>
        
        
    </div>
</div>
<div class="single-column-drawer-container" ref="drawer"
     v-bind:class="{ 'single-column-drawer-container-active': isDrawerOpen }">
    <div class="drawer-content">
        <div class="drawer-menu">
            
            
            
                
                
                
                    
                
                
                
                <a class="a-block drawer-menu-item active" href="/blog">
                    ÊñáÁ´†üìñ
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/categories">
                    ÂàÜÁ±ªüìå
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/tags">
                    Ê†áÁ≠æüè∑Ô∏è
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/series">
                    Á≥ªÂàóüìö
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/archive">
                    ÂΩíÊ°£üìÉ
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/about">
                    ÂÖ≥‰∫éüëã
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/friends">
                    ÂèãÈìæüîó
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/index.xml">
                    RSSüì¢
                </a>
                
            
            
            <div class="toc">


	<div class="toc-content">
	
		
		
		
		<center>- ÁõÆÂΩï -</center>
		
		
		<ul>
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#nlp--llm%e5%85%a5%e9%97%a8" onclick="onNavClick(`#nlp--llmÂÖ•Èó®-nav`)" id="nlp--llmÂÖ•Èó®-nav">
									NLP &amp; LLMÂÖ•Èó®
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#llm%e5%8f%91%e5%b1%95" onclick="onNavClick(`#llmÂèëÂ±ï-nav`)" id="llmÂèëÂ±ï-nav">
									LLMÂèëÂ±ï
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e5%8f%8c%e5%90%91rnn%e4%b8%ad%e7%9a%84%e6%b3%a8%e6%84%8f%e5%8a%9b" onclick="onNavClick(`#ÂèåÂêërnn‰∏≠ÁöÑÊ≥®ÊÑèÂäõ-nav`)" id="ÂèåÂêërnn‰∏≠ÁöÑÊ≥®ÊÑèÂäõ-nav">
									ÂèåÂêëRNN‰∏≠ÁöÑÊ≥®ÊÑèÂäõ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#transformer" onclick="onNavClick(`#transformer-nav`)" id="transformer-nav">
									Transformer
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#post-ln-vs-pre-ln-transformer" onclick="onNavClick(`#post-ln-vs-pre-ln-transformer-nav`)" id="post-ln-vs-pre-ln-transformer-nav">
									Post-LN vs Pre-LN Transformer
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#nlp%e4%b8%ad%e7%9a%84%e8%ae%ad%e7%bb%83%e8%8c%83%e5%bc%8f" onclick="onNavClick(`#nlp‰∏≠ÁöÑËÆ≠ÁªÉËåÉÂºè-nav`)" id="nlp‰∏≠ÁöÑËÆ≠ÁªÉËåÉÂºè-nav">
									NLP‰∏≠ÁöÑËÆ≠ÁªÉËåÉÂºè
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#bert" onclick="onNavClick(`#bert-nav`)" id="bert-nav">
									BERT
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#gpt-1" onclick="onNavClick(`#gpt-1-nav`)" id="gpt-1-nav">
									GPT-1
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#bart" onclick="onNavClick(`#bart-nav`)" id="bart-nav">
									BART
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#llm%e9%80%9a%e7%94%a8%e6%9e%b6%e6%9e%84%e5%88%86%e7%b1%bb" onclick="onNavClick(`#llmÈÄöÁî®Êû∂ÊûÑÂàÜÁ±ª-nav`)" id="llmÈÄöÁî®Êû∂ÊûÑÂàÜÁ±ª-nav">
									LLMÈÄöÁî®Êû∂ÊûÑÂàÜÁ±ª
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e4%b8%bb%e6%b5%81llm" onclick="onNavClick(`#‰∏ªÊµÅllm-nav`)" id="‰∏ªÊµÅllm-nav">
									‰∏ªÊµÅLLM
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#chatglm" onclick="onNavClick(`#chatglm-nav`)" id="chatglm-nav">
									ChatGLM
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#qwen" onclick="onNavClick(`#qwen-nav`)" id="qwen-nav">
									Qwen
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#baichuan" onclick="onNavClick(`#baichuan-nav`)" id="baichuan-nav">
									Baichuan
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#llama" onclick="onNavClick(`#llama-nav`)" id="llama-nav">
									llama
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#gpt%e7%b3%bb%e5%88%97" onclick="onNavClick(`#gptÁ≥ªÂàó-nav`)" id="gptÁ≥ªÂàó-nav">
									GPTÁ≥ªÂàó
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#deepseek" onclick="onNavClick(`#deepseek-nav`)" id="deepseek-nav">
									DeepSeek
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#llm%e8%ae%ad%e7%bb%83" onclick="onNavClick(`#llmËÆ≠ÁªÉ-nav`)" id="llmËÆ≠ÁªÉ-nav">
									LLMËÆ≠ÁªÉ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#common-nlu%e5%92%8cnlg%e4%bb%bb%e5%8a%a1" onclick="onNavClick(`#common-nluÂíånlg‰ªªÂä°-nav`)" id="common-nluÂíånlg‰ªªÂä°-nav">
									Common NLUÂíåNLG‰ªªÂä°
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e5%a4%a7%e6%a8%a1%e5%9e%8b%e5%ba%94%e7%94%a8%e8%ae%ad%e7%bb%83%e9%80%89%e6%8b%a9" onclick="onNavClick(`#Â§ßÊ®°ÂûãÂ∫îÁî®ËÆ≠ÁªÉÈÄâÊã©-nav`)" id="Â§ßÊ®°ÂûãÂ∫îÁî®ËÆ≠ÁªÉÈÄâÊã©-nav">
									Â§ßÊ®°ÂûãÂ∫îÁî®ËÆ≠ÁªÉÈÄâÊã©
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#peft" onclick="onNavClick(`#peft-nav`)" id="peft-nav">
									PEFT
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e6%a3%80%e7%b4%a2%e5%a2%9e%e5%bc%ba%e7%94%9f%e6%88%90" onclick="onNavClick(`#Ê£ÄÁ¥¢Â¢ûÂº∫ÁîüÊàê-nav`)" id="Ê£ÄÁ¥¢Â¢ûÂº∫ÁîüÊàê-nav">
									Ê£ÄÁ¥¢Â¢ûÂº∫ÁîüÊàê
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#rlhf%e8%ae%ad%e7%bb%83" onclick="onNavClick(`#rlhfËÆ≠ÁªÉ-nav`)" id="rlhfËÆ≠ÁªÉ-nav">
									RLHFËÆ≠ÁªÉ
								</a>
							</li>
						
						
					
				
			
		</ul>
	</div>

</div>
            
        </div>
    </div>
</div>
<transition name="fade">
    <div v-bind:class="{ 'single-column-drawer-mask': mounted }" v-if="isDrawerOpen" v-on:click="toggleDrawer"></div>
</transition>
<nav ref="navBar" class="navbar sticky-top navbar-light single-column-nav-container">
    <div ref="navBackground" class="nav-background"></div>
    <div class="container container-narrow nav-content">
        <button id="nav_dropdown_btn" class="nav-dropdown-toggle" type="button" v-on:click="toggleDrawer">
            <i class="material-icons">
                menu
            </i>
        </button>
        <a ref="navTitle" class="navbar-brand" href="https://caixiongjiang.github.io/">
            üåÄJarson Cai&#39;s Blog
        </a>
        
        <button type="button" class="nav-darkmode-toggle" v-on:click="toggleDarkMode">
            <i class="material-icons" v-if="isDarkMode">
                brightness_4
            </i>
            <i class="material-icons" v-else="isDarkMode">
                brightness_7
            </i>
        </button>
        
    </div>
</nav>
<div class="single-column-header-container" ref="pageHead"
     v-bind:style="{ transform: 'translateZ(0px) translateY('+.3*scrollY+'px)', opacity: 1-navOpacity }">
    <a href="https://caixiongjiang.github.io/">
        <div class="single-column-header-title">üåÄJarson Cai&#39;s Blog</div>
        
        <div class="single-column-header-subtitle">Â§¥ËÑëÊòØÊó•Áî®ÂìÅÔºå‰∏çÊòØË£ÖÈ•∞ÂìÅ</div>
        

    </a>
</div>

            <div id="content">
<div ref="streamContainer" class="stream-container">
    <div class="post-list-container post-list-container-shadow">
        <div class="post">
            
            
            
                
            

            <div class="post-head-wrapper"
                
                    
                    
                    style="background-image: url('https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/LLM/LLM_title.jpg')"
                    
                
            >
                <div class="post-title">
                    NLP &amp; LLMÂÖ•Èó®
                    
                    <div class="post-subtitle">
                        Â≠¶‰π†Â§ßÊ®°ÂûãÁöÑÂèëÂ±ïÂéÜÁ®ãÔºå‰∏ªÊµÅÊñπÊ≥ïÂíåÊ®°ÂûãÔºå‰ª•ÂèäËÆ≠ÁªÉÊñπÊ≥ï
                    </div>
                    
                    <div class="post-meta">
                        
                        <time itemprop="datePublished">
                            2024-01-18 18:18
                        </time>
                        

                        
                            <i class="material-icons" style="">folder</i>
                                <a href="/categories/">[Â§ßÊ®°Âûã]</a>
                                &nbsp;
                        

                        
                            <i class="material-icons" style="">label</i>
                            
                                <a href="/tags/deep_learning">Deep_learning</a>
                                &nbsp;
                            
                        
                        
                            <i class="material-icons" style="">schedule</i>
                            

                            
                            

                            
                            28 min
                            
                            50 s.
                        
                    </div>
                </div>
            </div>
            
            <div class="post-body-wrapper">
                
                <div class="post-body" v-pre>
                
                    <h2 id="nlp--llmÂÖ•Èó®">NLP &amp; LLMÂÖ•Èó®</h2>
<p>ÂØπ‰∫é‰∏Ä‰∏™LLMËèúÈ∏°Êù•ËØ¥Ôºå‰ªéÂ§¥ÁêÜËß£LLM‰∏ªË¶ÅÊû∂ÊûÑÂíå‰ªªÂä°ÊòØÂæàÊúâÊÑè‰πâÁöÑ„ÄÇ</p>
<h3 id="llmÂèëÂ±ï">LLMÂèëÂ±ï</h3>
<h4 id="ÂèåÂêërnn‰∏≠ÁöÑÊ≥®ÊÑèÂäõ">ÂèåÂêëRNN‰∏≠ÁöÑÊ≥®ÊÑèÂäõ</h4>
<p>ËÆ∫ÊñáÔºö<strong>Neural Machine Translation by Jointly Learning to Align and Translate</strong></p>
<p>ÈìæÊé•Ôºö<a href="https://arxiv.org/pdf/1409.0473.pdf">https://arxiv.org/pdf/1409.0473.pdf</a></p>
<p>ËØ•ËÆ∫ÊñáÂºïÂÖ•‰∫ÜÂæ™ÁéØÁ•ûÁªèÁΩëÁªúÔºàRNNÔºâÁöÑÊ≥®ÊÑèÂäõÊú∫Âà∂„ÄÇ‰º†ÁªüÁöÑ RNN Âú®Â§ÑÁêÜËæÉÈïøÂ∫èÂàóÊó∂ÂèØËÉΩ‰ºöÈÅáÂà∞Ê¢ØÂ∫¶Ê∂àÂ§±ÊàñÊ¢ØÂ∫¶ÁàÜÁÇ∏Á≠âÈóÆÈ¢òÔºåÂØºËá¥ËøúÁ®ã‰ΩçÁΩÆÁöÑ‰ø°ÊÅØÈöæ‰ª•‰º†ÈÄí„ÄÇÊ≥®ÊÑèÂäõÊú∫Âà∂ËÉΩÂ§üÈÄöËøáÁªô‰∫à‰∏çÂêå‰ΩçÁΩÆÁöÑËæìÂÖ•‰∏çÂêåÁöÑÊùÉÈáçÔºå‰ΩøÊ®°ÂûãÊõ¥Â•ΩÂú∞ÊçïÊçâÂà∞ËøúÁ®ã‰ΩçÁΩÆÁöÑ‰ø°ÊÅØÔºå‰ªéËÄåÊèêÈ´òÊ®°ÂûãÂ§ÑÁêÜËøúÁ®ãÂ∫èÂàóÁöÑËÉΩÂäõ„ÄÇÂêéÁª≠TransformerÁΩëÁªúÁöÑÂºÄÂèë‰πüÊòØ‰∏∫‰∫ÜÊèêÈ´òÁΩëÁªúÁöÑËøúÁ®ãÂ∫èÂàóÂª∫Ê®°ËÉΩÂäõ„ÄÇ</p>
<p><img src="https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/LLM/img30.jpg" alt=""></p>
<h4 id="transformer">Transformer</h4>
<p>ËÆ∫ÊñáÔºö<strong>Attention Is All You Need</strong></p>
<p>ÈìæÊé•Ôºö<a href="https://proceedings.neurips.cc/paper/2017/file/3f5ee243547dee91fbd053c1c4a845aa-Paper.pdf">https://proceedings.neurips.cc/paper/2017/file/3f5ee243547dee91fbd053c1c4a845aa-Paper.pdf</a></p>
<p>Êó†ËÆ∫ÊòØÂÅöNLPËøòÊòØÂÅöCVÔºåËøôÁØáËÆ∫ÊñáÂ§ßÂÆ∂Â∫îËØ•ÈÉΩÂæàÁÜüÊÇâ„ÄÇTransformerÊòØ‰∏Ä‰∏™ÁºñÁ†ÅÂô®Ëß£Á†ÅÂô®ÁªìÊûÑÔºåÂÖ∂ÂºïÂÖ•‰∫Ü‰ΩçÁΩÆÁºñÁ†ÅÔºå‰ΩøÂæóÊ®°ÂûãËÉΩÂ§üÁõ¥Êé•ÁúãÂà∞ÂÖ®Â±ÄÁöÑ‰ø°ÊÅØÔºåÊõ¥ÊúâÂà©‰∫éÂ∫èÂàóÁöÑÈïøË∑ùÁ¶ªÂª∫Ê®°„ÄÇÂÖ∂‰∏ªË¶ÅÁöÑÁªìÊûÑTransformer Block‰∏ªË¶ÅÁî±‰∏Ä‰∏™Â§öÂ§¥Ëá™Ê≥®ÊÑèÂäõÂíå‰∏Ä‰∏™ÂâçÂêë‰º†Êí≠ÁΩëÁªúÔºàFFNÔºâÁªÑÊàêÔºåÂÜÖÈÉ®ÁöÑÂΩí‰∏ÄÂåñ‰ΩøÁî®ÁöÑÊòØLayer NormalÔºåËøôÂèØ‰ª•ÊëÜËÑ±ËÆ≠ÁªÉÊâπÊ¨°ÂØπÊ®°ÂûãËÆ≠ÁªÉÊÄßËÉΩÁöÑÂΩ±Âìç„ÄÇ</p>
<p><img src="https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/LLM/img31.jpg" alt=""></p>
<h4 id="post-ln-vs-pre-ln-transformer">Post-LN vs Pre-LN Transformer</h4>
<p>ËÆ∫ÊñáÔºö<strong>On Layer Normalization in the Transformer Architecture</strong></p>
<p>ÈìæÊé•Ôºö<a href="https://proceedings.mlr.press/v119/xiong20b/xiong20b.pdf">https://proceedings.mlr.press/v119/xiong20b/xiong20b.pdf</a></p>
<p>ËØ•ËÆ∫ÊñáÊèêÂá∫TransformerÁªìÊûÑ‰∏≠ÁöÑLayer NormalÁªìÊûÑÁöÑ‰ΩçÁΩÆÂ∫îËØ•ÊîæÁΩÆÂú®Â§öÂ§¥Ê≥®ÊÑèÂäõÂíåFFN‰πãÂâç„ÄÇËØ•ËÆ∫ÊñáË°®Êòé‰∫ÜPre-LNÁöÑÁªìÊûÑÊØîÂÖàÂâçÁöÑPost-LNÊïàÊûúÊõ¥‰Ω≥ÔºåËß£ÂÜ≥‰∫ÜÊ¢ØÂ∫¶ÈóÆÈ¢òÔºåËÆ∏Â§öÊû∂ÊûÑÂú®ÂÆûË∑µ‰∏≠ÈááÁî®‰∫ÜËøô‰∏ÄÁÇπÔºå‰ΩÜË°®Á§∫ÂÆÉÊúâÂèØËÉΩÂØºËá¥Â¥©Ê∫É„ÄÇÂÖ≥‰∫é‰ΩøÁî®Post-LNÂíåPre-LNÁöÑ‰∫âËÆ∫ÁõÆÂâçËøòÂú®ÔºåÂèØ‰ª•ÂÖ≥Ê≥®ÂêéÁª≠ÁöÑÂèëÂ±ï„ÄÇ</p>
<p><img src="https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/LLM/img32.jpg" alt=""></p>
<h4 id="nlp‰∏≠ÁöÑËÆ≠ÁªÉËåÉÂºè">NLP‰∏≠ÁöÑËÆ≠ÁªÉËåÉÂºè</h4>
<p>ËÆ∫ÊñáÔºö<strong>Universal Language Model Fine-tuning for Text Classification</strong></p>
<p>ÈìæÊé•Ôºö<a href="https://arxiv.org/pdf/1801.06146.pdf">https://arxiv.org/pdf/1801.06146.pdf</a></p>
<p>È¢ÑËÆ≠ÁªÉÂæÆË∞ÉÁöÑËåÉÂºèÊúÄÊó©ÊòØÂú®CVÁïåÂπøÊ≥õÂ∫îÁî®„ÄÇÊó©ÊúüNLP‰∏≠ÁöÑÈ¢ÑËÆ≠ÁªÉÂæÆË∞ÉÁöÑÂ∫îÁî®‰∏çÂπøÊ≥õÔºåÂ§ßÈÉ®ÂàÜÁ†îÁ©∂ÈÉΩÊòØ‰ªéÂ§¥ÂºÄÂßãËÆ≠ÁªÉÁöÑÔºåÂ∞ëÊï∞ËøõË°åÁöÑÈ¢ÑËÆ≠ÁªÉÂæÆË∞ÉÁöÑÊïàÊûúÂπ∂‰∏çÂ•ΩÔºåÊØîÈöèÊú∫ÂàùÂßãÂåñÁöÑÁªìÊûúËøòÂ∑ÆÔºåÊàñËÄÖÈúÄË¶ÅÂæàÂ§öÁöÑÊï∞ÊçÆÈõÜ‰Ωú‰∏∫È¢ÑËÆ≠ÁªÉÁöÑËØ≠ÊñôÂ∫ì„ÄÇËØ•ËÆ∫ÊñáÊ†πÊçÆCVÊ®°ÂûãÂíåNLPÊ®°Âûã‰∏çÂêåÁöÑÊû∂ÊûÑÔºåËÆæËÆ°‰∫Ü‰∏âÂ±ÇÂÆåÂÖ®Áõ∏ÂêåÁöÑLSTMÁΩëÁªúÊãºÊé•ÁöÑÈ¢ÑËÆ≠ÁªÉÁΩëÁªú„ÄÇ</p>
<p><img src="https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/LLM/img33.jpg" alt=""></p>
<p>‰∏äÂõæÊâÄÁ§∫Âç≥‰∏∫ËØ•ËÆ∫ÊñáÊèêÂá∫ÁöÑËØ≠Ë®ÄÊ®°ÂûãÁöÑÈ¢ÑËÆ≠ÁªÉÂæÆË∞ÉÁöÑËåÉÂºèULMFitÔºåÂÖ∂‰∏ªË¶ÅÂàÜ‰∏∫‰∏â‰∏™Èò∂ÊÆµÔºö</p>
<ol>
<li>Âú®Â§ßÈáèÊñáÊú¨ËØ≠ÊñôÂ∫ì‰∏äËÆ≠ÁªÉËØ≠Ë®ÄÊ®°Âûã</li>
<li>Âú®ÁâπÂÆö‰ªªÂä°Êï∞ÊçÆ‰∏äÂæÆË∞ÉÊ≠§È¢ÑËÆ≠ÁªÉÁöÑËØ≠Ë®ÄÊ®°ÂûãÔºå‰ΩøÂÖ∂ËÉΩÈÄÇÂ∫îÊñáÊú¨ÁöÑÁâπÂÆöÈ£éÊ†ºÂíåËØçÊ±á„ÄÇ</li>
<li>ÂØπÁâπÂÆö‰ªªÂä°Êï∞ÊçÆÁöÑÂàÜÁ±ªÂô®ËøõË°åÂæÆË∞ÉÔºåÈÄêÊ≠•Ëß£ÂÜªÂ±ÇÔºåÈÅøÂÖçÁÅæÈöæÊÄßÈÅóÂøò„ÄÇ</li>
</ol>
<p>Ëøô‰∏™ËÆ≠ÁªÉËåÉÂºèÔºàÂú®Â§ßÂûãËØ≠ÊñôÂ∫ì‰∏äËÆ≠ÁªÉËØ≠Ë®ÄÊ®°ÂûãÔºåÁÑ∂ÂêéÂú®‰∏ãÊ∏∏‰ªªÂä°‰∏äËøõË°åÂæÆË∞ÉÔºâÊòØÂêéÁª≠Âü∫‰∫éTransformerÁöÑÊ®°ÂûãÂíåÂü∫Á°ÄÊ®°ÂûãÔºàÂ¶ÇBERT„ÄÅGPT-2/3/4„ÄÅRoBERTaÁ≠âÔºâ‰∏≠‰ΩøÁî®ÁöÑ‰∏≠ÂøÉÊñπÊ≥ï„ÄÇ</p>
<p>ÁÑ∂ËÄåÔºåÂú®‰ΩøÁî®TransformerÊû∂ÊûÑÊó∂Ôºå<strong>ÈÄêÊ∏êËß£ÂÜªÂú®ÂÆûË∑µ‰∏≠ÈÄöÂ∏∏‰∏ç‰ºö‰æãË°åÂÆåÊàêÔºåÊâÄÊúâÂ±ÇÈÄöÂ∏∏ÈÉΩÂêåÊó∂ËøõË°åÂæÆË∞É</strong>„ÄÇ</p>
<h4 id="bert">BERT</h4>
<p>ËÆ∫ÊñáÔºö<strong>BERT: Pre-training of Deep Bidirectional Transformers for Language Understanding</strong></p>
<p>ÈìæÊé•Ôºö<a href="https://arxiv.org/pdf/1810.04805.pdf">https://arxiv.org/pdf/1810.04805.pdf</a></p>
<p>BERTÊ®°ÂûãÁöÑÂü∫Á°ÄÁªìÊûÑÈááÁî®‰∫ÜÂéüÂßãÁöÑTransformerÁªìÊûÑÔºå‰ΩÜÊòØÂú®È¢ÑËÆ≠ÁªÉÂíåÂæÆË∞ÉÊó∂ÔºåBERTÈÉΩ‰ΩøÁî®‰∫ÜÂèåÂêëTransformerÊ®°Âûã„ÄÇ</p>
<p>BERTÁöÑËÆ≠ÁªÉËøáÁ®ãÂàÜ‰∏∫‰∏§‰∏™Èò∂ÊÆµÔºö</p>
<ol>
<li>Ê®°ÂûãÂú®Â§ßÂûãËØ≠ÊñôÂ∫ì‰∏≠ÂØπÊú™Ê†áËÆ∞ÁöÑÊï∞ÊçÆËøõË°åËÆ≠ÁªÉÔºöÔºà1ÔºâMasked Language ModelÔºàMLMÔºâÔºåBERTÂèØ‰ª•ÂÖ≥Ê≥®ÊñáÊú¨Â∑¶ËæπÁöÑ‰∏ä‰∏ãÊñáÂíåÂè≥ËæπÁöÑ‰∏ä‰∏ãÊñáÔºå‰∏∫‰∫ÜËÆ©ÊñáÊú¨ÈÄÇÂ∫îËøôÁßçÂèåÂêëÂÖ≥Ê≥®Ôºå‰ΩøÁî®ÂÆåÂûãÂ°´Á©∫ÁöÑÊñπÂºèÔºåÂè™È¢ÑÊµãËøô‰∫õË¢´Â±èËîΩÁöÑÂçïËØçÔºåËÄå‰∏çÊòØÈáçÂª∫Êï¥‰∏™ËæìÂÖ•„ÄÇ Ôºà2ÔºâNext Sentence PredictionÔºàNSPÔºâÔºå‰∏∫‰∫ÜËÆ≠ÁªÉÂè•Â≠ê‰πãÈó¥ÁöÑÂÖ≥Á≥ªÔºåÈÄöËøá‰∏ä‰∏ÄÂè•ÁöÑ‰ø°ÊÅØÊù•È¢ÑÊµã‰∏ã‰∏ÄÂè•„ÄÇ</li>
<li>ËΩΩÂÖ•È¢ÑËÆ≠ÁªÉÁöÑÂèÇÊï∞ÂàùÂßãÂåñÔºåÊâÄÊúâÂèÇÊï∞‰ΩøÁî®‰∏ãÊ∏∏‰ªªÂä°ÊúâÊ†áËÆ∞ÁöÑÊï∞ÊçÆËøõË°åÂæÆË∞É„ÄÇ</li>
</ol>
<p><img src="https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/LLM/img34.jpg" alt=""></p>
<h4 id="gpt-1">GPT-1</h4>
<p>ËÆ∫ÊñáÔºö<strong>Improving Language Understanding by Generative Pre-Training</strong></p>
<p>ÈìæÊé•Ôºö<a href="https://www.mikecaptain.com/resources/pdf/GPT-1.pdf">https://www.mikecaptain.com/resources/pdf/GPT-1.pdf</a></p>
<p>ÂÖàÂâçÁî®‰∫é‰∏çÂêåÁöÑÊñáÊú¨‰ªªÂä°‰∏äÈúÄË¶ÅÊ∑ªÂä†È¢ùÂ§ñÁöÑÁªìÊûÑÔºå‰ΩøÂæóÊ®°ÂûãÈúÄË¶ÅÂÆöÂà∂Âåñ„ÄÇGPTÊèêÂá∫‰ΩøÁî®ÈÅçÂéÜÂºèÊñπÊ≥ïÔºåÂ∞ÜÁªìÊûÑÂåñËæìÂÖ•ËΩ¨Âåñ‰∏∫ÊúâÂ∫èÂ∫èÂàóÔºåËøôÁßçËæìÂÖ•ËΩ¨ÂåñÈÅøÂÖç‰∫ÜË∑®‰ªªÂä°ÂØπ‰ªªÂä°ÂØπÊ®°ÂûãÊû∂ÊûÑÁöÑÂπøÊ≥õÊõ¥Êîπ„ÄÇÂÖ∑‰Ωì‰∏çÂêåÂ¶Ç‰ΩïËΩ¨ÂåñÁúã‰∏ãÂõæ‰∏≠ÁöÑÂè≥ËæπÈÉ®ÂàÜ„ÄÇ</p>
<p>GPTÁöÑËÆ≠ÁªÉËåÉÂºè‰∏éBERTÁ±ª‰ººÔºåÈÉΩÊòØÁé∞Âú®Â§ßÂûãÊó†Ê†áÁ≠æÊï∞ÊçÆ‰∏äËøõË°åËÆ≠ÁªÉÂêéÂú®ÊúâÊ†áÁ≠æÊï∞ÊçÆÁöÑÁõÆÊ†á‰ªªÂä°‰∏äËøõË°åÂæÆË∞É„ÄÇÂè™ÊòØGPTÊòØ‰∏Ä‰∏™Ëß£Á†ÅÂô®ÂºèÁöÑTransformerÊû∂ÊûÑÔºåÂÆÉÁöÑÊñáÊú¨Âª∫Ê®°ÊñπÂºè‰∏∫‰ª•‰∏äÊñá‰∏∫Âü∫Á°ÄÔºåÂéªÁîüÊàê‰∏ãÈù¢ÁöÑÊñáÊú¨ÔºàtokenÔºâÔºåËøôË°®ÊòéÊ®°ÂûãÂè™ËÉΩÂÖ≥Ê≥®Â∑¶‰æßÁöÑ‰ø°ÊÅØÊù•ÁîüÊàê‰∏ãÊñá„ÄÇGPTÁ≥ªÂàó‰πüË¢´ËØÅÊòéÂú®ÊñáÊú¨ÁîüÊàêÊñπÈù¢ÁöÑ‰ªªÂä°Êõ¥Âä†ÊúâÊïà„ÄÇ</p>
<p><img src="https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/LLM/img35.jpg" alt=""></p>
<h4 id="bart">BART</h4>
<p>ËÆ∫ÊñáÔºö<strong>BART: Denoising Sequence-to-Sequence Pre-training for Natural Language Generation, Translation, and Comprehension</strong></p>
<p>ÈìæÊé•Ôºö<a href="https://arxiv.org/pdf/1910.13461.pdf">https://arxiv.org/pdf/1910.13461.pdf</a></p>
<p>Â¶ÇÂâçÊâÄËø∞ÔºåBERTÂûãÁºñÁ†ÅÂô®È£éÊ†ºÁöÑLLMÈÄöÂ∏∏ÊòØÈ¢ÑÊµãÂª∫Ê®°‰ªªÂä°ÁöÑÈ¶ñÈÄâÔºåËÄåGPTÂûãËß£Á†ÅÂô®È£éÊ†ºÁöÑLLMÊõ¥ÊìÖÈïøÁîüÊàêÊñáÊú¨„ÄÇ‰∏∫‰∫ÜÂÖÖÂàÜÂà©Áî®Ëøô‰∏§ÊñπÈù¢ÔºåBARTÊ®°ÂûãÁªìÂêà‰∫ÜÁºñÁ†ÅÂô®ÂíåËß£Á†ÅÂô®ÈÉ®ÂàÜ„ÄÇ</p>
<p><img src="https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/LLM/img36.jpg" alt=""></p>
<h4 id="llmÈÄöÁî®Êû∂ÊûÑÂàÜÁ±ª">LLMÈÄöÁî®Êû∂ÊûÑÂàÜÁ±ª</h4>
<p>ËÆ∫ÊñáÔºö<strong>Harnessing the Power of LLMs in Practice: A Survey on ChatGPT and Beyond</strong></p>
<p>ÈìæÊé•Ôºö<a href="https://arxiv.org/pdf/2304.13712.pdf">https://arxiv.org/pdf/2304.13712.pdf</a></p>
<p>ÈÅµÂæ™ÂéüÂßãÁöÑTransformerÊû∂ÊûÑÔºåÂ§ßÂûãËØ≠Ë®ÄÊ®°ÂûãÁ†îÁ©∂ÂºÄÂßãÂêë‰∏§‰∏™ÊñπÂêëÂàÜÂèâÔºöÁî®‰∫éÊñáÊú¨ÂàÜÁ±ªÁ≠âÈ¢ÑÊµãÂª∫Ê®°‰ªªÂä°ÔºàNLUÔºâÁöÑÁºñÁ†ÅÂô®ÂºèÔºàEncoder-styleÔºâTransformerÂíåÁî®‰∫éÁøªËØë„ÄÅÊÄªÁªìÂíåÂÖ∂‰ªñÂΩ¢ÂºèÊñáÊú¨ÂàõÂª∫Á≠âÁîüÊàêÂª∫Ê®°‰ªªÂä°ÔºàNLGÔºâÁöÑËß£Á†ÅÂô®ÂºèÔºàDecoder-styleÔºâTransformer„ÄÇ</p>
<p><img src="https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/LLM/img37.jpg" alt=""></p>
<h3 id="‰∏ªÊµÅllm">‰∏ªÊµÅLLM</h3>
<h4 id="chatglm">ChatGLM</h4>
<p>ËÆ∫ÊñáÔºö<strong>GLM: General Language Model Pretraining with Autoregressive Blank InÔ¨Ålling</strong></p>
<p>ÈìæÊé•Ôºö<a href="https://arxiv.org/pdf/2103.10360.pdf">https://arxiv.org/pdf/2103.10360.pdf</a></p>
<p>Ëá™Âä®ÁºñÁ†ÅÊ®°ÂûãÔºà‰æãÂ¶ÇBERTÔºâ„ÄÅËá™Âä®ÂõûÂΩíÊ®°ÂûãÔºà‰æãÂ¶ÇGPTÔºâÂíåÁºñÁ†ÅÂô®-Ëß£Á†ÅÂô®Ê®°ÂûãÔºà‰æãÂ¶ÇT5Ôºâ„ÄÇÁÑ∂ËÄåÔºåÊ≤°Êúâ‰∏Ä‰∏™È¢ÑËÆ≠ÁªÉÊ°ÜÊû∂ÂØπ‰∏â‰∏™‰∏ªË¶ÅÁ±ªÂà´ÁöÑÊâÄÊúâ‰ªªÂä°Ë°®Áé∞ÊúÄÂ•ΩÔºåÂåÖÊã¨Ëá™ÁÑ∂ËØ≠Ë®ÄÁêÜËß£ÔºàNLUÔºâ„ÄÅÊó†Êù°‰ª∂ÁîüÊàêÂíåÊù°‰ª∂ÁîüÊàê„ÄÇ</p>
<p>GLMÈÄöËøáÊ∑ªÂä†2D‰ΩçÁΩÆÁºñÁ†ÅÂíåÂÖÅËÆ∏‰ªªÊÑèÈ°∫Â∫èÈ¢ÑÊµãË∑®Â∫¶Êù•ÊîπËøõÁ©∫ÁôΩÂ°´ÂÖÖÈ¢ÑËÆ≠ÁªÉÔºå‰ªéËÄåÂú®NLU‰ªªÂä°‰∏äÊØîBERTÂíåT5ÁöÑÊÄßËÉΩÊèêÈ´ò„ÄÇ</p>
<ul>
<li>‰ªªÂä°1ÔºöËá™Âä®ÂõûÂΩíÁ©∫ÁôΩÂ°´ÂÖÖ
<ul>
<li>maskÁöÑtokenÊñπÈù¢ÔºöÔºà1Ôºâ‰∏Ä‰∏™Âè•Â≠êÈöèÊú∫ÊäΩÂèñËøûÁª≠ÁöÑÂá†‰∏™tokenÔºå‰ΩøÁî®‰∏Ä‰∏™SpanÁõñ‰ΩèÔºåÂÜçÊääSpanÈöèÊú∫Êâì‰π±Ôºà‰∏∫‰∫ÜÂÖÖÂàÜÊçïÊçâ‰∏çÂêåSpan‰πãÂâçËßÅÁöÑ‰æùËµñÂÖ≥Á≥ªÔºå‰ΩøÁî®ÈöèÊú∫Ë∑®Â∫¶È°∫Â∫èÔºåÁ±ª‰ºº‰∫éÊéíÂàóËØ≠Ë®ÄÊ®°ÂûãÔºâ</li>
<li>Ë¢´maskÁöÑÈÉ®ÂàÜÔºöÔºà1ÔºâÂçïÂêëÊ≥®ÊÑèÂäõÔºàÂâçÈù¢È¢ÑÊµãÂêéÈù¢ÔºåÂ∏¶ÁÆ≠Â§¥ÔºâÔºà2Ôºâ‰∏çÂèÇ‰∏éÈ¢ÑÊµãÊ≤°ÊúâË¢´maskÁöÑÈÉ®ÂàÜ„ÄÇÔºàÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºâ</li>
<li>Ê≤°ÊúâË¢´maskÁöÑÈÉ®ÂàÜÔºöÂèåÂêëÊ≥®ÊÑèÂäõÔºàÂâçÂêéÂèåÂêëÈ¢ÑÊµãÔºå‰∏çÂ∏¶ÁÆ≠Â§¥Ôºâ</li>
</ul>
</li>
</ul>
<p><img src="https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/LLM/img40.jpg" alt=""></p>
<ul>
<li>2D‰ΩçÁΩÆÁºñÁ†ÅËøáÁ®ã</li>
</ul>
<p><img src="https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/LLM/img41.jpg" alt=""></p>
<p>ÂÖ∂‰∏≠(a)‰∏∫ÂéüÂßãÂ∫èÂàóÔºåË¢´ÂàÜ‰∏∫AÂíåB‰∏§‰∏™Â∫èÂàó„ÄÇÂõæ(d)‰∏≠Ë°®Á§∫‰∫ÜÂÖ∑‰ΩìÁöÑËá™Ê≥®ÊÑèÂäõmask„ÄÇ</p>
<ul>
<li>Â§ö‰ªªÂä°Â≠¶‰π†Ôºö‰ΩøÁî®‰∫ÜDocument levelÂíåSentence level‰∏§‰∏™Á∫ßÂà´ËøõË°åÂ≠¶‰π†„ÄÇ</li>
</ul>
<p>ËÆ∫ÊñáÔºö<strong>Glm-130b: An open bilingual pre-trained model</strong></p>
<p>ÈìæÊé•Ôºö<a href="https://arxiv.org/pdf/2210.02414.pdf">https://arxiv.org/pdf/2210.02414.pdf</a></p>
<p>GLM-130bÊòØÂØπÊ†áGPT-3 175BÂèÇÊï∞ËßÑÊ®°Â§ßÂ∞èÁöÑÊ®°Âûã„ÄÇËÆ≠ÁªÉ100BÂ∑¶Âè≥ËßÑÊ®°ÁöÑÊ®°Âûã‰∏éËÆ≠ÁªÉ10BËßÑÊ®°Ê®°ÂûãÂú®ËÆ≠ÁªÉÊïàÁéá„ÄÅÁ®≥ÂÆöÊÄßÂíåÊî∂ÊïõÊÄß‰∏äÂ∏¶Êù•‰∫ÜÂæàÂ§öÊäÄÊúØÂíåÂ∑•Á®ã‰∏äÁöÑÊåëÊàò„ÄÇ</p>
<p><img src="https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/LLM/img42.jpg" alt=""></p>
<p>‰∏äË°®ÊòØÊèèËø∞‰∏§‰∏™ÂºÄÊ∫êÂ§ßÊ®°ÂûãÂ∑•‰ΩúÂíåGPT-3‰ª•ÂèäPaLM‰ΩøÁî®ÁöÑÊû∂ÊûÑ„ÄÅËØ≠Áßç„ÄÅÊï∞ÊçÆÁ±ªÂûã„ÄÅÁ®≥ÂÆöÊÄßÁ≠ñÁï•„ÄÅÈáèÂåñ„ÄÅÊé®ÁêÜË¶ÅÊ±ÇÁ≠âÂØπÊØî„ÄÇ</p>
<p>ÂèØ‰ª•ÁúãÂà∞ÔºåÁªèËøáÈáèÂåñÂà∞INT4Á±ªÂûãÂêéÔºå‰ªÖÈúÄË¶Å4Âº†3090Ôºà4$\times$24ÔºâÊàñËÄÖ8Âº†1080TiÔºà8$\times$12ÔºâÂ∞±ÂèØ‰ª•ËøõË°å130BÊ®°ÂûãÁöÑÊé®ÁêÜ„ÄÇ</p>
<p>![](/Users/caixiongjiang/Library/Application Support/typora-user-images/image-20240125142645093.png)</p>
<p>Â§ß‰ΩìÈáèLLMÁöÑËÆ≠ÁªÉÔºåÁõ∏ÂØπ‰∫é10BËßÑÊ®°ÁöÑËÆ≠ÁªÉ‰∏çÂêåÔºåÈúÄË¶ÅÂ§ßÈáèÁöÑÂ∑•Á®ã‰ºòÂåñÊäÄÊúØÔºå‰∏îÂèÇÊï∞ÊØîËæÉÈöæ‰ª•ËÆ≠ÁªÉ„ÄÇÊéßÂà∂ËÆ≠ÁªÉËøáÁ®ã‰∏≠ÁöÑÊ¢ØÂ∫¶ÈùûÂ∏∏ÈáçË¶ÅÔºåËøôÊàê‰∏∫‰∫ÜÊ®°ÂûãÊòØÂê¶ËÆ≠ÁªÉÊàêÂäüÁöÑÂÖ≥ÈîÆ„ÄÇ</p>
<ul>
<li>INT4ÈáèÂåñÔºöÁ†îÁ©∂Âõ¢ÈòüÊ†πÊçÆ‰∏çÂêåÊû∂ÊûÑÊ®°ÂûãÁöÑÊùÉÈáçÁ≤æÂ∫¶ÂàÜÂ∏ÉÊù•Ë°®Áé∞ÈáèÂåñÂØπÊÄßËÉΩÁöÑÂΩ±ÂìçÔºåÂèØ‰ª•ÁúãÂà∞GLMÁöÑÊùÉÈáçÁ≤æÂ∫¶ÂàÜÂ∏É‰ΩøÂæóÂÖ∂Áõ¥Êé•ËøõË°åÈáèÂåñÂêéfew shotÊÄßËÉΩÂá†‰πéÊ≤°ÊúâÂΩ±Âìç„ÄÇ</li>
</ul>
<img src="https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/LLM/img43.jpg" style="zoom:50%;" />
<h4 id="qwen">Qwen</h4>
<p>ËÆ∫ÊñáÔºö<strong>Qwen Technical Report</strong></p>
<p>ÈìæÊé•Ôºö<a href="https://arxiv.org/pdf/2309.16609.pdf">https://arxiv.org/pdf/2309.16609.pdf</a></p>
<h4 id="baichuan">Baichuan</h4>
<p>ËÆ∫ÊñáÔºö<strong>Baichuan 2: Open Large-scale Language Models</strong></p>
<p>ÈìæÊé•Ôºö<a href="https://arxiv.org/pdf/2309.10305.pdf">https://arxiv.org/pdf/2309.10305.pdf</a></p>
<h4 id="llama">llama</h4>
<p>ËÆ∫ÊñáÔºö<strong>LLaMA: Open and Efficient Foundation Language Models</strong></p>
<p>ÈìæÊé•Ôºö<a href="https://arxiv.org/pdf/2302.13971.pdf">https://arxiv.org/pdf/2302.13971.pdf</a></p>
<h4 id="gptÁ≥ªÂàó">GPTÁ≥ªÂàó</h4>
<p>ËÆ∫ÊñáÔºö<strong>Language Models are Few-Shot Learners</strong></p>
<p>ÈìæÊé•Ôºö<a href="https://proceedings.neurips.cc/paper_files/paper/2020/file/1457c0d6bfcb4967418bfb8ac142f64a-Paper.pdf">https://proceedings.neurips.cc/paper_files/paper/2020/file/1457c0d6bfcb4967418bfb8ac142f64a-Paper.pdf</a></p>
<h4 id="deepseek">DeepSeek</h4>
<p>ËÆ∫ÊñáÔºö<strong>DeepSeek LLM Scaling Open-Source Language Models with Longtermism</strong></p>
<p>ÈìæÊé•Ôºö<a href="https://arxiv.org/pdf/2401.02954.pdf">https://arxiv.org/pdf/2401.02954.pdf</a></p>
<blockquote>
<p>Êï∞ÊçÆ</p>
</blockquote>
<p>‰∏∫‰∫ÜÂÖ®Èù¢Â¢ûÂº∫Êï∞ÊçÆÈõÜÁöÑ‰∏∞ÂØåÊÄßÂíåÂ§öÊ†∑ÊÄßÔºåÂ∞ÜÊï∞ÊçÆÊî∂ÈõÜÁöÑÊâãÊÆµÁöÑÊñπÊ≥ïÂàÜ‰∏∫‰∫Ü‰∏â‰∏™Èò∂ÊÆµÔºöÊï∞ÊçÆÂà†Èô§„ÄÅËøáÊª§ÂíåÈáçÊñ∞Ê∑∑Âêà„ÄÇ</p>
<blockquote>
<p>Êû∂ÊûÑ</p>
</blockquote>
<p>DeepSeek LLMÁöÑÂæÆËßÇËÆæËÆ°Âú®ÂæàÂ§ßÁ®ãÂ∫¶‰∏äÈÅµÂæ™‰∫ÜLLaMAÁöÑËÆæËÆ°ÔºåÈááÁî®ÂÖ∑ÊúâRMSNormÂäüËÉΩÁöÑPre-NormÁªìÊûÑÔºåÂπ∂‰ΩøÁî®SwiGLU‰Ωú‰∏∫ÂâçÈ¶àÁΩëÁªúÁöÑÊøÄÊ¥ªÂáΩÊï∞Ôºå‰∏≠Èó¥Â±ÇÂ∞∫ÂØ∏‰∏∫38dÊ®°Âûã„ÄÇÂÆÉËøòÁ∫≥ÂÖ•‰∫ÜÊóãËΩ¨ÂµåÂÖ•Áî®‰∫é‰ΩçÁΩÆÁºñÁ†Å„ÄÇ‰∏∫‰∫Ü‰ºòÂåñÊé®ÁêÜÊàêÊú¨Ôºå67BÊ®°Âûã‰ΩøÁî®GroupedQuery AttentionÔºåËÄå‰∏çÊòØ‰º†ÁªüÁöÑÂ§öÂ§¥Ê≥®ÊÑèÂäõ„ÄÇ</p>
<p><img src="https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/LLM/img44.jpg" alt=""></p>
<p>DeepSeek‰∏ÄÂÖ±Êúâ‰∏§‰∏™ÁâàÊú¨ÁöÑÊ®°ÂûãÔºåÂàÜÂà´ÊòØ7BÂíå67B„ÄÇDeepSeekÂú®Ê®°ÂûãËÆ≠ÁªÉ‰∏äÊ≤°Êúâ‰ΩøÁî®‰º†ÁªüÁöÑ‰ΩôÂº¶ÈÄÄÁÅ´Â≠¶‰π†Á≠ñÁï•„ÄÇËÄåÈááÁî®‰∫ÜÂ§öÊ≠•Â≠¶‰π†Áéá‰∏ãË∞ÉÁ≠ñÁï•ÔºåÂèØ‰ª•ÁúãÂà∞‰∏ãÂõæÊòØ‰ªñ‰ª¨ËÆ≠ÁªÉÁªìÊûúÁöÑÂå∫Âà´„ÄÇ</p>
<p><img src="https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/LLM/img45.jpg" alt=""></p>
<h3 id="llmËÆ≠ÁªÉ">LLMËÆ≠ÁªÉ</h3>
<h4 id="common-nluÂíånlg‰ªªÂä°">Common NLUÂíåNLG‰ªªÂä°</h4>
<p>NLU (Natural Language Understanding) Âíå NLG (Natural Language Generation) ÊòØËá™ÁÑ∂ËØ≠Ë®ÄÂ§ÑÁêÜ‰∏≠Â∏∏ËßÅÁöÑ‰ªªÂä°Á±ªÂûã„ÄÇ</p>
<ul>
<li>NLU ‰ªªÂä°ÔºàËá™ÁÑ∂ËØ≠Ë®ÄÁêÜËß£ÔºâÔºö</li>
</ul>
<ol>
<li>ÊñáÊú¨ÂàÜÁ±ªÔºöÂ∞ÜÊñáÊú¨ÂàÜ‰∏∫‰∏çÂêåÁöÑÁ±ªÂà´ÔºåÂ¶ÇÊÉÖÊÑüÂàÜÁ±ª„ÄÅ‰∏ªÈ¢òÂàÜÁ±ªÁ≠â„ÄÇ</li>
<li>ÂëΩÂêçÂÆû‰ΩìËØÜÂà´ÔºàNERÔºâÔºö‰ªéÊñáÊú¨‰∏≠ËØÜÂà´Âπ∂Ê†áËÆ∞Âá∫ÂëΩÂêçÂÆû‰ΩìÔºåÂ¶Ç‰∫∫Âêç„ÄÅÂú∞Âêç„ÄÅÁªÑÁªáÊú∫ÊûÑÁ≠â„ÄÇ</li>
<li>ÊÑèÂõæËØÜÂà´ÔºàIntent RecognitionÔºâÔºö‰ªéÁî®Êà∑ËæìÂÖ•ÁöÑÊñáÊú¨‰∏≠ËØÜÂà´Áî®Êà∑ÁöÑÊÑèÂõæÊàñÁõÆÁöÑÔºåÂ∏∏Áî®‰∫éÂØπËØùÁ≥ªÁªü‰∏≠„ÄÇ</li>
<li>ËØ≠‰πâËßíËâ≤Ê†áÊ≥®ÔºàSemantic Role LabelingÔºâÔºö‰∏∫Âè•Â≠ê‰∏≠ÁöÑÊØè‰∏™ÂçïËØçÊàñÁü≠ËØ≠Ê†áÊ≥®ÂÖ∂Âú®Âè•Â≠ê‰∏≠ÊâÆÊºîÁöÑËØ≠‰πâËßíËâ≤ÔºåÂ¶ÇÊñΩ‰∫ãËÄÖ„ÄÅÂèó‰∫ãËÄÖ„ÄÅÊó∂Èó¥Á≠â„ÄÇ</li>
<li>ËØ≠‰πâËß£ÊûêÔºàSemantic ParsingÔºâÔºöÂ∞ÜËá™ÁÑ∂ËØ≠Ë®ÄËΩ¨Êç¢‰∏∫ÁªìÊûÑÂåñÁöÑË°®Á§∫ÂΩ¢ÂºèÔºåÂ¶ÇÈÄªËæëÂΩ¢ÂºèÊàñÊü•ËØ¢ËØ≠Ë®ÄÔºå‰ª•‰æøËøõË°åËøõ‰∏ÄÊ≠•ÁöÑÂ§ÑÁêÜ„ÄÇ</li>
</ol>
<ul>
<li>NLG ‰ªªÂä°ÔºàËá™ÁÑ∂ËØ≠Ë®ÄÁîüÊàêÔºâÔºö</li>
</ul>
<ol>
<li>ÊñáÊú¨ÁîüÊàêÔºöÊ†πÊçÆÁªôÂÆöÁöÑËæìÂÖ•Êàñ‰∏ä‰∏ãÊñáÁîüÊàêËá™ÁÑ∂ËØ≠Ë®ÄÊñáÊú¨ÔºåÂ¶ÇËá™Âä®ÊëòË¶Å„ÄÅÊú∫Âô®ÁøªËØëÁ≠â„ÄÇ</li>
<li>ÈóÆÁ≠îÁîüÊàêÔºàQuestion Answering GenerationÔºâÔºöÊ†πÊçÆÈóÆÈ¢òÁîüÊàêÁõ∏Â∫îÁöÑÂõûÁ≠î„ÄÇ</li>
<li>ÂØπËØùÁîüÊàêÔºöÂú®ÂØπËØùÁ≥ªÁªü‰∏≠ÁîüÊàêËá™ÁÑ∂ËØ≠Ë®ÄÂõûÂ§çÔºå‰ΩøÂÖ∂‰∏éÁî®Êà∑ËøõË°å‰∫§‰∫í„ÄÇ</li>
<li>ÊñáÊú¨ÊëòË¶ÅÁîüÊàêÔºö‰ªéÂ§ßÈáèÊñáÊú¨‰∏≠ÁîüÊàêÁÆÄÊ¥ÅÁöÑÊ¶ÇÊã¨ÊÄßÊëòË¶Å„ÄÇ</li>
<li>ÁîüÊàêÂºèÂØπËØùÁ≥ªÁªüÔºöÊûÑÂª∫ËÉΩÂ§üËøõË°åËøûË¥Ø„ÄÅÊúâÈÄªËæëÁöÑÂØπËØùÁöÑÁ≥ªÁªüÔºå‰ΩøÂÖ∂ËÉΩÂ§ü‰∏é‰∫∫Á±ªËøõË°åËá™ÁÑ∂‰∫§ÊµÅ„ÄÇ</li>
</ol>
<h4 id="Â§ßÊ®°ÂûãÂ∫îÁî®ËÆ≠ÁªÉÈÄâÊã©">Â§ßÊ®°ÂûãÂ∫îÁî®ËÆ≠ÁªÉÈÄâÊã©</h4>
<p>ËÆ∫ÊñáÔºö<strong>Harnessing the Power of LLMs in Practice: A Survey on ChatGPT and Beyond</strong></p>
<p>ÈìæÊé•Ôºö<a href="https://arxiv.org/pdf/2304.13712.pdf">https://arxiv.org/pdf/2304.13712.pdf</a></p>
<p>‰∏ãÂõæÊòØÂà∂‰Ωú‰∏Ä‰∏™Â§ßÊ®°ÂûãÂ∫îÁî®ÁöÑÈÄâÊã©ÊµÅÁ®ãÔºå‰∏ªË¶ÅÊ∂âÂèäÁõÆÊ†á‰ªªÂä°ÁöÑÈöæÂ∫¶„ÄÅÁ±ªÂûã„ÄÅ‰ª•ÂèäÊ†áÁ≠æÊï∞ÊçÆÊòØÂê¶‰∏∞ÂØåÁ≠â„ÄÇÂÖ∂‰∏≠<code>LLMs</code>ÊòØÊåá‰ΩøÁî®ÂéüÁîüÁöÑÈ¢ÑËÆ≠ÁªÉLLMÊê≠ÈÖç‰∏çÂêåÁöÑPromptÊù•ÂÆåÊàê‰ªªÂä°ÔºåËÄå<code>Fine-tuned Models</code>ÂàôÊòØLLMÊ®°ÂûãÂØπÁõÆÊ†á‰ªªÂä°ÁöÑÊï∞ÊçÆËøõË°åÂèÇÊï∞Ë∞ÉÊï¥„ÄÇ</p>
<p><img src="https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/LLM/img38.jpg" alt=""></p>
<blockquote>
<p>ÈÄâÊã©LLMÊ®°Âûã‰∏éÂæÆË∞ÉÊ®°ÂûãÔºü</p>
</blockquote>
<ul>
<li>Âú®Èù¢‰∏¥ÈùûÂàÜÂ∏ÉÊï∞ÊçÆÔºàÂ¶ÇÂØπÊäóÊÄßÁ§∫‰æãÂíåÈ¢ÜÂüüËΩ¨ÁßªÔºâÁöÑ‰∏ãÊ∏∏‰ªªÂä°‰∏≠ÔºåLLMÊØîÂæÆË∞ÉÊ®°ÂûãÊõ¥ÈÄöÁî®„ÄÇ</li>
<li>Âú®Â§ÑÁêÜÊúâÈôêÁöÑÊ≥®ÈáäÊï∞ÊçÆÊó∂ÔºåLLMÊØîÂæÆË∞ÉÊ®°ÂûãÊõ¥ÂèØÂèñÔºåÂΩìÊúâ‰∏∞ÂØåÁöÑÊ≥®ÈáäÊï∞ÊçÆÂèØÁî®Êó∂Ôºå‰∏§ËÄÖÈÉΩÂèØ‰ª•Êàê‰∏∫ÂêàÁêÜÁöÑÈÄâÊã©ÔºåÂÖ∑‰Ωì‰ªªÂä°Ë¶ÅÊ±Ç„ÄÇ</li>
<li>Âª∫ËÆÆÂú®Á±ª‰ºº‰∫é‰∏ãÊ∏∏‰ªªÂä°ÁöÑÊï∞ÊçÆÂ≠óÊÆµ‰∏äÈÄâÊã©LLM„ÄÇ</li>
<li>Âú®‰∏∫‰∏ãÊ∏∏‰ªªÂä°ÈÄâÊã©LLMÊó∂ÔºåÊúÄÂ•ΩÈÄâÊã©Âú®Á±ª‰ººÊï∞ÊçÆÈ¢ÜÂüüËøõË°åÈ¢ÑËÆ≠ÁªÉÁöÑÊ®°Âûã„ÄÇ</li>
<li>ËøõË°å‰∏ãÊ∏∏‰ªªÂä°Êó∂ÈúÄË¶ÅËÄÉËôëÊ≥®ÈáäÊï∞ÊçÆÁöÑÂèØÁî®ÊÄß„ÄÇÊ≤°ÊúâÊ≥®ÈáäÊó∂ÔºåÁõ¥Êé•‰ΩøÁî®È¢ÑËÆ≠ÁªÉÁöÑLLMÊ®°ÂûãÔºõ‰∏ä‰∏ãÊñáÂ≠¶‰π†Ôºö Â∞Ü‰∏Ä‰∫õ‰æãÂ≠êÂåÖÂê´Âú®LLMÁöÑËæìÂÖ•ÊèêÁ§∫‰∏≠ÔºõÂ¶ÇÊûúÁõÆÊ†á‰ªªÂä°ÁöÑÊï∞ÊçÆÂæà‰∏∞ÂØåÔºåÂèØ‰ª•ËÄÉËôëÂæÆË∞ÉÊ®°ÂûãÂèÇÊï∞ÊàñËÄÖÁõ¥Êé•Áî®LLM„ÄÇ</li>
<li>RLHFÊñπÊ≥ïÂèØ‰ª•ÊòæËëóÂ¢ûÂº∫LLMÁöÑÊ≥õÂåñËÉΩÂäõ„ÄÇ</li>
<li>Âú®Â§ßÂ§öÊï∞Ëá™ÁÑ∂ËØ≠Ë®ÄÁêÜËß£‰ªªÂä°‰∏≠Â∏¶Êúâ‰∏∞ÂØåÁöÑÊ≥®ÈáäÊï∞ÊçÆÔºåÂπ∂‰∏îÂú®ÊµãËØïÈõÜ‰∏≠ÂåÖÂê´ÂæàÂ∞ëÁöÑÂàÜÂ∏ÉÂ§ñÁ§∫‰æãÔºåÂàôÂæÆË∞ÉÊ®°Âûã‰ªçÁÑ∂ÂÖ∑ÊúâÊõ¥Â•ΩÁöÑÊÄßËÉΩ„ÄÇ</li>
<li>Áî±‰∫éÂ§ßÊ®°ÂûãÁöÑÁîüÊàêËÉΩÂäõÂíåÂàõÈÄ†ÂäõÔºåLLMÂú®Â§ßÂ§öÊï∞ÁîüÊàê‰ªªÂä°‰∏äË°®Áé∞Âá∫ËæÉÂº∫ÁöÑ‰ºòÂäø„ÄÇ</li>
<li>LLMÊìÖÈïøË¶ÅÊ±ÇÊ®°ÂûãÂÖ®Èù¢‰∫ÜËß£ËæìÂÖ•ÂÜÖÂÆπÂíåË¶ÅÊ±ÇÔºåÂπ∂ÂÖ∑Êúâ‰∏ÄÂÆöÁöÑÂàõÈÄ†ËÉΩÂäõÁöÑ‰ªªÂä°ÔºåÊØîÂ¶ÇÊñáÊú¨ÊÄªÁªìÔºåÊú∫Âô®ÁøªËØëÔºåÂºÄÊîæÂºèÁîüÊàê„ÄÇ</li>
</ul>
<h4 id="peft">PEFT</h4>
<p>ËÆ∫ÊñáÔºö<strong>Scaling Down to Scale Up: A Guide to Parameter-Efficient Fine-Tuning</strong></p>
<p>ÈìæÊé•Ôºö<a href="https://arxiv.org/pdf/2303.15647.pdf">https://arxiv.org/pdf/2303.15647.pdf</a></p>
<p>ÂÖ≥‰∫é<code>PEFT</code>ÁöÑÂÜÖÂÆπÔºåÂú®Â§ßÊ®°ÂûãÈ´òÊïàÂæÆË∞ÉÂçöÊñá‰∏≠Â∑≤Áªè‰ªîÁªÜÂàÜÊûêÔºåËøôÈáåÈÄöËøáÁªºËø∞ËÆ∫ÊñáËøõË°å‰∏ÄÂÆöÁöÑÊÄªÁªì„ÄÇ</p>
<p>ËØ•ËÆ∫ÊñáÂ∞ÜÊâÄÊúâÁöÑËÆ∫ÊñáÂàÜ‰∏∫‰∫Ü3ÁßçÂ§ßÁ±ªÊñπÊ≥ïÔºö</p>
<ul>
<li><strong>Additive methods</strong>ÔºöËøôÁßçÊñπÊ≥ïËÉåÂêéÁöÑ‰∏ªË¶ÅÊÉ≥Ê≥ïÊòØÁî®È¢ùÂ§ñÁöÑÂèÇÊï∞ÊàñÂ±ÇÂ¢ûÂº∫Áé∞ÊúâÁöÑÈ¢ÑËÆ≠ÁªÉÊ®°ÂûãÔºåÂπ∂‰ªÖËÆ≠ÁªÉÊñ∞Ê∑ªÂä†ÁöÑÂèÇÊï∞„ÄÇ</li>
<li><strong>Selective methods</strong>: ËøôÁßçÊñπÊ≥ï‰∏ªË¶ÅÊòØÈÄöËøáËá™Áî±ÈÄâÊã©ÁΩëÁªúÁöÑ‰∏Ä‰∫õÂ±ÇËøõË°åÂæÆË∞ÉÔºå‰æãÂ¶ÇË∞ÉÊï¥ÂÅèÁΩÆÔºàbiasÔºâÁ≠âÔºå‰ª•Âèä‰∏Ä‰∫õÁ®ÄÁñèÊõ¥Êñ∞ÁöÑÊñπÊ≥ïÔºåÁÑ∂ËÄå‰∏çÂèóÈôêÂà∂ÁöÑÈùûÁªìÊûÑÂåñÁ®ÄÁñèÊÄßÂú®ÂΩì‰ª£Á°¨‰ª∂‰∏äÂæàÈöæÂæóÂà∞ÂæàÂ•ΩÁöÑÂä†ÈÄü„ÄÇ</li>
<li><strong>Reparametrization-based methods</strong>: ËØ•Á±ªÂà´ÊñπÊ≥ï‰ΩøÁî®‰∫Ü‰ΩéÁß©Áü©ÈòµÂàÜËß£ÁöÑÂéüÁêÜÔºåÊúÄÂ§ßÈôêÂ∫¶Âú∞ÂáèÂ∞ëÂèØËÆ≠ÁªÉÁöÑÂèÇÊï∞„ÄÇ</li>
</ul>
<h4 id="Ê£ÄÁ¥¢Â¢ûÂº∫ÁîüÊàê">Ê£ÄÁ¥¢Â¢ûÂº∫ÁîüÊàê</h4>
<p>ËÆ∫ÊñáÔºö<strong>Retrieval-Augmented Generation for Knowledge-Intensive NLP Tasks</strong></p>
<p>ÈìæÊé•Ôºö<a href="https://proceedings.neurips.cc/paper/2020/file/6b493230205f780e1bc26945df7481e5-Paper.pdf">https://proceedings.neurips.cc/paper/2020/file/6b493230205f780e1bc26945df7481e5-Paper.pdf</a></p>
<p>ËØ•ËÆ∫ÊñáÈíàÂØπÂ∫èÂàóÂà∞Â∫èÂàóÔºàseq2seqÔºâÊ®°ÂûãÁöÑ‚ÄùÂπªËßâ‚ÄùÈóÆÈ¢òÔºåÊèêÂá∫‰∫Ü‰∏ÄÁßçÊ£ÄÁ¥¢Â¢ûÂº∫ÁîüÊàêÁöÑÈóÆÈ¢ò„ÄÇ</p>
<p>Â§ßÊ®°ÂûãÈÄöÂ∏∏Âú®Áü•ËØÜÂØÜÈõÜÂûã‰ªªÂä°‰∏ä‰Ωé‰∫éÁâπÂÆö‰ªªÂä°Êû∂ÊûÑÁöÑÊÄßËÉΩ„ÄÇËØ•ÊñáÊèêÂá∫ÁöÑRAGÂè™Ë¶ÅÁî±ÂèÇÊï∞Â≠òÂÇ®Âô®ÔºàÂèÇÊï∞ÂèØË∞ÉÊï¥Ê®°ÂûãÔºâÂíåÈùûÂèÇÊï∞Â≠òÂÇ®Âô®Áõ∏ÁªìÂêàÔºåÂ¶Ç‰∏ãÂõæÊâÄÁ§∫„ÄÇÂÖ∂‰∏≠ÁºñÁ†ÅÂô®ÂíåÊ£ÄÁ¥¢Âô®ÁªÑÊàê‰∫ÜÈùûÂèÇÊï∞Â≠òÂÇ®Âô®ÔºåËÄåÁîüÊàêÂô®ÔºàÂêéÈù¢ÊºîÂèòÊàêLLMÔºâÂÖÖÂΩìÂèÇÊï∞Â≠òÂÇ®Âô®„ÄÇ</p>
<p><img src="https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/LLM/img39.jpg" alt=""></p>
<p>RAGÊúâ‰∏§ÁßçËÆ≠ÁªÉËåÉÂºèÔºö</p>
<ul>
<li>RAG-Sequence ModelÔºö‰ΩøÁî®Â∫èÂàóÁ∫ßÂà´ÁöÑÊ£ÄÁ¥¢Êù•Â¢ûÂº∫ÁîüÊàêÊ®°Âûã„ÄÇÁîüÊàêÊ®°ÂûãË¥üË¥£ÁîüÊàêÁõÆÊ†áÂ∫èÂàóÔºåÊ£ÄÁ¥¢Ê®°ÂûãË¥üË¥£‰ªéÂÄôÈÄâÊñáÊ°£ÈõÜ‰∏≠ÈÄâÊã©Áõ∏ÂÖ≥ÁöÑÊñáÊ°£ÊàñÁâáÊÆµÔºåÁªÑÂêàÊ®°ÂùóÂ∞ÜÁîüÊàêÊ®°ÂûãÂíåÊ£ÄÁ¥¢Ê®°ÂûãÁöÑËæìÂá∫ÁªìÂêàËµ∑Êù•Ôºå‰ª•ÁîüÊàêÊúÄÁªàÁöÑÁªìÊûú„ÄÇ</li>
<li>RAG-Token ModelÔºöÂ∞ÜÊ£ÄÁ¥¢Ê®°ÂûãÁöÑËæìÂá∫Áõ¥Êé•ËûçÂÖ•Âà∞ÁîüÊàêÊ®°Âûã‰∏≠ÔºåËÄå‰∏çÊòØ‰Ωú‰∏∫‰∏ä‰∏ãÊñáËæìÂÖ•„ÄÇÂÖ∑‰ΩìËÄåË®ÄÔºåRAG-Token ModelÂ∞ÜÊ£ÄÁ¥¢Ê®°ÂûãÁöÑËæìÂá∫Ë°®Á§∫‰∏∫‰∏Ä‰∏™ÂèØÂ≠¶‰π†ÁöÑÊ†áËÆ∞ÂµåÂÖ•ÂêëÈáèÔºåÂπ∂Â∞ÜÂÖ∂‰∏éËæìÂÖ•Â∫èÂàóÁöÑÊ†áËÆ∞ÂµåÂÖ•ÂêëÈáèËøõË°åÊãºÊé•ÊàñÂä†ÊùÉÊ±ÇÂíå„ÄÇ</li>
</ul>
<p>‰∏∫‰∫ÜÊ∑±ÂÖ•ÁêÜËß£ËøôÁßçÂå∫Âà´ÔºåÊàë‰ª¨Â∞Ü<code>BART</code>Ê®°ÂûãÂàÜÂà´‰Ωú‰∏∫ÂàÜËØçÂô®ÂíåÁîüÊàêÂô®Ôºå‰ΩøÁî®‰ª£Á†ÅÊù•Ëß£ÈáäËøôÁßçÂå∫Âà´„ÄÇ</p>
<ul>
<li>RAG-Sequence ModelÔºö</li>
</ul>
<div class="highlight"><div style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">from</span> <span style="color:#008b45;text-decoration:underline">transformers</span> <span style="color:#8b008b;font-weight:bold">import</span> RagTokenizer, RagSequenceForGeneration, RagRetriever
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#228b22"># ÂÆö‰πâÊ£ÄÁ¥¢Âô®ÔºàRetrieverÔºâ</span>
</span></span><span style="display:flex;"><span>retriever = RagRetriever.from_pretrained(<span style="color:#cd5555">&#39;facebook/dpr-ctx_encoder-single-nq-base&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#228b22"># ÂÆö‰πâÁîüÊàêÂô®ÔºàGeneratorÔºâ</span>
</span></span><span style="display:flex;"><span>generator = RagSequenceForGeneration.from_pretrained(<span style="color:#cd5555">&#39;facebook/bart-large&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#228b22"># ÂÆö‰πâÂàÜËØçÂô®ÔºàTokenizerÔºâ</span>
</span></span><span style="display:flex;"><span>tokenizer = RagTokenizer.from_pretrained(<span style="color:#cd5555">&#39;facebook/bart-large&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#228b22"># ËæìÂÖ•Êü•ËØ¢</span>
</span></span><span style="display:flex;"><span>query = <span style="color:#cd5555">&#34;What is the capital of France?&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#228b22"># ËæìÂÖ•ÂÄôÈÄâÊñáÊ°£</span>
</span></span><span style="display:flex;"><span>documents = [
</span></span><span style="display:flex;"><span>    <span style="color:#cd5555">&#34;France is a country located in Western Europe. Its capital is Paris.&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#cd5555">&#34;Paris is the capital and most populous city of France.&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#cd5555">&#34;The capital city of France is Paris.&#34;</span>
</span></span><span style="display:flex;"><span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#228b22"># ÂØπÊü•ËØ¢ÂíåÂÄôÈÄâÊñáÊ°£ËøõË°åÁºñÁ†Å</span>
</span></span><span style="display:flex;"><span>inputs = tokenizer.prepare_seq2seq_batch(
</span></span><span style="display:flex;"><span>    queries=query,
</span></span><span style="display:flex;"><span>    documents=documents,
</span></span><span style="display:flex;"><span>    return_tensors=<span style="color:#cd5555">&#39;pt&#39;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#228b22"># Ê£ÄÁ¥¢Áõ∏ÂÖ≥ÊñáÊ°£</span>
</span></span><span style="display:flex;"><span>retrieved_docs = retriever(inputs[<span style="color:#cd5555">&#39;input_ids&#39;</span>], attention_mask=inputs[<span style="color:#cd5555">&#39;attention_mask&#39;</span>])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#228b22"># Â∞ÜÊ£ÄÁ¥¢Âà∞ÁöÑÊñáÊ°£‰Ωú‰∏∫‰∏ä‰∏ãÊñáËæìÂÖ•ÔºåÁîüÊàêÁªìÊûú</span>
</span></span><span style="display:flex;"><span>generated = generator.generate(
</span></span><span style="display:flex;"><span>    input_ids=inputs[<span style="color:#cd5555">&#39;input_ids&#39;</span>],
</span></span><span style="display:flex;"><span>    attention_mask=inputs[<span style="color:#cd5555">&#39;attention_mask&#39;</span>],
</span></span><span style="display:flex;"><span>    context_input_ids=retrieved_docs[<span style="color:#cd5555">&#39;context_input_ids&#39;</span>],
</span></span><span style="display:flex;"><span>    context_attention_mask=retrieved_docs[<span style="color:#cd5555">&#39;context_attention_mask&#39;</span>],
</span></span><span style="display:flex;"><span>    max_length=<span style="color:#b452cd">50</span>,
</span></span><span style="display:flex;"><span>    num_return_sequences=<span style="color:#b452cd">1</span>,
</span></span><span style="display:flex;"><span>    num_beams=<span style="color:#b452cd">4</span>,
</span></span><span style="display:flex;"><span>    no_repeat_ngram_size=<span style="color:#b452cd">2</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#228b22"># Ëß£Á†ÅÁîüÊàêÁöÑÁªìÊûú</span>
</span></span><span style="display:flex;"><span>result = tokenizer.batch_decode(generated, skip_special_tokens=<span style="color:#8b008b;font-weight:bold">True</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#658b00">print</span>(result)
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>RAG-Token ModelÔºö</li>
</ul>
<div class="highlight"><div style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">from</span> <span style="color:#008b45;text-decoration:underline">transformers</span> <span style="color:#8b008b;font-weight:bold">import</span> RagTokenizer, RagTokenForGeneration, RagRetriever
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#228b22"># ÂÆö‰πâÊ£ÄÁ¥¢Âô®ÔºàRetrieverÔºâ</span>
</span></span><span style="display:flex;"><span>retriever = RagRetriever.from_pretrained(<span style="color:#cd5555">&#39;facebook/dpr-ctx_encoder-single-nq-base&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#228b22"># ÂÆö‰πâÁîüÊàêÂô®ÔºàGeneratorÔºâ</span>
</span></span><span style="display:flex;"><span>generator = RagTokenForGeneration.from_pretrained(<span style="color:#cd5555">&#39;facebook/bart-large&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#228b22"># ÂÆö‰πâÂàÜËØçÂô®ÔºàTokenizerÔºâ</span>
</span></span><span style="display:flex;"><span>tokenizer = RagTokenizer.from_pretrained(<span style="color:#cd5555">&#39;facebook/bart-large&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#228b22"># ËæìÂÖ•Êü•ËØ¢</span>
</span></span><span style="display:flex;"><span>query = <span style="color:#cd5555">&#34;What is the capital of France?&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#228b22"># ËæìÂÖ•ÂÄôÈÄâÊñáÊ°£</span>
</span></span><span style="display:flex;"><span>documents = [
</span></span><span style="display:flex;"><span>    <span style="color:#cd5555">&#34;France is a country located in Western Europe. Its capital is Paris.&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#cd5555">&#34;Paris is the capital and most populous city of France.&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#cd5555">&#34;The capital city of France is Paris.&#34;</span>
</span></span><span style="display:flex;"><span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#228b22"># ÂØπÊü•ËØ¢ÂíåÂÄôÈÄâÊñáÊ°£ËøõË°åÁºñÁ†Å</span>
</span></span><span style="display:flex;"><span>inputs = tokenizer.prepare_seq2seq_batch(
</span></span><span style="display:flex;"><span>    queries=query,
</span></span><span style="display:flex;"><span>    documents=documents,
</span></span><span style="display:flex;"><span>    return_tensors=<span style="color:#cd5555">&#39;pt&#39;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#228b22"># Ê£ÄÁ¥¢Áõ∏ÂÖ≥ÊñáÊ°£</span>
</span></span><span style="display:flex;"><span>retrieved_docs = retriever(inputs[<span style="color:#cd5555">&#39;input_ids&#39;</span>], attention_mask=inputs[<span style="color:#cd5555">&#39;attention_mask&#39;</span>])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#228b22"># Â∞ÜÊ£ÄÁ¥¢Âà∞ÁöÑÊñáÊ°£Ë°®Á§∫‰∏∫ÂµåÂÖ•ÂêëÈáè</span>
</span></span><span style="display:flex;"><span>context_embeddings = retrieved_docs[<span style="color:#cd5555">&#39;retrieved_doc_embeds&#39;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#228b22"># Â∞ÜÊ£ÄÁ¥¢ÁªìÊûú‰∏éËæìÂÖ•Â∫èÂàóÁöÑÊ†áËÆ∞ÂµåÂÖ•ÂêëÈáèËøõË°åÊãºÊé•</span>
</span></span><span style="display:flex;"><span>input_ids = inputs[<span style="color:#cd5555">&#39;input_ids&#39;</span>]
</span></span><span style="display:flex;"><span>attention_mask = inputs[<span style="color:#cd5555">&#39;attention_mask&#39;</span>]
</span></span><span style="display:flex;"><span>expanded_input_ids = torch.cat([input_ids, context_embeddings], dim=-<span style="color:#b452cd">1</span>)
</span></span><span style="display:flex;"><span>expanded_attention_mask = torch.cat([attention_mask, torch.ones_like(context_embeddings)], dim=-<span style="color:#b452cd">1</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#228b22"># ÁîüÊàêÁªìÊûú</span>
</span></span><span style="display:flex;"><span>generated = generator.generate(
</span></span><span style="display:flex;"><span>    input_ids=expanded_input_ids,
</span></span><span style="display:flex;"><span>    attention_mask=expanded_attention_mask,
</span></span><span style="display:flex;"><span>    max_length=<span style="color:#b452cd">50</span>,
</span></span><span style="display:flex;"><span>    num_return_sequences=<span style="color:#b452cd">1</span>,
</span></span><span style="display:flex;"><span>    num_beams=<span style="color:#b452cd">4</span>,
</span></span><span style="display:flex;"><span>    no_repeat_ngram_size=<span style="color:#b452cd">2</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#228b22"># Ëß£Á†ÅÁîüÊàêÁöÑÁªìÊûú</span>
</span></span><span style="display:flex;"><span>result = tokenizer.batch_decode(generated, skip_special_tokens=<span style="color:#8b008b;font-weight:bold">True</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#658b00">print</span>(result)
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="rlhfËÆ≠ÁªÉ">RLHFËÆ≠ÁªÉ</h4>

                    
                    <HR width="100%" id="EOF">
		            <p style="color:#777;">ÊúÄÂêé‰øÆÊîπ‰∫é 2024-01-19</p>
                    
                    
                    <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Áü•ËØÜÂÖ±‰∫´ËÆ∏ÂèØÂçèËÆÆ" style="border-width:0" src="https://image-1252109614.cos.ap-beijing.myqcloud.com/img/20210508215939.png" /></a><br />Êú¨‰ΩúÂìÅÈááÁî®<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Áü•ËØÜÂÖ±‰∫´ÁΩ≤Âêç-ÈùûÂïÜ‰∏öÊÄß‰ΩøÁî®-Áõ∏ÂêåÊñπÂºèÂÖ±‰∫´ 4.0 ÂõΩÈôÖËÆ∏ÂèØÂçèËÆÆ</a>ËøõË°åËÆ∏ÂèØ„ÄÇ
                </div>
            </div>
            
            
            <nav class="post-pagination">

                
                <a class="newer-posts" href="https://caixiongjiang.github.io/blog/2024/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%BA%94%E7%94%A8/vllm%E5%B9%B6%E5%8F%91/">
			‰∏ãÂõû<br>vLLMÂ¶Ç‰ΩïÊèêÈ´òÂπ∂ÂèëÔºü
                </a>
                
                
                
                <a class="older-posts" href="https://caixiongjiang.github.io/blog/2024/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%BA%94%E7%94%A8/langchain%E5%85%A5%E9%97%A8/">
			‰∏äÂõû<br>LangChain:LLMÂ∫îÁî®Ê°ÜÊû∂
                </a>
                
            </nav>
            <div class="post-comment-wrapper">
                








<div id="tcomment"></div>



            </div>
        </div>
    </div>
</div>

            </div><div id="single-column-footer">
È≠îÊîπËá™ <a href="https://github.com/riba2534/hugo-blog">Riba2534</a> by <a href="https://caixiongjiang.github.io">Jarson Cai</a>
<br>

&copy;
	
	2024 üåÄJarson Cai&#39;s Blog
	</div>
            </div>
    <script>
let app;

app = new Vue({
    el: '#app',
    data: {
        scrollY: 0,
        navOpacity: 0,
        isDrawerOpen: false,
        mounted: false,
        isDarkMode: false
    },
    methods: {
            sgn(t, x) {
                let k = 1. / (1. - 2 * t);
                if (x <= t) return 0;
                else if (x >= 1 - t) return 1;
                else {
                    return k * (x - t);
                }
            },
            handleScroll() {
                this.scrollY = window.scrollY;
                this.navOpacity = this.sgn(.0, Math.min(1, Math.max(0, window.scrollY / (this.pageHeadHeight() - this.navBarHeight() * 0.8))));
                const {navBar, navBackground, navTitle, extraContainer, streamContainer} = this.$refs;

                if (this.navOpacity >= 1) {
                    navBackground.style.opacity = 1;
                    navTitle.style.opacity = 1;
                } else {
                    navBackground.style.opacity = 0;
                    navTitle.style.opacity = 0;
                }
            },
            handleResize() {
                const {navBar, navBackground, navTitle, extraContainer, streamContainer} = this.$refs;
                extraContainer.style.left = (streamContainer.offsetWidth - extraContainer.offsetWidth) + 'px';
            },
            navBarHeight() {
                return this.$refs.navBar.offsetHeight;
            },
            pageHeadHeight() {
                return this.$refs.pageHead.offsetHeight;
            },
            toggleDrawer() {
                this.isDrawerOpen = !this.isDrawerOpen;
                document.getElementsByTagName('html')[0].style.overflow = this.isDrawerOpen ? 'hidden' : 'unset';
            },
            closeDrawer() {
                this.isDrawerOpen = false;
                document.getElementsByTagName('html')[0].style.overflow = this.isDrawerOpen ? 'hidden' : 'unset';
            },
            toggleDarkMode() {
                this.isDarkMode = !this.isDarkMode;
                if (this.isDarkMode==true){
                    document.cookie = "night=1;path=/";
                    document.body.classList.add("night");
                } else {
                    document.cookie = "night=0;path=/";
                    document.body.classList.remove("night");
                }
            },
            debounce(func, wait, options) {
                let lastArgs,
                    lastThis,
                    maxWait,
                    result,
                    timerId,
                    lastCallTime

                let lastInvokeTime = 0
                let leading = false
                let maxing = false
                let trailing = true

                
                const useRAF = (!wait && wait !== 0 && typeof root.requestAnimationFrame === 'function')

                if (typeof func !== 'function') {
                    throw new TypeError('Expected a function')
                }
                function isObject(value) {
                    const type = typeof value
                    return value != null && (type === 'object' || type === 'function')
                }

                wait = +wait || 0
                if (isObject(options)) {
                    leading = !!options.leading
                    maxing = 'maxWait' in options
                    maxWait = maxing ? Math.max(+options.maxWait || 0, wait) : maxWait
                    trailing = 'trailing' in options ? !!options.trailing : trailing
                }

                function invokeFunc(time) {
                    const args = lastArgs
                    const thisArg = lastThis

                    lastArgs = lastThis = undefined
                    lastInvokeTime = time
                    result = func.apply(thisArg, args)
                    return result
                }

                function startTimer(pendingFunc, wait) {
                    if (useRAF) {
                    root.cancelAnimationFrame(timerId)
                    return root.requestAnimationFrame(pendingFunc)
                    }
                    return setTimeout(pendingFunc, wait)
                }

                function cancelTimer(id) {
                    if (useRAF) {
                    return root.cancelAnimationFrame(id)
                    }
                    clearTimeout(id)
                }

                function leadingEdge(time) {
                    
                    lastInvokeTime = time
                    
                    timerId = startTimer(timerExpired, wait)
                    
                    return leading ? invokeFunc(time) : result
                }

                function remainingWait(time) {
                    const timeSinceLastCall = time - lastCallTime
                    const timeSinceLastInvoke = time - lastInvokeTime
                    const timeWaiting = wait - timeSinceLastCall

                    return maxing
                    ? Math.min(timeWaiting, maxWait - timeSinceLastInvoke)
                    : timeWaiting
                }

                function shouldInvoke(time) {
                    const timeSinceLastCall = time - lastCallTime
                    const timeSinceLastInvoke = time - lastInvokeTime

                    
                    
                    
                    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||
                    (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait))
                }

                function timerExpired() {
                    const time = Date.now()
                    if (shouldInvoke(time)) {
                    return trailingEdge(time)
                    }
                    
                    timerId = startTimer(timerExpired, remainingWait(time))
                }

                function trailingEdge(time) {
                    timerId = undefined

                    
                    
                    if (trailing && lastArgs) {
                    return invokeFunc(time)
                    }
                    lastArgs = lastThis = undefined
                    return result
                }

                function cancel() {
                    if (timerId !== undefined) {
                    cancelTimer(timerId)
                    }
                    lastInvokeTime = 0
                    lastArgs = lastCallTime = lastThis = timerId = undefined
                }

                function flush() {
                    return timerId === undefined ? result : trailingEdge(Date.now())
                }

                function pending() {
                    return timerId !== undefined
                }

                function debounced(...args) {
                    const time = Date.now()
                    const isInvoking = shouldInvoke(time)

                    lastArgs = args
                    lastThis = this
                    lastCallTime = time

                    if (isInvoking) {
                    if (timerId === undefined) {
                        return leadingEdge(lastCallTime)
                    }
                    if (maxing) {
                        
                        timerId = startTimer(timerExpired, wait)
                        return invokeFunc(lastCallTime)
                    }
                    }
                    if (timerId === undefined) {
                    timerId = startTimer(timerExpired, wait)
                    }
                    return result
                }
                debounced.cancel = cancel
                debounced.flush = flush
                debounced.pending = pending
                return debounced
                }

    },
    created() {
        window.addEventListener('scroll', this.handleScroll);
        window.addEventListener('resize', this.handleResize);
        window._nonDesktop = function () {
            let check = false;
            (function (a) {
                if (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0, 4))) check = true;
            })(navigator.userAgent || navigator.vendor || window.opera);
            return check;
        };
        
        var night = document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/, "$1");
        if (night==""){
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                
            }
        }else{
            
            if (night=="1") {
                this.toggleDarkMode();
            }
        }
    },
    mounted() {
        this.handleScroll();
        this.handleResize();
        this.mounted = true;

        
        
        
            twikoo.init({
                envId: "https://twikoo-rho-olive.vercel.app/",
                el: '#tcomment',
                region:  null ,
            });
        

        document.querySelectorAll("table").forEach(function(elem){
            elem.classList.add("table-striped");
            elem.classList.add("table");
            elem.classList.add("table-responsive");
            elem.classList.add("table-hover");
        })

        
        spy();
        window.addEventListener('scroll', this.debounce(spy, 250, { 'maxWait': 250 }), false);
        
        
    },
    destroyed() {
        window.removeEventListener('scroll', this.handleScroll);
        window.removeEventListener('resize', this.handleResize);
    }
});



</script>
    </body>
</html>
