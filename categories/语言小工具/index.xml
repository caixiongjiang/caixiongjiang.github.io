<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>è¯­è¨€å°å·¥å…· on ğŸŒ€Jarson Cai&#39;s Blog</title>
    <link>https://caixiongjiang.github.io/categories/%E8%AF%AD%E8%A8%80%E5%B0%8F%E5%B7%A5%E5%85%B7/</link>
    <description>Recent content in è¯­è¨€å°å·¥å…· on ğŸŒ€Jarson Cai&#39;s Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Wed, 16 Aug 2023 18:18:05 +0800</lastBuildDate><atom:link href="https://caixiongjiang.github.io/categories/%E8%AF%AD%E8%A8%80%E5%B0%8F%E5%B7%A5%E5%85%B7/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>C&#43;&#43; Tool: CMake</title>
      <link>https://caixiongjiang.github.io/blog/2023/%E7%9F%A5%E8%AF%86%E6%9D%82%E8%B0%88/c&#43;&#43;-tool%E4%B9%8Bcmake%E5%B7%A5%E5%85%B7/</link>
      <pubDate>Wed, 16 Aug 2023 18:18:05 +0800</pubDate>
      
      <guid>https://caixiongjiang.github.io/blog/2023/%E7%9F%A5%E8%AF%86%E6%9D%82%E8%B0%88/c&#43;&#43;-tool%E4%B9%8Bcmake%E5%B7%A5%E5%85%B7/</guid>
      <description>CMake CMake æ˜¯ä¸€ä¸ªé¡¹ç›®æ„å»ºå·¥å…·ï¼Œå¹¶ä¸”æ˜¯è·¨å¹³å°çš„ã€‚å…³äºé¡¹ç›®æ„å»ºæˆ‘ä»¬æ‰€ç†ŸçŸ¥çš„è¿˜æœ‰Makefileï¼ˆé€šè¿‡ make å‘½ä»¤è¿›è¡Œé¡¹ç›®çš„æ„å»ºï¼‰ï¼Œå¤§å¤šæ˜¯IDEè½¯ä»¶éƒ½é›†æˆäº†makeï¼Œæ¯”å¦‚ï¼šVS çš„ nmakeã€linux ä¸‹çš„ GNU makeã€Qt çš„ qmakeç­‰ï¼Œå¦‚æœè‡ªå·±åŠ¨æ‰‹å†™ makefileï¼Œä¼šå‘ç°ï¼Œmakefile é€šå¸¸ä¾èµ–äºå½“å‰çš„ç¼–è¯‘å¹³å°ï¼Œè€Œä¸”ç¼–å†™ makefile çš„å·¥ä½œé‡æ¯”è¾ƒå¤§ï¼Œè§£å†³ä¾èµ–å…³ç³»æ—¶ä¹Ÿå®¹æ˜“å‡ºé”™ã€‚
CMake æ°å¥½èƒ½è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œ å…¶å…è®¸å¼€å‘è€…æŒ‡å®šæ•´ä¸ªå·¥ç¨‹çš„ç¼–è¯‘æµç¨‹ï¼Œåœ¨æ ¹æ®ç¼–è¯‘å¹³å°ï¼Œè‡ªåŠ¨ç”Ÿæˆæœ¬åœ°åŒ–çš„Makefileå’Œå·¥ç¨‹æ–‡ä»¶ï¼Œæœ€åç”¨æˆ·åªéœ€makeç¼–è¯‘å³å¯ï¼Œæ‰€ä»¥å¯ä»¥æŠŠCMakeçœ‹æˆä¸€æ¬¾è‡ªåŠ¨ç”Ÿæˆ Makefileçš„å·¥å…·
CMakeçš„ä½¿ç”¨ æ³¨é‡Š CMakeä½¿ç”¨#è¿›è¡Œè¡Œæ³¨é‡Šï¼Œä½¿ç”¨#[[]]å½¢å¼è¿›è¡Œå—æ³¨é‡Š
åªæœ‰æºæ–‡ä»¶çš„æƒ…å†µ å‡è®¾æˆ‘ä»¬æœ‰è¿™æ ·çš„ç›®å½•ç»“æ„ï¼š
1 2 3 4 5 6 7 8 $ tree . â”œâ”€â”€ add.c â”œâ”€â”€ div.c â”œâ”€â”€ head.h â”œâ”€â”€ main.c â”œâ”€â”€ mult.c â””â”€â”€ sub.c é‚£ä¹ˆæˆ‘ä»¬ä¸ºå…¶æ·»åŠ çš„CMakeLists.txtå¦‚ä¸‹æ‰€ç¤ºï¼š
1 2 3 cmake_minimum_required(VERSION 3.0) project(CALC) add_executable(app add.c div.c main.c mult.c sub.c) cmake_minimum_requiredçš„ä½œç”¨æ˜¯æŒ‡å®šä½¿ç”¨çš„cmakeçš„æœ€ä½ç‰ˆæœ¬ å¯ä»¥é€šè¿‡cmake --versionæ¥æŸ¥çœ‹æœ¬æœºçš„cmakeç‰ˆæœ¬
projectï¼šå®šä¹‰å·¥ç¨‹åç§°ï¼Œå¹¶å¯æŒ‡å®šå·¥ç¨‹çš„ç‰ˆæœ¬ã€å·¥ç¨‹æè¿°ã€webä¸»é¡µåœ°å€ã€æ”¯æŒçš„è¯­è¨€ï¼ˆé»˜è®¤æƒ…å†µæ”¯æŒæ‰€æœ‰è¯­è¨€ï¼‰ï¼Œå¦‚æœä¸éœ€è¦è¿™äº›éƒ½æ˜¯å¯ä»¥å¿½ç•¥çš„ï¼Œåªéœ€è¦æŒ‡å®šå‡ºå·¥ç¨‹åå­—å³å¯ã€‚ å…¶è¯­æ³•å¦‚ä¸‹ï¼š
1 2 3 4 5 6 project(&amp;lt;PROJECT-NAME&amp;gt; [&amp;lt;language-name&amp;gt;.</description>
    </item>
    
    <item>
      <title>C&#43;&#43; Tool: GDB</title>
      <link>https://caixiongjiang.github.io/blog/2023/%E7%9F%A5%E8%AF%86%E6%9D%82%E8%B0%88/c&#43;&#43;-tool%E4%B9%8Bgdb%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7/</link>
      <pubDate>Wed, 16 Aug 2023 18:18:05 +0800</pubDate>
      
      <guid>https://caixiongjiang.github.io/blog/2023/%E7%9F%A5%E8%AF%86%E6%9D%82%E8%B0%88/c&#43;&#43;-tool%E4%B9%8Bgdb%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7/</guid>
      <description></description>
    </item>
    
    <item>
      <title>C&#43;&#43; Tool: gflag</title>
      <link>https://caixiongjiang.github.io/blog/2023/%E7%9F%A5%E8%AF%86%E6%9D%82%E8%B0%88/c&#43;&#43;-tool%E4%B9%8Bgflags%E5%B7%A5%E5%85%B7/</link>
      <pubDate>Wed, 16 Aug 2023 18:18:05 +0800</pubDate>
      
      <guid>https://caixiongjiang.github.io/blog/2023/%E7%9F%A5%E8%AF%86%E6%9D%82%E8%B0%88/c&#43;&#43;-tool%E4%B9%8Bgflags%E5%B7%A5%E5%85%B7/</guid>
      <description></description>
    </item>
    
    <item>
      <title>C&#43;&#43; Tool: gtest</title>
      <link>https://caixiongjiang.github.io/blog/2023/%E7%9F%A5%E8%AF%86%E6%9D%82%E8%B0%88/c&#43;&#43;-tool%E4%B9%8Bgtest/</link>
      <pubDate>Wed, 16 Aug 2023 18:18:05 +0800</pubDate>
      
      <guid>https://caixiongjiang.github.io/blog/2023/%E7%9F%A5%E8%AF%86%E6%9D%82%E8%B0%88/c&#43;&#43;-tool%E4%B9%8Bgtest/</guid>
      <description>Googleå¼€æºæ¡†æ¶ï¼šgtest gtestï¼Œå®ƒä¸»è¦ç”¨äºå†™å•å…ƒæµ‹è¯•ï¼Œæ£€æŸ¥çœŸè‡ªå·±çš„ç¨‹åºæ˜¯å¦ç¬¦åˆé¢„æœŸè¡Œä¸ºã€‚è¿™ä¸æ˜¯QAï¼ˆæµ‹è¯•å·¥ç¨‹å¸ˆï¼‰æ‰å­¦çš„ï¼Œä¹Ÿæ˜¯æ¯ä¸ªä¼˜ç§€åç«¯å¼€å‘codoerçš„å¿…å¤‡æŠ€èƒ½ã€‚
æ„å»ºä¾èµ–ç¯å¢ƒ å…ˆä»‹ç»ä¸‹æ€ä¹ˆåŸºäºCMakeLists.txtæ„å»ºä¾èµ–ç¯å¢ƒã€‚
ç”±äºGoogleæ²¡æœ‰ä¸ºgoogletest/samplesä¸­çš„sampleså†™CMakeLists.txtï¼Œå› æ­¤ï¼Œgtestä»githubå…‹éš†ä¸‹æ¥åï¼Œä¹Ÿæ— æ³•ç›´æ¥è¿è¡Œè¿™äº›samplesã€‚
åœ¨loOKåç«¯å…¬ä¼—å·ï¼Œå›å¤ã€Œgtestã€å³å¯è·å–gtestå‹ç¼©åŒ…ã€‚
æŸ¥çœ‹å½“å‰ç›®å½•ç»“æ„ï¼š 1 2 3 4 5 6 7 8 9 10 $ tree -L 2 demo â”œâ”€â”€ CMakeLists.txt â”œâ”€â”€ build # ç©ºçš„æ–‡ä»¶å¤¹ â”œâ”€â”€ include â”‚ â”œâ”€â”€ CMakeLists.txt â”‚ â”œâ”€â”€ gflags â”‚ â””â”€â”€ googletest â”œâ”€â”€ main.cc â””â”€â”€ my_gtest_demo_1.cc ç„¶åï¼Œåœ¨demo/buildè·¯å¾„ä¸‹ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š 1 cmake .. &amp;amp;&amp;amp; make -j 4 è¿™äº›samplesç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶éƒ½åœ¨demo/build/binè·¯å¾„ä¸‹ã€‚
assertion åœ¨gtestä¸­ï¼Œæ˜¯é€šè¿‡æ–­è¨€ï¼ˆassertionï¼‰æ¥åˆ¤æ–­ä»£ç å®ç°çš„åŠŸèƒ½æ˜¯å¦ç¬¦åˆé¢„æœŸã€‚æ–­è¨€çš„ç»“æœåˆ†ä¸ºsuccessã€non-fatal failtureå’Œfatal failtureã€‚
æ ¹æ®æ–­è¨€å¤±è´¥çš„ç§ç±»ï¼Œgtestæä¾›äº†ä¸¤ç§æ–­è¨€å‡½æ•°ï¼š
successï¼šå³æ–­è¨€æˆåŠŸï¼Œç¨‹åºçš„è¡Œä¸ºç¬¦åˆé¢„æœŸï¼Œç¨‹åºç»§ç»­å‘ä¸‹å…è®¸ã€‚
non-fatal failureï¼šå³æ–­è¨€å¤±è´¥ï¼Œä½†æ˜¯ç¨‹åºæ²¡æœ‰ç›´æ¥crashï¼Œè€Œæ˜¯ç»§ç»­å‘ä¸‹è¿è¡Œã€‚
gtestæä¾›äº†å®å‡½æ•°EXPECT_XXX(expected, actual)ï¼šå¦‚æœcondition(expected, actual)è¿”å›falseï¼Œåˆ™EXPECT_XXXäº§ç”Ÿçš„å°±æ˜¯non-fatal failureé”™è¯¯ï¼Œå¹¶æ˜¾ç¤ºç›¸å…³é”™è¯¯ã€‚
fatal failureï¼šæ–­è¨€å¤±è´¥ï¼Œç¨‹åºç›´æ¥crashï¼Œåç»­çš„æµ‹è¯•æ¡ˆä¾‹ä¸ä¼šè¢«è¿è¡Œã€‚ gtestæä¾›äº†å®å‡½æ•°ASSERT_XXX(expected, actual)ã€‚
åœ¨å†™å•å…ƒæµ‹è¯•æ—¶ï¼Œæ›´åŠ å€¾å‘äºä½¿ç”¨EXPECT_XXXï¼Œå› ä¸ºASSERT_XXXæ˜¯ç›´æ¥crashé€€å‡ºçš„ï¼Œå¯èƒ½ä¼šå¯¼è‡´ä¸€äº›å†…å­˜ã€æ–‡ä»¶èµ„æºæ²¡æœ‰é‡Šæ”¾ï¼Œå› æ­¤å¯èƒ½ä¼šå¼•å…¥ä¸€äº›bugã€‚
å…·ä½“çš„EXPECT_XXXã€ASSERT_XXXå‡½æ•°åŠå…¶åˆ¤æ–­æ¡ä»¶ï¼Œå¦‚ä¸‹ä¸¤ä¸ªè¡¨:</description>
    </item>
    
  </channel>
</rss>
