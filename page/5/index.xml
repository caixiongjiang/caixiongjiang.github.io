<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>ğŸŒ€Jarson Cai&#39;s Blog</title>
    <link>https://caixiongjiang.github.io/</link>
    <description>Recent content on ğŸŒ€Jarson Cai&#39;s Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Wed, 19 Jul 2023 18:18:05 +0800</lastBuildDate>
    
        <atom:link href="https://caixiongjiang.github.io/index.xml" rel="self" type="application/rss+xml" />
    
    
    
        <item>
        <title>ã€ŠTCP/IPç½‘ç»œç¼–ç¨‹ã€‹ç¬¬ 17 ç«  ä¼˜äº select çš„ epoll ç¬”è®°</title>
        <link>https://caixiongjiang.github.io/blog/2022/tcp-ip%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/tcp-ip%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E7%AC%AC-17-%E7%AB%A0-%E4%BC%98%E4%BA%8E-select-%E7%9A%84-epoll-%E7%AC%94%E8%AE%B0/</link>
        <pubDate>Sat, 09 Apr 2022 19:06:05 +0800</pubDate>
        
        <guid>https://caixiongjiang.github.io/blog/2022/tcp-ip%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/tcp-ip%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E7%AC%AC-17-%E7%AB%A0-%E4%BC%98%E4%BA%8E-select-%E7%9A%84-epoll-%E7%AC%94%E8%AE%B0/</guid>
        <description>ğŸŒ€Jarson Cai&#39;s Blog https://caixiongjiang.github.io/blog/2022/tcp-ip%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/tcp-ip%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E7%AC%AC-17-%E7%AB%A0-%E4%BC%98%E4%BA%8E-select-%E7%9A%84-epoll-%E7%AC%94%E8%AE%B0/ -&lt;h2 id=&#34;ç¬¬-17-ç« -ä¼˜äº-select-çš„-epoll&#34;&gt;ç¬¬ 17 ç«  ä¼˜äº select çš„ epoll&lt;/h2&gt;
&lt;h3 id=&#34;171-epoll-ç†è§£åŠåº”ç”¨&#34;&gt;17.1 epoll ç†è§£åŠåº”ç”¨&lt;/h3&gt;
&lt;p&gt;select å¤ç”¨æ–¹æ³•ç”±æ¥å·²ä¹…ï¼Œå› æ­¤ï¼Œåˆ©ç”¨è¯¥æŠ€æœ¯åï¼Œæ— è®ºå¦‚ä½•ä¼˜åŒ–ç¨‹åºæ€§èƒ½ä¹Ÿæ— æ³•åŒæ—¶ä»‹å…¥ä¸Šç™¾ä¸ªå®¢æˆ·ç«¯ã€‚è¿™ç§ select æ–¹å¼å¹¶ä¸é€‚åˆä»¥ web æœåŠ¡å™¨ç«¯å¼€å‘ä¸ºä¸»æµçš„ç°ä»£å¼€å‘ç¯å¢ƒï¼Œæ‰€ä»¥éœ€è¦å­¦ä¹  Linux ç¯å¢ƒä¸‹çš„ epoll&lt;/p&gt;
&lt;h4 id=&#34;1711-åŸºäº-select-çš„-io-å¤ç”¨æŠ€æœ¯é€Ÿåº¦æ…¢çš„åŸå› &#34;&gt;17.1.1 åŸºäº select çš„ I/O å¤ç”¨æŠ€æœ¯é€Ÿåº¦æ…¢çš„åŸå› &lt;/h4&gt;
&lt;p&gt;ç¬¬ 12 ç« å®ç°äº†åŸºäº select çš„ I/O å¤ç”¨æŠ€æœ¯æœåŠ¡ç«¯ï¼Œå…¶ä¸­æœ‰ä¸åˆç†çš„è®¾è®¡å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è°ƒç”¨ select å‡½æ•°åå¸¸è§çš„é’ˆå¯¹æ‰€æœ‰æ–‡ä»¶æè¿°ç¬¦çš„å¾ªç¯è¯­å¥&lt;/li&gt;
&lt;li&gt;æ¯æ¬¡è°ƒç”¨ select å‡½æ•°æ—¶éƒ½éœ€è¦å‘è¯¥å‡½æ•°ä¼ é€’ç›‘è§†å¯¹è±¡ä¿¡æ¯&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸Šè¿°ä¸¤ç‚¹å¯ä»¥ä» &lt;a href=&#34;https://github.com/caixiongjiang/TCPIP/blob/master/ch12/echo_selectserv.c&#34;&gt;echo_selectserv.c&lt;/a&gt; å¾—åˆ°ç¡®è®¤ï¼Œè°ƒç”¨ select å‡½æ•°åï¼Œå¹¶ä¸æ˜¯æŠŠå‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶æè¿°ç¬¦å•ç‹¬é›†ä¸­åœ¨ä¸€èµ·ï¼Œè€Œæ˜¯é€šè¿‡ä½œä¸ºç›‘è§†å¯¹è±¡çš„ fd_set å˜é‡çš„å˜åŒ–ï¼Œæ‰¾å‡ºå‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶æè¿°ç¬¦ï¼ˆ54,56è¡Œï¼‰ï¼Œå› æ­¤æ— æ³•é¿å…é’ˆå¯¹æ‰€æœ‰ç›‘è§†å¯¹è±¡çš„å¾ªç¯è¯­å¥ã€‚è€Œä¸”ï¼Œä½œä¸ºç›‘è§†å¯¹è±¡çš„ fd_set ä¼šå‘ç”Ÿå˜åŒ–ï¼Œæ‰€ä»¥è°ƒç”¨ select å‡½æ•°å‰åº”è¯¥å¤åˆ¶å¹¶ä¿å­˜åŸæœ‰ä¿¡æ¯ï¼Œå¹¶åœ¨æ¯æ¬¡è°ƒç”¨ select å‡½æ•°æ—¶ä¼ é€’æ–°çš„ç›‘è§†å¯¹è±¡ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;select æ€§èƒ½ä¸Šæœ€å¤§çš„å¼±ç‚¹æ˜¯ï¼šæ¯æ¬¡ä¼ é€’ç›‘è§†å¯¹è±¡ä¿¡æ¯ï¼Œå‡†ç¡®çš„è¯´ï¼Œselect æ˜¯ç›‘è§†å¥—æ¥å­—å˜åŒ–çš„å‡½æ•°ã€‚è€Œå¥—æ¥å­—æ˜¯æ“ä½œç³»ç»Ÿç®¡ç†çš„ï¼Œæ‰€ä»¥ select å‡½æ•°è¦å€ŸåŠ©æ“ä½œç³»ç»Ÿæ‰èƒ½å®ŒæˆåŠŸèƒ½ã€‚select å‡½æ•°çš„è¿™ä¸€ç¼ºç‚¹å¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼å¼¥è¡¥ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä»…å‘æ“ä½œç³»ç»Ÿä¼ é€’ä¸€æ¬¡ç›‘è§†å¯¹è±¡ï¼Œç›‘è§†èŒƒå›´æˆ–å†…å®¹å‘ç”Ÿå˜åŒ–æ—¶åªé€šçŸ¥å‘ç”Ÿå˜åŒ–çš„äº‹é¡¹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è¿™æ ·å°±æ— éœ€æ¯æ¬¡è°ƒç”¨ select å‡½æ•°æ—¶éƒ½æƒ³æ“ä½œç³»ç»Ÿä¼ é€’ç›‘è§†å¯¹è±¡ä¿¡æ¯ï¼Œä½†æ˜¯å‰ææ“ä½œç³»ç»Ÿæ”¯æŒè¿™ç§å¤„ç†æ–¹å¼ã€‚Linux çš„æ”¯æŒæ–¹å¼æ˜¯ epoll ï¼ŒWindows çš„æ”¯æŒæ–¹å¼æ˜¯ IOCPã€‚&lt;/p&gt;
&lt;h4 id=&#34;1712-select-ä¹Ÿæœ‰æœ‰ç‚¹&#34;&gt;17.1.2 select ä¹Ÿæœ‰æœ‰ç‚¹&lt;/h4&gt;
&lt;p&gt;select çš„å…¼å®¹æ€§æ¯”è¾ƒé«˜ï¼Œè¿™æ ·å°±å¯ä»¥æ”¯æŒå¾ˆå¤šçš„æ“ä½œç³»ç»Ÿï¼Œä¸å—å¹³å°çš„é™åˆ¶ï¼Œä½¿ç”¨ select å‡½æ•°æ»¡è¶³ä»¥ä¸‹ä¸¤ä¸ªæ¡ä»¶ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æœåŠ¡å™¨æ¥å…¥è€…å°‘&lt;/li&gt;
&lt;li&gt;ç¨‹åºåº”è¯¥å…·æœ‰å…¼å®¹æ€§&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;1713-å®ç°-epoll-æ—¶å¿…è¦çš„å‡½æ•°å’Œç»“æ„ä½“&#34;&gt;17.1.3 å®ç° epoll æ—¶å¿…è¦çš„å‡½æ•°å’Œç»“æ„ä½“&lt;/h4&gt;
&lt;p&gt;èƒ½å¤Ÿå…‹æœ select å‡½æ•°ç¼ºç‚¹çš„ epoll å‡½æ•°å…·æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼Œè¿™äº›ä¼˜ç‚¹æ­£å¥½ä¸ä¹‹å‰çš„ select å‡½æ•°ç¼ºç‚¹ç›¸åã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ— éœ€ç¼–å†™ä»¥ç›‘è§†çŠ¶æ€å˜åŒ–ä¸ºç›®çš„çš„é’ˆå¯¹æ‰€æœ‰æ–‡ä»¶æè¿°ç¬¦çš„å¾ªç¯è¯­å¥&lt;/li&gt;
&lt;li&gt;è°ƒç”¨å¯¹åº”äº select å‡½æ•°çš„ epoll_wait å‡½æ•°æ—¶æ— éœ€æ¯æ¬¡ä¼ é€’ç›‘è§†å¯¹è±¡ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸‹é¢æ˜¯ epoll å‡½æ•°çš„åŠŸèƒ½ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;epoll_createï¼šåˆ›å»ºä¿å­˜ epoll æ–‡ä»¶æè¿°ç¬¦çš„ç©ºé—´&lt;/li&gt;
&lt;li&gt;epoll_ctlï¼šå‘ç©ºé—´æ³¨å†Œå¹¶æ³¨é”€æ–‡ä»¶æè¿°ç¬¦&lt;/li&gt;
&lt;li&gt;epoll_waitï¼šä¸ select å‡½æ•°ç±»ä¼¼ï¼Œç­‰å¾…æ–‡ä»¶æè¿°ç¬¦å‘ç”Ÿå˜åŒ–&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;select å‡½æ•°ä¸­ä¸ºäº†ä¿å­˜ç›‘è§†å¯¹è±¡çš„æ–‡ä»¶æè¿°ç¬¦ï¼Œç›´æ¥å£°æ˜äº† fd_set å˜é‡ï¼Œä½† epoll æ–¹å¼ä¸‹çš„æ“ä½œç³»ç»Ÿè´Ÿè´£ä¿å­˜ç›‘è§†å¯¹è±¡æ–‡ä»¶æè¿°ç¬¦ï¼Œå› æ­¤éœ€è¦å‘æ“ä½œç³»ç»Ÿè¯·æ±‚åˆ›å»ºä¿å­˜æ–‡ä»¶æè¿°ç¬¦çš„ç©ºé—´ï¼Œæ­¤æ—¶ç”¨çš„å‡½æ•°å°±æ˜¯ epoll_create ã€‚&lt;/p&gt;
&lt;p&gt;æ­¤å¤–ï¼Œä¸ºäº†æ·»åŠ å’Œåˆ é™¤ç›‘è§†å¯¹è±¡æ–‡ä»¶æè¿°ç¬¦ï¼Œselect æ–¹å¼ä¸­éœ€è¦ FD_SETã€FD_CLR å‡½æ•°ã€‚ä½†åœ¨ epoll æ–¹å¼ä¸­ï¼Œé€šè¿‡ epoll_ctl å‡½æ•°è¯·æ±‚æ“ä½œç³»ç»Ÿå®Œæˆã€‚æœ€åï¼Œselect æ–¹å¼ä¸‹è°ƒç”¨ select å‡½æ•°ç­‰å¾…æ–‡ä»¶æè¿°ç¬¦çš„å˜åŒ–ï¼Œè€Œ epoll_wait è°ƒç”¨ epoll_wait å‡½æ•°ã€‚è¿˜æœ‰ï¼Œselect æ–¹å¼ä¸­é€šè¿‡ fd_set å˜é‡æŸ¥çœ‹ç›‘è§†å¯¹è±¡çš„çŠ¶æ€å˜åŒ–ï¼Œè€Œ epoll æ–¹å¼é€šè¿‡å¦‚ä¸‹ç»“æ„ä½“ epoll_event å°†å‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶æè¿°ç¬¦å•ç‹¬é›†ä¸­åœ¨ä¸€èµ·ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 2
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 3
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 4
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 5
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 6
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 7
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 8
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 9
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;10
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;11
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;struct&lt;/span&gt; epoll_event
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    __uint32_t events;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    epoll_data_t data;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;};
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;typedef&lt;/span&gt; &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;union&lt;/span&gt; epoll_data {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;void&lt;/span&gt; *ptr;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; fd;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    __uint32_t u32;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    __uint64_t u64;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;} epoll_data_t;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å£°æ˜è¶³å¤Ÿå¤§çš„ epoll_event ç»“æ„ä½“æ•°ç»„å€™ï¼Œä¼ é€’ç»™ epoll_wait å‡½æ•°æ—¶ï¼Œå‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶æè¿°ç¬¦ä¿¡æ¯å°†è¢«å¡«å…¥æ•°ç»„ã€‚å› æ­¤ï¼Œæ— éœ€åƒ select å‡½æ•°é‚£æ ·é’ˆå¯¹æ‰€æœ‰æ–‡ä»¶æè¿°ç¬¦è¿›è¡Œå¾ªç¯ã€‚&lt;/p&gt;
&lt;h4 id=&#34;1714-epoll_create&#34;&gt;17.1.4 epoll_create&lt;/h4&gt;
&lt;p&gt;epoll æ˜¯ä» Linux çš„ 2.5.44 ç‰ˆå†…æ ¸å¼€å§‹å¼•å…¥çš„ã€‚é€šè¿‡ä»¥ä¸‹å‘½ä»¤å¯ä»¥æŸ¥çœ‹ Linux å†…æ ¸ç‰ˆæœ¬ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cat /proc/sys/kernel/osrelease
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¸‹é¢æ˜¯ epoll_create å‡½æ•°çš„åŸå‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;2
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;3
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;4
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;5
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#1e889b&#34;&gt;&amp;lt;sys/epoll.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#008b45&#34;&gt;epoll_create&lt;/span&gt;(&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; size);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;/*
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;æˆåŠŸæ—¶è¿”å› epoll çš„æ–‡ä»¶æè¿°ç¬¦ï¼Œå¤±è´¥æ—¶è¿”å› -1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;sizeï¼šepoll å®ä¾‹çš„å¤§å°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;*/&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;è°ƒç”¨ epoll_create å‡½æ•°æ—¶åˆ›å»ºçš„æ–‡ä»¶æè¿°ç¬¦ä¿å­˜ç©ºé—´ç§°ä¸ºã€Œepoll ä¾‹ç¨‹ã€ï¼Œä½†æœ‰äº›æƒ…å†µä¸‹åç§°ä¸åŒï¼Œéœ€è¦ç¨åŠ æ³¨æ„ã€‚é€šè¿‡å‚æ•° size ä¼ é€’çš„å€¼å†³å®š epoll ä¾‹ç¨‹çš„å¤§å°ï¼Œä½†è¯¥å€¼åªæ˜¯å‘æ“ä½œç³»ç»Ÿæå‡ºçš„å»ºè®®ã€‚æ¢è¨€ä¹‹ï¼Œsize å¹¶ä¸ç”¨æ¥å†³å®š epoll çš„å¤§å°ï¼Œè€Œä»…ä¾›æ“ä½œç³»ç»Ÿå‚è€ƒã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Linux 2.6.8 ä¹‹åçš„å†…æ ¸å°†å®Œå…¨ä¼ å…¥ epoll_create å‡½æ•°çš„ size å‡½æ•°ï¼Œå› æ­¤å†…æ ¸ä¼šæ ¹æ®æƒ…å†µè°ƒæ•´ epoll ä¾‹ç¨‹å¤§å°ã€‚ä½†æ˜¯æœ¬ä¹¦ç¨‹åºå¹¶æ²¡æœ‰å¿½ç•¥ size&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;epoll_create å‡½æ•°åˆ›å»ºçš„èµ„æºä¸å¥—æ¥å­—ç›¸åŒï¼Œä¹Ÿç”±æ“ä½œç³»ç»Ÿç®¡ç†ã€‚å› æ­¤ï¼Œè¯¥å‡½æ•°å’Œåˆ›å»ºå¥—æ¥å­—çš„æƒ…å†µç›¸åŒï¼Œä¹Ÿä¼šè¿”å›æ–‡ä»¶æè¿°ç¬¦ï¼Œä¹Ÿå°±æ˜¯è¯´è¿”å›çš„æ–‡ä»¶æè¿°ç¬¦ä¸»è¦ç”¨äºåŒºåˆ† epoll ä¾‹ç¨‹ã€‚éœ€è¦ç»ˆæ­¢æ—¶ï¼Œä¸å…¶ä»–æ–‡ä»¶æè¿°ç¬¦ç›¸åŒï¼Œä¹Ÿè¦è°ƒç”¨ close å‡½æ•°&lt;/p&gt;
&lt;h4 id=&#34;1715-epoll_ctl&#34;&gt;17.1.5 epoll_ctl&lt;/h4&gt;
&lt;p&gt;ç”Ÿæˆä¾‹ç¨‹åï¼Œåº”åœ¨å…¶å†…éƒ¨æ³¨å†Œç›‘è§†å¯¹è±¡æ–‡ä»¶æè¿°ç¬¦ï¼Œæ­¤æ—¶ä½¿ç”¨ epoll_ctl å‡½æ•°ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;2
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;3
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;4
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;5
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;6
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;7
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;8
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;9
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#1e889b&#34;&gt;&amp;lt;sys/epoll.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#008b45&#34;&gt;epoll_ctl&lt;/span&gt;(&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; epfd, &lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; op, &lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; fd, &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;struct&lt;/span&gt; epoll_event *event);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;/*
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;æˆåŠŸæ—¶è¿”å› 0 ï¼Œå¤±è´¥æ—¶è¿”å› -1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;epfdï¼šç”¨äºæ³¨å†Œç›‘è§†å¯¹è±¡çš„ epoll ä¾‹ç¨‹çš„æ–‡ä»¶æè¿°ç¬¦
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;opï¼šç”¨äºåˆ¶å®šç›‘è§†å¯¹è±¡çš„æ·»åŠ ã€åˆ é™¤æˆ–æ›´æ”¹ç­‰æ“ä½œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;fdï¼šéœ€è¦æ³¨å†Œçš„ç›‘è§†å¯¹è±¡æ–‡ä»¶æè¿°ç¬¦
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;eventï¼šç›‘è§†å¯¹è±¡çš„äº‹ä»¶ç±»å‹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;*/&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¸å…¶ä»– epoll å‡½æ•°ç›¸æ¯”ï¼Œè¯¥å‡½æ•°çœ‹èµ·æ¥æœ‰äº›å¤æ‚ï¼Œä½†é€šè¿‡è°ƒç”¨è¯­å¥å°±å¾ˆå®¹æ˜“ç†è§£ï¼Œå‡è®¾æŒ‰ç…§å¦‚ä¸‹å½¢å¼è°ƒç”¨ epoll_ctl å‡½æ•°ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-CQL&#34; data-lang=&#34;CQL&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;epoll_ctl(A,EPOLL_CTL_ADD,B,C);&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ç¬¬äºŒä¸ªå‚æ•° EPOLL_CTL_ADD æ„å‘³ç€ã€Œæ·»åŠ ã€ï¼Œä¸Šè¿°è¯­å¥æœ‰å¦‚ä¸‹æ„ä¹‰ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;epoll  ä¾‹ç¨‹ A ä¸­æ³¨å†Œæ–‡ä»¶æè¿°ç¬¦ B ï¼Œä¸»è¦ç›®çš„æ˜¯ä¸ºäº†ç›‘è§†å‚æ•° C ä¸­çš„äº‹ä»¶&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å†ä»‹ç»ä¸€ä¸ªè°ƒç”¨è¯­å¥ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;epoll_ctl(A,EPOLL_CTL_DEL,B,&lt;span style=&#34;color:#658b00&#34;&gt;NULL&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¸Šè¿°è¯­å¥ä¸­ç¬¬äºŒä¸ªå‚æ•°æ„å‘³è¿™ã€Œåˆ é™¤ã€ï¼Œæœ‰ä»¥ä¸‹å«ä¹‰ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä» epoll ä¾‹ç¨‹ A ä¸­åˆ é™¤æ–‡ä»¶æè¿°ç¬¦ B&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä»ä¸Šè¿°ç¤ºä¾‹ä¸­å¯ä»¥çœ‹å‡ºï¼Œä»ç›‘è§†å¯¹è±¡ä¸­åˆ é™¤æ—¶ï¼Œä¸éœ€è¦ç›‘è§†ç±»å‹ï¼Œå› æ­¤å‘ç¬¬å››ä¸ªå‚æ•°å¯ä»¥ä¼ é€’ä¸º NULL&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æ˜¯ç¬¬äºŒä¸ªå‚æ•°çš„å«ä¹‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;EPOLL_CTL_ADDï¼šå°†æ–‡ä»¶æè¿°ç¬¦æ³¨å†Œåˆ° epoll ä¾‹ç¨‹&lt;/li&gt;
&lt;li&gt;EPOLL_CTL_DELï¼šä» epoll ä¾‹ç¨‹ä¸­åˆ é™¤æ–‡ä»¶æè¿°ç¬¦&lt;/li&gt;
&lt;li&gt;EPOLL_CTL_MODï¼šæ›´æ”¹æ³¨å†Œçš„æ–‡ä»¶æè¿°ç¬¦çš„å…³æ³¨äº‹ä»¶å‘ç”Ÿæƒ…å†µ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;epoll_event ç»“æ„ä½“ç”¨äºä¿å­˜äº‹ä»¶çš„æ–‡ä»¶æè¿°ç¬¦ç»“åˆã€‚ä½†ä¹Ÿå¯ä»¥åœ¨ epoll ä¾‹ç¨‹ä¸­æ³¨å†Œæ–‡ä»¶æè¿°ç¬¦æ—¶ï¼Œç”¨äºæ³¨å†Œå…³æ³¨çš„äº‹ä»¶ã€‚è¯¥å‡½æ•°ä¸­ epoll_event ç»“æ„ä½“çš„å®šä¹‰å¹¶ä¸æ˜¾çœ¼ï¼Œå› æ­¤é€šè¿‡æ‰è‹±è¯­å‰§è¯´æ˜è¯¥ç»“æ„ä½“åœ¨ epoll_ctl å‡½æ•°ä¸­çš„åº”ç”¨ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;2
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;3
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;4
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;5
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;struct&lt;/span&gt; epoll_event event;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;event.events=EPOLLIN;&lt;span style=&#34;color:#228b22&#34;&gt;//å‘ç”Ÿéœ€è¦è¯»å–æ•°æ®çš„æƒ…å†µæ—¶
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;&lt;/span&gt;event.data.fd=sockfd;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;epoll_ctl(epfd,EPOLL_CTL_ADD,sockfd,&amp;amp;event);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¸Šè¿°ä»£ç å°† epfd æ³¨å†Œåˆ° epoll ä¾‹ç¨‹ epfd ä¸­ï¼Œå¹¶åœ¨éœ€è¦è¯»å–æ•°æ®çš„æƒ…å†µä¸‹äº§ç”Ÿç›¸åº”äº‹ä»¶ã€‚æ¥ä¸‹æ¥ç»™å‡º epoll_event çš„æˆå‘˜ events ä¸­å¯ä»¥ä¿å­˜çš„å¸¸é‡åŠæ‰€æŒ‡çš„äº‹ä»¶ç±»å‹ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;EPOLLINï¼šéœ€è¦è¯»å–æ•°æ®çš„æƒ…å†µ&lt;/li&gt;
&lt;li&gt;EPOLLOUTï¼šè¾“å‡ºç¼“å†²ä¸ºç©ºï¼Œå¯ä»¥ç«‹å³å‘é€æ•°æ®çš„æƒ…å†µ&lt;/li&gt;
&lt;li&gt;EPOLLPRIï¼šæ”¶åˆ° OOB æ•°æ®çš„æƒ…å†µ&lt;/li&gt;
&lt;li&gt;EPOLLRDHUPï¼šæ–­å¼€è¿æ¥æˆ–åŠå…³é—­çš„æƒ…å†µï¼Œè¿™åœ¨è¾¹ç¼˜è§¦å‘æ–¹å¼ä¸‹éå¸¸æœ‰ç”¨&lt;/li&gt;
&lt;li&gt;EPOLLERRï¼šå‘ç”Ÿé”™è¯¯çš„æƒ…å†µ&lt;/li&gt;
&lt;li&gt;EPOLLETï¼šä»¥è¾¹ç¼˜è§¦å‘çš„æ–¹å¼å¾—åˆ°äº‹ä»¶é€šçŸ¥&lt;/li&gt;
&lt;li&gt;EPOLLONESHOTï¼šå‘ç”Ÿä¸€æ¬¡äº‹ä»¶åï¼Œç›¸åº”æ–‡ä»¶æè¿°ç¬¦ä¸å†æ”¶åˆ°äº‹ä»¶é€šçŸ¥ã€‚å› æ­¤éœ€è¦å‘ epoll_ctl å‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°ä¼ é€’ EPOLL_CTL_MOD ï¼Œå†æ¬¡è®¾ç½®äº‹ä»¶ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¯é€šè¿‡ä½è¿ç®—åŒäº‹ä¼ é€’å¤šä¸ªä¸Šè¿°å‚æ•°ã€‚&lt;/p&gt;
&lt;h4 id=&#34;1716-epoll_wait&#34;&gt;17.1.6 epoll_wait&lt;/h4&gt;
&lt;p&gt;ä¸‹é¢æ˜¯å‡½æ•°åŸå‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;2
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;3
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;4
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;5
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;6
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;7
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;8
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;9
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#1e889b&#34;&gt;&amp;lt;sys/epoll.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#008b45&#34;&gt;epoll_wait&lt;/span&gt;(&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; epfd, &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;struct&lt;/span&gt; epoll_event *events, &lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; maxevents, &lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; timeout);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;/*
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;æˆåŠŸæ—¶è¿”å›å‘ç”Ÿäº‹ä»¶çš„æ–‡ä»¶æè¿°ç¬¦ï¼Œå¤±è´¥æ—¶è¿”å› -1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;epfd : è¡¨ç¤ºäº‹ä»¶å‘ç”Ÿç›‘è§†èŒƒå›´çš„ epoll ä¾‹ç¨‹çš„æ–‡ä»¶æè¿°ç¬¦
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;events : ä¿å­˜å‘ç”Ÿäº‹ä»¶çš„æ–‡ä»¶æè¿°ç¬¦é›†åˆçš„ç»“æ„ä½“åœ°å€å€¼
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;maxevents : ç¬¬äºŒä¸ªå‚æ•°ä¸­å¯ä»¥ä¿å­˜çš„æœ€å¤§äº‹ä»¶æ•°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;timeout : ä»¥ 1/1000 ç§’ä¸ºå•ä½çš„ç­‰å¾…æ—¶é—´ï¼Œä¼ é€’ -1 æ—¶ï¼Œä¸€ç›´ç­‰å¾…ç›´åˆ°å‘ç”Ÿäº‹ä»¶
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;*/&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;è¯¥å‡½æ•°è°ƒç”¨æ–¹å¼å¦‚ä¸‹ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç¬¬äºŒä¸ªå‚æ•°æ‰€æŒ‡ç¼“å†²éœ€è¦åŠ¨æ€åˆ†é…ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;2
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;3
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;4
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;5
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;6
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; event_cnt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;struct&lt;/span&gt; epoll_event *ep_events;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ep_events=malloc(&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;sizeof&lt;/span&gt;(&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;struct&lt;/span&gt; epoll_event)*EPOLL_SIZE);&lt;span style=&#34;color:#228b22&#34;&gt;//EPOLL_SIZEæ˜¯å®å¸¸é‡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;&lt;/span&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;event_cnt=epoll_wait(epfd,ep_events,EPOLL_SIZE,-&lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;è°ƒç”¨å‡½æ•°åï¼Œè¿”å›å‘ç”Ÿäº‹ä»¶çš„æ–‡ä»¶æè¿°ç¬¦ï¼ŒåŒæ—¶åœ¨ç¬¬äºŒä¸ªå‚æ•°æŒ‡å‘çš„ç¼“å†²ä¸­ä¿å­˜å‘ç”Ÿäº‹ä»¶çš„æ–‡ä»¶æè¿°ç¬¦é›†åˆã€‚å› æ­¤ï¼Œæ— éœ€åƒ select ä¸€æ ·æ’å…¥é’ˆå¯¹æ‰€æœ‰æ–‡ä»¶æè¿°ç¬¦çš„å¾ªç¯ã€‚&lt;/p&gt;
&lt;h4 id=&#34;1717-åŸºäº-epoll-çš„å›å£°æœåŠ¡å™¨ç«¯&#34;&gt;17.1.7 åŸºäº epoll çš„å›å£°æœåŠ¡å™¨ç«¯&lt;/h4&gt;
&lt;p&gt;ä¸‹é¢æ˜¯å›å£°æœåŠ¡å™¨ç«¯çš„ä»£ç ï¼ˆä¿®æ”¹è‡ªç¬¬ 12 ç«  &lt;a href=&#34;https://github.com/caixiongjiang/TCPIP/blob/master/ch12/echo_selectserv.c&#34;&gt;echo_selectserv.c&lt;/a&gt;ï¼‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/caixiongjiang/TCPIP/blob/master/ch17/echo_epollserv.c&#34;&gt;echo_epollserv.c&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç¼–è¯‘è¿è¡Œï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;gcc echo_epollserv.c -o serv
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./serv &lt;span style=&#34;color:#b452cd&#34;&gt;9190&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;è¿è¡Œç»“æœï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2019/02/01/5c53f5b6d4acf.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥çœ‹å‡ºè¿è¡Œç»“æœå’Œä»¥å‰ select å®ç°çš„å’Œ fork å®ç°çš„ç»“æœä¸€æ ·ï¼Œéƒ½å¯ä»¥æ”¯æŒå¤šå®¢æˆ·ç«¯åŒæ—¶è¿è¡Œã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯è¿™é‡Œè¿ç”¨äº† epoll æ•ˆç‡é«˜äº select&lt;/p&gt;
&lt;p&gt;æ€»ç»“ä¸€ä¸‹ epoll çš„æµç¨‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;epoll_create åˆ›å»ºä¸€ä¸ªä¿å­˜ epoll æ–‡ä»¶æè¿°ç¬¦çš„ç©ºé—´ï¼Œå¯ä»¥æ²¡æœ‰å‚æ•°&lt;/li&gt;
&lt;li&gt;åŠ¨æ€åˆ†é…å†…å­˜ï¼Œç»™å°†è¦ç›‘è§†çš„ epoll_wait&lt;/li&gt;
&lt;li&gt;åˆ©ç”¨ epoll_ctl æ§åˆ¶ æ·»åŠ  åˆ é™¤ï¼Œç›‘å¬äº‹ä»¶&lt;/li&gt;
&lt;li&gt;åˆ©ç”¨ epoll_wait æ¥è·å–æ”¹å˜çš„æ–‡ä»¶æè¿°ç¬¦,æ¥æ‰§è¡Œç¨‹åº&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;select å’Œ epoll çš„åŒºåˆ«ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¯æ¬¡è°ƒç”¨ select å‡½æ•°éƒ½ä¼šå‘æ“ä½œç³»ç»Ÿä¼ é€’ç›‘è§†å¯¹è±¡ä¿¡æ¯ï¼Œæµªè´¹å¤§é‡æ—¶é—´&lt;/li&gt;
&lt;li&gt;epoll ä»…å‘æ“ä½œç³»ç»Ÿä¼ é€’ä¸€æ¬¡ç›‘è§†å¯¹è±¡ï¼Œç›‘è§†èŒƒå›´æˆ–å†…å®¹å‘ç”Ÿå˜åŒ–æ—¶åªé€šçŸ¥å‘ç”Ÿå˜åŒ–çš„äº‹é¡¹&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;172-æ¡ä»¶è§¦å‘å’Œè¾¹ç¼˜è§¦å‘&#34;&gt;17.2 æ¡ä»¶è§¦å‘å’Œè¾¹ç¼˜è§¦å‘&lt;/h3&gt;
&lt;p&gt;å­¦ä¹  epoll æ—¶è¦äº†è§£æ¡ä»¶è§¦å‘ï¼ˆLevel Triggerï¼‰å’Œè¾¹ç¼˜è§¦å‘ï¼ˆEdge Triggerï¼‰ã€‚&lt;/p&gt;
&lt;h4 id=&#34;1721-æ¡ä»¶è§¦å‘å’Œè¾¹ç¼˜è§¦å‘çš„åŒºåˆ«åœ¨äºå‘ç”Ÿäº‹ä»¶çš„æ—¶é—´ç‚¹&#34;&gt;17.2.1 æ¡ä»¶è§¦å‘å’Œè¾¹ç¼˜è§¦å‘çš„åŒºåˆ«åœ¨äºå‘ç”Ÿäº‹ä»¶çš„æ—¶é—´ç‚¹&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;æ¡ä»¶è§¦å‘çš„ç‰¹æ€§&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ¡ä»¶è§¦å‘æ–¹å¼ä¸­ï¼Œåªè¦è¾“å…¥ç¼“å†²æœ‰æ•°æ®å°±ä¼šä¸€ç›´é€šçŸ¥è¯¥äº‹ä»¶&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¾‹å¦‚ï¼ŒæœåŠ¡å™¨ç«¯è¾“å…¥ç¼“å†²æ”¶åˆ° 50 å­—èŠ‚æ•°æ®æ—¶ï¼ŒæœåŠ¡å™¨ç«¯æ“ä½œç³»ç»Ÿå°†é€šçŸ¥è¯¥äº‹ä»¶ï¼ˆæ³¨å†Œåˆ°å‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶æè¿°ç¬¦ï¼‰ã€‚ä½†æ˜¯æœåŠ¡å™¨ç«¯è¯»å– 20 å­—èŠ‚åè¿˜å‰©ä¸‹ 30 å­—èŠ‚çš„æƒ…å†µä¸‹ï¼Œä»ä¼šæ³¨å†Œäº‹ä»¶ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¡ä»¶è§¦å‘æ–¹å¼ä¸­ï¼Œåªè¦è¾“å…¥ç¼“å†²ä¸­è¿˜å‰©æœ‰æ•°æ®ï¼Œå°±å°†ä»¥äº‹ä»¶æ–¹å¼å†æ¬¡æ³¨å†Œã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è¾¹ç¼˜è§¦å‘ç‰¹æ€§&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;è¾¹ç¼˜è§¦å‘ä¸­è¾“å…¥ç¼“å†²æ”¶åˆ°æ•°æ®æ—¶ä»…æ³¨å†Œ 1 æ¬¡è¯¥äº‹ä»¶ã€‚å³ä½¿è¾“å…¥ç¼“å†²ä¸­è¿˜ç•™æœ‰æ•°æ®ï¼Œä¹Ÿä¸ä¼šå†è¿›è¡Œæ³¨å†Œã€‚&lt;/p&gt;
&lt;h4 id=&#34;1722-æŒæ¡æ¡ä»¶è§¦å‘çš„äº‹ä»¶ç‰¹æ€§&#34;&gt;17.2.2 æŒæ¡æ¡ä»¶è§¦å‘çš„äº‹ä»¶ç‰¹æ€§&lt;/h4&gt;
&lt;p&gt;ä¸‹é¢ä»£ç ä¿®æ”¹è‡ª &lt;a href=&#34;https://github.com/caixiongjiang/TCPIP/blob/master/ch17/echo_epollserv.c&#34;&gt;echo_epollserv.c&lt;/a&gt; ã€‚epoll é»˜è®¤ä»¥æ¡ä»¶è§¦å‘çš„æ–¹å¼å·¥ä½œï¼Œå› æ­¤å¯ä»¥é€šè¿‡è¯¥ç¤ºä¾‹éªŒè¯æ¡ä»¶è§¦å‘çš„ç‰¹æ€§ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/caixiongjiang/TCPIP/blob/master/ch17/echo_EPLTserv.c&#34;&gt;echo_EPLTserv.c&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸Šé¢çš„ä»£ç æŠŠè°ƒç”¨ read å‡½æ•°æ—¶ä½¿ç”¨çš„ç¼“å†²å¤§å°ç¼©å°åˆ°äº† 4 ä¸ªå­—èŠ‚ï¼Œæ’å…¥äº†éªŒè¯ epoll_wait è°ƒç”¨æ¬¡æ•°çš„éªŒè¯å‡½æ•°ã€‚å‡å°‘ç¼“å†²å¤§å°æ˜¯ä¸ºäº†é˜»æ­¢æœåŠ¡å™¨ç«¯ä¸€æ¬¡æ€§è¯»å–æ¥æ”¶çš„æ•°æ®ã€‚æ¢è¨€ä¹‹ï¼Œè°ƒç”¨ read å‡½æ•°åï¼Œè¾“å…¥ç¼“å†²ä¸­ä»æœ‰æ•°æ®è¦è¯»å–ï¼Œè€Œä¸”ä¼šå› æ­¤æ³¨å†Œæ–°çš„äº‹ä»¶å¹¶ä» epoll_wait å‡½æ•°è¿”å›æ—¶å°†å¾ªç¯è¾“å‡ºã€Œreturn epoll_waitã€å­—ç¬¦ä¸²ã€‚&lt;/p&gt;
&lt;p&gt;ç¼–è¯‘è¿è¡Œ:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;gcc echo_EPLTserv.c -o serv
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./serv &lt;span style=&#34;color:#b452cd&#34;&gt;9190&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;è¿è¡Œç»“æœï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2019/02/01/5c540825ae415.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä»ç»“æœå¯ä»¥çœ‹å‡ºï¼Œæ¯å½“æ”¶åˆ°å®¢æˆ·ç«¯æ•°æ®æ—¶ï¼Œéƒ½å›æ³¨å†Œè¯¥äº‹ä»¶ï¼Œå¹¶å› æ­¤è°ƒç”¨ epoll_wait å‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢çš„ä»£ç æ˜¯ä¿®æ”¹åçš„è¾¹ç¼˜è§¦å‘æ–¹å¼çš„ä»£ç ï¼Œä»…ä»…æ˜¯æŠŠä¸Šé¢çš„ä»£ç æ”¹ä¸ºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; event.events = EPOLLIN | EPOLLET;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä»£ç ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/caixiongjiang/TCPIP/blob/master/ch17/echo_EDGEserv.c&#34;&gt;echo_EDGEserv.c&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç¼–è¯‘è¿è¡Œï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;gcc echo_EDGEserv.c -o serv
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./serv &lt;span style=&#34;color:#b452cd&#34;&gt;9190&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ç»“æœï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2019/02/01/5c54097b6469f.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä»ä¸Šé¢çš„ä¾‹å­çœ‹å‡ºï¼Œæ¥æ”¶åˆ°å®¢æˆ·ç«¯çš„æ¶ˆæ¯æ—¶ï¼Œåªè¾“å‡ºä¸€æ¬¡ã€Œreturn epoll_waitã€å­—ç¬¦ä¸²ï¼Œè¿™è¯æ˜ä»…æ³¨å†Œäº†ä¸€æ¬¡äº‹ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;select æ¨¡å‹æ˜¯ä»¥æ¡ä»¶è§¦å‘çš„æ–¹å¼å·¥ä½œçš„&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h4 id=&#34;1723-è¾¹ç¼˜è§¦å‘çš„æœåŠ¡å™¨ç«¯å¿…çŸ¥çš„ä¸¤ç‚¹&#34;&gt;17.2.3 è¾¹ç¼˜è§¦å‘çš„æœåŠ¡å™¨ç«¯å¿…çŸ¥çš„ä¸¤ç‚¹&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;é€šè¿‡ errno å˜é‡éªŒè¯é”™è¯¯åŸå› &lt;/li&gt;
&lt;li&gt;ä¸ºäº†å®Œæˆéé˜»å¡ï¼ˆNon-blockingï¼‰I/O ï¼Œæ›´æ”¹äº†å¥—æ¥å­—ç‰¹æ€§ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Linux å¥—æ¥å­—ç›¸å…³å‡½æ•°ä¸€èˆ¬é€šè¿‡ -1 é€šçŸ¥å‘ç”Ÿäº†é”™è¯¯ã€‚è™½ç„¶çŸ¥é“å‘ç”Ÿäº†é”™è¯¯ï¼Œä½†ä»…å‡­è¿™äº›å†…å®¹æ— æ³•å¾—çŸ¥äº§ç”Ÿé”™è¯¯çš„åŸå› ã€‚å› æ­¤ï¼Œä¸ºäº†åœ¨å‘ç”Ÿé”™è¯¯çš„æ—¶å€™æé¢å¤–çš„ä¿¡æ¯ï¼ŒLinux å£°æ˜äº†å¦‚ä¸‹å…¨å±€å˜é‡ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; errno;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¸ºäº†è®¿é—®è¯¥å˜é‡ï¼Œéœ€è¦å¼•å…¥ &lt;code&gt;error.h&lt;/code&gt; å¤´æ–‡ä»¶ï¼Œå› æ­¤æ­¤å¤´æ–‡ä»¶æœ‰ä¸Šè¿°å˜é‡çš„ extren å£°æ˜ã€‚å¦å¤–ï¼Œæ¯ç§å‡½æ•°å‘ç”Ÿé”™è¯¯æ—¶ï¼Œä¿å­˜åœ¨ errno å˜é‡ä¸­çš„å€¼éƒ½ä¸åŒã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;read å‡½æ•°å‘ç°è¾“å…¥ç¼“å†²ä¸­æ²¡æœ‰æ•°æ®å¯è¯»æ—¶è¿”å› -1ï¼ŒåŒæ—¶åœ¨ errno ä¸­ä¿å­˜ EAGAIN å¸¸é‡&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¸‹é¢æ˜¯ Linux ä¸­æä¾›çš„æ”¹å˜å’Œæ›´æ”¹æ–‡ä»¶å±æ€§çš„åŠæ³•ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;2
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;3
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;4
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;5
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;6
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#1e889b&#34;&gt;&amp;lt;fcntl.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#008b45&#34;&gt;fcntl&lt;/span&gt;(&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; fields, &lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; cmd, ...);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;/*
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;æˆåŠŸæ—¶è¿”å› cmd å‚æ•°ç›¸å…³å€¼ï¼Œå¤±è´¥æ—¶è¿”å› -1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;filedes : å±æ€§æ›´æ”¹ç›®æ ‡çš„æ–‡ä»¶æè¿°ç¬¦
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;cmd : è¡¨ç¤ºå‡½æ•°è°ƒç”¨ç›®çš„
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;*/&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä»ä¸Šè¿°å£°æ˜å¯ä»¥çœ‹å‡º fcntl æœ‰å¯å˜å‚æ•°çš„å½¢å¼ã€‚å¦‚æœå‘ç¬¬äºŒä¸ªå‚æ•°ä¼ é€’ F_GETFL ï¼Œå¯ä»¥è·å¾—ç¬¬ä¸€ä¸ªå‚æ•°æ‰€æŒ‡çš„æ–‡ä»¶æè¿°ç¬¦å±æ€§ï¼ˆint å‹ï¼‰ã€‚åä¹‹ï¼Œå¦‚æœä¼ é€’ F_SETFL ï¼Œå¯ä»¥æ›´æ”¹æ–‡ä»¶æè¿°ç¬¦å±æ€§ã€‚è‹¥å¸Œæœ›å°†æ–‡ä»¶ï¼ˆå¥—æ¥å­—ï¼‰æ”¹ä¸ºéé˜»å¡æ¨¡å¼ï¼Œéœ€è¦å¦‚ä¸‹  2 æ¡è¯­å¥ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-C&#34; data-lang=&#34;C&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; flag = fcntl(fd,F_GETFL,&lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;fcntl(fd,F_SETFL | O_NONBLOCK)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;é€šè¿‡ç¬¬ä¸€æ¡è¯­å¥ï¼Œè·å–ä¹‹å‰è®¾ç½®çš„å±æ€§ä¿¡æ¯ï¼Œé€šè¿‡ç¬¬äºŒæ¡è¯­å¥åœ¨æ­¤åŸºç¡€ä¸Šæ·»åŠ éé˜»å¡ O_NONBLOCK æ ‡å¿—ã€‚è°ƒç”¨ read/write å‡½æ•°æ—¶ï¼Œæ— è®ºæ˜¯å¦å­˜åœ¨æ•°æ®ï¼Œéƒ½ä¼šå½¢æˆéé˜»å¡æ–‡ä»¶ï¼ˆå¥—æ¥å­—ï¼‰ã€‚fcntl å‡½æ•°çš„é€‚ç”¨èŒƒå›´å¾ˆå¹¿ã€‚&lt;/p&gt;
&lt;h4 id=&#34;1724-å®ç°è¾¹ç¼˜è§¦å‘å›å£°æœåŠ¡å™¨ç«¯&#34;&gt;17.2.4 å®ç°è¾¹ç¼˜è§¦å‘å›å£°æœåŠ¡å™¨ç«¯&lt;/h4&gt;
&lt;p&gt;é€šè¿‡ errno ç¡®è®¤é”™è¯¯çš„åŸå› æ˜¯ï¼šè¾¹ç¼˜è§¦å‘æ–¹å¼ä¸­ï¼Œæ¥æ”¶æ•°æ®ä»…æ³¨å†Œä¸€æ¬¡è¯¥äº‹ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸ºè¿™ç§ç‰¹ç‚¹ï¼Œä¸€æ—¦å‘ç”Ÿè¾“å…¥ç›¸å…³äº‹ä»¶æ—¶ï¼Œå°±åº”è¯¥è¯»å–è¾“å…¥ç¼“å†²ä¸­çš„å…¨éƒ¨æ•°æ®ã€‚å› æ­¤éœ€è¦éªŒè¯è¾“å…¥ç¼“å†²æ˜¯å¦ä¸ºç©ºã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;read å‡½æ•°è¿”å› -1ï¼Œå˜é‡ errno ä¸­çš„å€¼å˜æˆ EAGAIN æ—¶ï¼Œè¯´æ˜æ²¡æœ‰æ•°æ®å¯è¯»ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ—¢ç„¶å¦‚æ­¤ï¼Œä¸ºä»€ä¹ˆè¦å°†å¥—æ¥å­—å˜æˆéé˜»å¡æ¨¡å¼ï¼Ÿè¾¹ç¼˜è§¦å‘æ¡ä»¶ä¸‹ï¼Œä»¥é˜»å¡æ–¹å¼å·¥ä½œçš„ read &amp;amp; write å‡½æ•°æœ‰å¯èƒ½å¼•èµ·æœåŠ¡ç«¯çš„é•¿æ—¶é—´åœé¡¿ã€‚å› æ­¤ï¼Œè¾¹ç¼˜è§¦å‘æ–¹å¼ä¸­ä¸€å®šè¦é‡‡ç”¨éé˜»å¡ read &amp;amp; write å‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æ˜¯ä»¥è¾¹ç¼˜è§¦å‘æ–¹å¼å·¥ä½œçš„å›å£°æœåŠ¡ç«¯ä»£ç ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/caixiongjiang/TCPIP/blob/master/ch17/echo_EPETserv.c&#34;&gt;echo_EPETserv.c&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç¼–è¯‘è¿è¡Œï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;gcc echo_EPETserv.c -o serv
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./serv
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ç»“æœï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2019/02/01/5c542149c0cee.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;1725-æ¡ä»¶è§¦å‘å’Œè¾¹ç¼˜è§¦å‘å­°ä¼˜å­°åŠ£&#34;&gt;17.2.5 æ¡ä»¶è§¦å‘å’Œè¾¹ç¼˜è§¦å‘å­°ä¼˜å­°åŠ£&lt;/h4&gt;
&lt;p&gt;è¾¹ç¼˜è§¦å‘æ–¹å¼å¯ä»¥åšåˆ°è¿™ç‚¹ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¯ä»¥åˆ†ç¦»æ¥æ”¶æ•°æ®å’Œå¤„ç†æ•°æ®çš„æ—¶é—´ç‚¹ï¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¸‹é¢æ˜¯è¾¹ç¼˜è§¦å‘çš„å›¾&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2019/02/01/5c5421e3b3f2b.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;è¿è¡Œæµç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æœåŠ¡å™¨ç«¯åˆ†åˆ«ä» A B C æ¥æ”¶æ•°æ®&lt;/li&gt;
&lt;li&gt;æœåŠ¡å™¨ç«¯æŒ‰ç…§  A B C çš„é¡ºåºé‡æ–°ç»„åˆæ¥æ”¶åˆ°çš„æ•°æ®&lt;/li&gt;
&lt;li&gt;ç»„åˆçš„æ•°æ®å°†å‘é€ç»™ä»»æ„ä¸»æœºã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸ºäº†å®Œæˆè¿™ä¸ªè¿‡ç¨‹ï¼Œå¦‚æœå¯ä»¥æŒ‰ç…§å¦‚ä¸‹æµç¨‹è¿è¡Œï¼ŒæœåŠ¡ç«¯çš„å®ç°å¹¶ä¸éš¾ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å®¢æˆ·ç«¯æŒ‰ç…§ A B C çš„é¡ºåºè¿æ¥æœåŠ¡å™¨ï¼Œå¹¶ä¸”æŒ‰ç…§æ¬¡åºå‘æœåŠ¡å™¨å‘é€æ•°æ®&lt;/li&gt;
&lt;li&gt;éœ€è¦æ¥æ”¶æ•°æ®çš„å®¢æˆ·ç«¯åº”åœ¨å®¢æˆ·ç«¯ A B C ä¹‹å‰è¿æ¥åˆ°æœåŠ¡å™¨ç«¯å¹¶ç­‰å¾…&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä½†æ˜¯å®é™…æƒ…å†µä¸­å¯èƒ½æ˜¯ä¸‹é¢è¿™æ ·ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å®¢æˆ·ç«¯ C å’Œ B æ­£åœ¨å‘æœåŠ¡å™¨å‘é€æ•°æ®ï¼Œä½†æ˜¯ A å¹¶æ²¡æœ‰è¿æ¥åˆ°æœåŠ¡å™¨&lt;/li&gt;
&lt;li&gt;å®¢æˆ·ç«¯ A B C ä¹±åºå‘é€æ•°æ®&lt;/li&gt;
&lt;li&gt;æœåŠ¡ç«¯å·²ç»æ¥æ”¶åˆ°æ•°æ®ï¼Œä½†æ˜¯è¦æ¥æ”¶æ•°æ®çš„ç›®æ ‡å®¢æˆ·ç«¯å¹¶æ²¡æœ‰è¿æ¥åˆ°æœåŠ¡å™¨ç«¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å› æ­¤ï¼Œå³ä½¿è¾“å…¥ç¼“å†²æ”¶åˆ°æ•°æ®ï¼ŒæœåŠ¡å™¨ç«¯ä¹Ÿèƒ½å†³å®šè¯»å–å’Œå¤„ç†è¿™äº›æ•°æ®çš„æ—¶é—´ç‚¹ï¼Œè¿™æ ·å°±ç»™æœåŠ¡å™¨ç«¯çš„å®ç°å¸¦æ¥å¾ˆå¤§çµæ´»æ€§ã€‚&lt;/p&gt;
&lt;h3 id=&#34;173-ä¹ é¢˜&#34;&gt;17.3 ä¹ é¢˜&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;ä»¥ä¸‹ç­”æ¡ˆä»…ä»£è¡¨æœ¬äººä¸ªäººè§‚ç‚¹ï¼Œå¯èƒ½ä¸æ˜¯æ­£ç¡®ç­”æ¡ˆã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;åˆ©ç”¨ select å‡½æ•°å®ç°æœåŠ¡å™¨ç«¯æ—¶ï¼Œä»£ç å±‚é¢å­˜åœ¨çš„ä¸¤ä¸ªç¼ºç‚¹æ˜¯ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ç­”ï¼šâ‘ è°ƒç”¨ select å‡½æ•°åå¸¸è§çš„é’ˆå¯¹æ‰€æœ‰æ–‡ä»¶æè¿°ç¬¦çš„å¾ªç¯è¯­å¥â‘¡æ¯æ¬¡è°ƒç”¨ select å‡½æ•°æ—¶éƒ½è¦ä¼ é€’ç›‘è§†å¯¹è±¡ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ— è®ºæ˜¯ select æ–¹å¼è¿˜æ˜¯ epoll æ–¹å¼ï¼Œéƒ½éœ€è¦å°†ç›‘è§†å¯¹è±¡æ–‡ä»¶æè¿°ç¬¦ä¿¡æ¯é€šè¿‡å‡½æ•°è°ƒç”¨ä¼ é€’ç»™æ“ä½œç³»ç»Ÿã€‚è¯·è§£é‡Šä¼ é€’è¯¥ä¿¡æ¯çš„åŸå› ã€‚&lt;/p&gt;
&lt;p&gt;ç­”ï¼šæ–‡ä»¶æè¿°ç¬¦æ˜¯ç”±æ“ä½œç³»ç»Ÿç®¡ç†çš„ï¼Œæ‰€ä»¥å¿…é¡»è¦å€ŸåŠ©æ“ä½œç³»ç»Ÿæ‰èƒ½å®Œæˆã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;select æ–¹å¼å’Œ epoll æ–¹å¼çš„æœ€å¤§å·®å¼‚åœ¨äºç›‘è§†å¯¹è±¡æ–‡ä»¶æè¿°ç¬¦ä¼ é€’ç»™æ“ä½œç³»ç»Ÿçš„æ–¹å¼ã€‚è¯·è¯´æ˜å…·ä½“å·®å¼‚ï¼Œå¹¶è§£é‡Šä¸ºä½•å­˜åœ¨è¿™ç§å·®å¼‚ã€‚&lt;/p&gt;
&lt;p&gt;ç­”ï¼šselect å‡½æ•°æ¯æ¬¡è°ƒç”¨éƒ½è¦ä¼ é€’æ‰€æœ‰çš„ç›‘è§†å¯¹è±¡ä¿¡æ¯ï¼Œè€Œ epoll å‡½æ•°ä»…å‘æ“ä½œç³»ç»Ÿä¼ é€’ 1 æ¬¡ç›‘è§†å¯¹è±¡ï¼Œç›‘è§†èŒƒå›´æˆ–å†…å®¹å‘ç”Ÿå˜åŒ–æ—¶åªé€šçŸ¥å‘ç”Ÿå˜åŒ–çš„äº‹é¡¹ã€‚select é‡‡ç”¨è¿™ç§æ–¹æ³•æ˜¯ä¸ºäº†ä¿æŒå…¼å®¹æ€§ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è™½ç„¶ epoll æ˜¯ select çš„æ”¹è¿›æ–¹æ¡ˆï¼Œä½† select ä¹Ÿæœ‰è‡ªå·±çš„ä¼˜ç‚¹ã€‚åœ¨ä½•ç§æƒ…å†µä¸‹ä½¿ç”¨ select æ›´åŠ åˆç†ã€‚&lt;/p&gt;
&lt;p&gt;ç­”ï¼šâ‘ æœåŠ¡å™¨ç«¯æ¥å…¥è€…å°‘â‘¡ç¨‹åºåº”å…·æœ‰å…¼å®¹æ€§ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;epoll æ˜¯ä»¥æ¡ä»¶è§¦å‘å’Œè¾¹ç¼˜è§¦å‘æ–¹å¼å·¥ä½œã€‚äºŒè€…æœ‰ä½•å·®åˆ«ï¼Ÿä»è¾“å…¥ç¼“å†²çš„è§’åº¦è¯´æ˜è¿™ä¸¤ç§æ–¹å¼é€šçŸ¥äº‹ä»¶çš„æ—¶é—´ç‚¹å·®å¼‚ã€‚&lt;/p&gt;
&lt;p&gt;ç­”ï¼šåœ¨æ¡ä»¶è§¦å‘ä¸­ï¼Œåªè¦è¾“å…¥ç¼“å†²æœ‰æ•°æ®ï¼Œå°±ä¼šä¸€ç›´é€šçŸ¥è¯¥äº‹ä»¶ã€‚è¾¹ç¼˜è§¦å‘ä¸­è¾“å…¥ç¼“å†²æ”¶åˆ°æ•°æ®æ—¶ä»…æ³¨å†Œ 1 æ¬¡è¯¥äº‹ä»¶ï¼Œå³ä½¿è¾“å…¥ç¼“å†²ä¸­è¿˜ç•™æœ‰æ•°æ®ï¼Œä¹Ÿä¸ä¼šå†è¿›è¡Œæ³¨å†Œã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é‡‡ç”¨è¾¹ç¼˜è§¦å‘æ—¶å¯ä»¥åˆ†ç¦»æ•°æ®çš„æ¥æ”¶å’Œå¤„ç†æ—¶é—´ç‚¹ã€‚è¯·è¯´æ˜å…¶ä¼˜ç‚¹å’ŒåŸå› ã€‚&lt;/p&gt;
&lt;p&gt;ç­”ï¼šåˆ†ç¦»æ¥æ”¶æ•°æ®å’Œå¤„ç†æ•°æ®çš„æ—¶é—´ç‚¹ï¼Œç»™æœåŠ¡ç«¯çš„å®ç°å¸¦æ¥å¾ˆå¤§çµæ´»æ€§ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
- https://caixiongjiang.github.io/blog/2022/tcp-ip%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/tcp-ip%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E7%AC%AC-17-%E7%AB%A0-%E4%BC%98%E4%BA%8E-select-%E7%9A%84-epoll-%E7%AC%94%E8%AE%B0/ - </description>
        </item>
    
    
    
        <item>
        <title>ç¬¬å…­è®²ï¼šè¿­ä»£å™¨è®¾è®¡çš„åŸåˆ™&amp;iterator traitsçš„ä½œç”¨ä¸è®¾è®¡</title>
        <link>https://caixiongjiang.github.io/blog/2022/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E7%AC%AC6%E8%AE%B2-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</link>
        <pubDate>Fri, 08 Apr 2022 18:18:05 +0800</pubDate>
        
        <guid>https://caixiongjiang.github.io/blog/2022/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E7%AC%AC6%E8%AE%B2-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</guid>
        <description>ğŸŒ€Jarson Cai&#39;s Blog https://caixiongjiang.github.io/blog/2022/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E7%AC%AC6%E8%AE%B2-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/ -&lt;h2 id=&#34;ç¬¬å…­è®²è¿­ä»£å™¨è®¾è®¡çš„åŸåˆ™iterator-traitsçš„ä½œç”¨ä¸è®¾è®¡&#34;&gt;ç¬¬å…­è®²ï¼šè¿­ä»£å™¨è®¾è®¡çš„åŸåˆ™&amp;amp;iterator traitsçš„ä½œç”¨ä¸è®¾è®¡&lt;/h2&gt;
&lt;h3 id=&#34;iterator-traits&#34;&gt;iterator traits&lt;/h3&gt;
&lt;p&gt;iterator traitsæ˜¯ä¸ºäº†æå–å‡ºè¿­ä»£å™¨çš„ç‰¹ç‚¹ï¼Œè¿­ä»£å™¨å¿…é¡»æœ‰èƒ½åŠ›å›ç­”algorithmæå‡ºçš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;c++æ ‡å‡†åº“è®¾è®¡äº†5ç§å›ç­”æ–¹å¼,é›†æˆåœ¨classä¸­ï¼ˆè¿­ä»£å™¨ç›¸å…³çš„ç±»å‹ï¼Œè¿­ä»£å™¨æ¨¡ç‰ˆä¸­æœ¬èº«å¿…é¡»å®šä¹‰å‡ºæ¥ï¼‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;iterator_categoryï¼šè¿­ä»£å™¨çš„ç±»å‹ï¼Œå…·ä½“è¡¨ç°åœ¨èƒ½å¦++æˆ–è€…&amp;ndash;æˆ–è€…ä¸€ä¸‹åŠ å‡å¾ˆå¤šæ­¥&lt;/li&gt;
&lt;li&gt;difference_typeï¼šä»£è¡¨ä¸¤ä¸ªiteratorçš„è·ç¦»åº”è¯¥ç”¨ä»€ä¹ˆtypeæ¥è¡¨ç°ï¼ˆéšæœºè®¿é—®ï¼šunsign intergerï¼Œå®ç°é“¾è¡¨çš„éƒ½ç”¨ptrdiff_tç±»å‹ï¼‰&lt;/li&gt;
&lt;li&gt;value_typeï¼šiteratoræ‰€æŒ‡å…ƒç´ çš„ç±»å‹&lt;/li&gt;
&lt;li&gt;referenceï¼šå¼•ç”¨ï¼ˆæš‚æœªä½¿ç”¨ï¼‰&lt;/li&gt;
&lt;li&gt;pointerï¼šæŒ‡é’ˆï¼ˆæš‚æœªä½¿ç”¨ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/stl/img6_1.jpg&#34; alt=&#34;5ç§associated type&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä½†å¦‚æœiteratoræœ¬èº«ä¸æ˜¯classï¼Œä¾‹å¦‚native pointerï¼ˆé€€åŒ–çš„iteratorï¼‰ï¼Œå¦‚ä½•å›ç­”ç®—æ³•çš„5ä¸ªé—®é¢˜ï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/stl/img6_2.jpg&#34; alt=&#34;iterator traits&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/stl/img6_3.jpg&#34; alt=&#34;iterator traits&#34;&gt;
iterator traitsç”¨äºåˆ†ç¦»class iiteratorså’Œnon-class iterators&lt;/p&gt;
- https://caixiongjiang.github.io/blog/2022/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E7%AC%AC6%E8%AE%B2-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/ - </description>
        </item>
    
    
    
        <item>
        <title>ã€ŠTCP/IPç½‘ç»œç¼–ç¨‹ã€‹ç¬¬ 16 ç«  å…³äº I/O æµåˆ†ç¦»çš„å…¶ä»–å†…å®¹ ç¬”è®°</title>
        <link>https://caixiongjiang.github.io/blog/2022/tcp-ip%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/tcp-ip%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E7%AC%AC-16-%E7%AB%A0-%E5%85%B3%E4%BA%8E-i-o-%E6%B5%81%E5%88%86%E7%A6%BB%E7%9A%84%E5%85%B6%E4%BB%96%E5%86%85%E5%AE%B9-%E7%AC%94%E8%AE%B0/</link>
        <pubDate>Fri, 08 Apr 2022 14:38:38 +0800</pubDate>
        
        <guid>https://caixiongjiang.github.io/blog/2022/tcp-ip%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/tcp-ip%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E7%AC%AC-16-%E7%AB%A0-%E5%85%B3%E4%BA%8E-i-o-%E6%B5%81%E5%88%86%E7%A6%BB%E7%9A%84%E5%85%B6%E4%BB%96%E5%86%85%E5%AE%B9-%E7%AC%94%E8%AE%B0/</guid>
        <description>ğŸŒ€Jarson Cai&#39;s Blog https://caixiongjiang.github.io/blog/2022/tcp-ip%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/tcp-ip%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E7%AC%AC-16-%E7%AB%A0-%E5%85%B3%E4%BA%8E-i-o-%E6%B5%81%E5%88%86%E7%A6%BB%E7%9A%84%E5%85%B6%E4%BB%96%E5%86%85%E5%AE%B9-%E7%AC%94%E8%AE%B0/ -&lt;h2 id=&#34;ç¬¬-16-ç« -å…³äº-io-æµåˆ†ç¦»çš„å…¶ä»–å†…å®¹&#34;&gt;ç¬¬ 16 ç«  å…³äº I/O æµåˆ†ç¦»çš„å…¶ä»–å†…å®¹&lt;/h2&gt;
&lt;h3 id=&#34;161-åˆ†ç¦»-io-æµ&#34;&gt;16.1 åˆ†ç¦» I/O æµ&lt;/h3&gt;
&lt;p&gt;ã€Œåˆ†ç¦» I/O æµã€æ˜¯ä¸€ç§å¸¸ç”¨è¡¨è¾¾ã€‚æœ‰ I/O å·¥å…·å¯åŒºåˆ†äºŒè€…ï¼Œæ— è®ºé‡‡ç”¨å“ªç§æ–¹æ³•ï¼Œéƒ½å¯ä»¥è®¤ä¸ºæ˜¯åˆ†ç¦»äº† I/O æµã€‚&lt;/p&gt;
&lt;h4 id=&#34;1611-2æ¬¡--io-æµåˆ†ç¦»&#34;&gt;16.1.1 2æ¬¡  I/O æµåˆ†ç¦»&lt;/h4&gt;
&lt;p&gt;ä¹‹å‰æœ‰ä¸¤ç§åˆ†ç¦»æ–¹æ³•ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç¬¬ä¸€ç§æ˜¯ç¬¬ 10 ç« çš„ã€ŒTCP I/O è¿‡ç¨‹ã€åˆ†ç¦»ã€‚é€šè¿‡è°ƒç”¨ fork å‡½æ•°å¤åˆ¶å‡ºä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼Œä»¥åŒºåˆ†è¾“å…¥å’Œè¾“å‡ºä¸­ä½¿ç”¨çš„æ–‡ä»¶æè¿°ç¬¦ã€‚è™½ç„¶æ–‡ä»¶æè¿°ç¬¦æœ¬èº«ä¸ä¼šæ ¹æ®è¾“å…¥å’Œè¾“å‡ºè¿›è¡ŒåŒºåˆ†ï¼Œä½†æˆ‘ä»¬åˆ†å¼€äº† 2 ä¸ªæ–‡ä»¶æè¿°ç¬¦çš„ç”¨é€”ï¼Œå› æ­¤ï¼Œè¿™ä¹Ÿå±äºã€Œæµã€çš„åˆ†ç¦»ã€‚&lt;/li&gt;
&lt;li&gt;ç¬¬äºŒç§åˆ†ç¦»æ˜¯åœ¨ç¬¬ 15 ç« ã€‚é€šè¿‡ 2 æ¬¡ fdopen å‡½æ•°çš„è°ƒç”¨ï¼Œåˆ›å»ºè¯»æ¨¡å¼ FILE æŒ‡é’ˆï¼ˆFILE ç»“æ„ä½“æŒ‡é’ˆï¼‰å’Œå†™æ¨¡å¼ FILE æŒ‡é’ˆã€‚æ¢è¨€ä¹‹ï¼Œæˆ‘ä»¬åˆ†ç¦»äº†è¾“å…¥å·¥å…·å’Œè¾“å‡ºå·¥å…·ï¼Œå› æ­¤ä¹Ÿå¯è§†ä¸ºã€Œæµã€çš„åˆ†ç¦»ã€‚ä¸‹é¢æ˜¯åˆ†ç¦»çš„ç†ç”±ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;1612-åˆ†ç¦»æµçš„å¥½å¤„&#34;&gt;16.1.2 åˆ†ç¦»ã€Œæµã€çš„å¥½å¤„&lt;/h4&gt;
&lt;p&gt;é¦–å…ˆæ˜¯ç¬¬ 10 ç« ã€Œæµã€çš„åˆ†ç¦»ç›®çš„ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é€šè¿‡åˆ†å¼€è¾“å…¥è¿‡ç¨‹ï¼ˆä»£ç ï¼‰å’Œè¾“å‡ºè¿‡ç¨‹é™ä½å®ç°éš¾åº¦&lt;/li&gt;
&lt;li&gt;ä¸è¾“å…¥æ— å…³çš„è¾“å‡ºæ“ä½œå¯ä»¥æé«˜é€Ÿåº¦&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸‹é¢æ˜¯ç¬¬ 15 ç« ã€Œæµã€åˆ†ç¦»çš„ç›®çš„ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸ºäº†å°† FILE æŒ‡é’ˆæŒ‰è¯»æ¨¡å¼å’Œå†™æ¨¡å¼åŠ ä»¥åŒºåˆ†&lt;/li&gt;
&lt;li&gt;å¯ä»¥é€šè¿‡åŒºåˆ†è¯»å†™æ¨¡å¼é™ä½å®ç°éš¾åº¦&lt;/li&gt;
&lt;li&gt;é€šè¿‡åŒºåˆ† I/O ç¼“å†²æé«˜ç¼“å†²æ€§èƒ½&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;1613-æµåˆ†ç¦»å¸¦æ¥çš„-eof-é—®é¢˜&#34;&gt;16.1.3 ã€Œæµã€åˆ†ç¦»å¸¦æ¥çš„ EOF é—®é¢˜&lt;/h4&gt;
&lt;p&gt;ç¬¬ 7 ç« ä»‹ç»è¿‡ EOF çš„ä¼ é€’æ–¹æ³•å’ŒåŠå…³é—­çš„å¿…è¦æ€§ã€‚æœ‰ä¸€ä¸ªè¯­å¥ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;shutdown(sock,SHUT_WR);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å½“æ—¶è¯´è¿‡è°ƒç”¨ shutdown å‡½æ•°çš„åŸºäºåŠå…³é—­çš„ EOF ä¼ é€’æ–¹æ³•ã€‚ç¬¬åç« çš„ &lt;a href=&#34;https://github.com/caixiongjiang/TCPIP/blob/master/ch10/echo_mpclient.c&#34;&gt;echo_mpclient.c&lt;/a&gt; æ·»åŠ äº†åŠå…³é—­çš„ç›¸å…³ä»£ç ã€‚ä½†æ˜¯è¿˜æ²¡æœ‰è®²é‡‡ç”¨ fdopen å‡½æ•°æ€ä¹ˆåŠå…³é—­ã€‚é‚£ä¹ˆæ˜¯å¦æ˜¯é€šè¿‡ fclose å‡½æ•°å…³é—­æµå‘¢ï¼Ÿæˆ‘ä»¬å…ˆè¯•è¯•&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æ˜¯æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ç ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/caixiongjiang/TCPIP/blob/master/ch16/sep_clnt.c&#34;&gt;sep_clnt.c&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/caixiongjiang/TCPIP/blob/master/ch16/sep_serv.c&#34;&gt;sep_serv.c&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç¼–è¯‘è¿è¡Œï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;2
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;3
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;gcc sep_clnt.c -o clnt
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;gcc sep_serv.c -o serv
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./serv &lt;span style=&#34;color:#b452cd&#34;&gt;9190&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./clnt 127.0.0.1 &lt;span style=&#34;color:#b452cd&#34;&gt;9190&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ç»“æœï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2019/01/30/5c512086a75d9.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä»è¿è¡Œç»“æœå¯ä»¥çœ‹å‡ºï¼ŒæœåŠ¡ç«¯æœ€ç»ˆæ²¡æœ‰æ”¶åˆ°å®¢æˆ·ç«¯å‘é€çš„ä¿¡æ¯ã€‚é‚£ä¹ˆè¿™æ˜¯ä»€ä¹ˆåŸå› å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;åŸå› æ˜¯ï¼šæœåŠ¡ç«¯ä»£ç çš„ &lt;code&gt;fclose(writefp);&lt;/code&gt; è¿™ä¸€å¥ï¼Œå®Œå…¨å…³é—­äº†å¥—æ¥å­—è€Œä¸æ˜¯åŠå…³é—­ã€‚è¿™æ‰æ˜¯è¿™ä¸€ç« éœ€è¦è§£å†³çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;h3 id=&#34;162-æ–‡ä»¶æè¿°ç¬¦çš„çš„å¤åˆ¶å’ŒåŠå…³é—­&#34;&gt;16.2 æ–‡ä»¶æè¿°ç¬¦çš„çš„å¤åˆ¶å’ŒåŠå…³é—­&lt;/h3&gt;
&lt;h4 id=&#34;1621-ç»ˆæ­¢æµæ—¶æ— æ³•åŠå…³é—­åŸå› &#34;&gt;16.2.1 ç»ˆæ­¢ã€Œæµã€æ—¶æ— æ³•åŠå…³é—­åŸå› &lt;/h4&gt;
&lt;p&gt;ä¸‹é¢çš„å›¾æè¿°çš„æ˜¯æœåŠ¡ç«¯ä»£ç ä¸­çš„ä¸¤ä¸ªFILE æŒ‡é’ˆã€æ–‡ä»¶æè¿°ç¬¦å’Œå¥—æ¥å­—ä¸­çš„å…³ç³»ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2019/01/30/5c5121da89955.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä»å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œä¸¤ä¸ªæŒ‡é’ˆéƒ½æ˜¯åŸºäºåŒä¸€æ–‡ä»¶æè¿°ç¬¦åˆ›å»ºçš„ã€‚å› æ­¤ï¼Œé’ˆå¯¹äºä»»ä½•ä¸€ä¸ª FILE æŒ‡é’ˆè°ƒç”¨ fclose å‡½æ•°éƒ½ä¼šå…³é—­æ–‡ä»¶æè¿°ç¬¦ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2019/01/30/5c51224051802.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä»å›¾ä¸­çœ‹åˆ°ï¼Œé”€æ¯å¥—æ¥å­—æ—¶å†ä¹Ÿæ— æ³•è¿›è¡Œæ•°æ®äº¤æ¢ã€‚é‚£å¦‚ä½•è¿›å…¥å¯ä»¥è¿›å…¥ä½†æ˜¯æ— æ³•è¾“å‡ºçš„åŠå…³é—­çŠ¶æ€å‘¢ï¼Ÿå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2019/01/30/5c5122a45c5f1.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;åªéœ€è¦åˆ›å»º FILE æŒ‡é’ˆå‰å…ˆå¤åˆ¶æ–‡ä»¶æè¿°ç¬¦å³å¯ã€‚å¤åˆ¶åå¦å¤–åˆ›å»ºä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼Œç„¶ååˆ©ç”¨å„è‡ªçš„æ–‡ä»¶æè¿°ç¬¦ç”Ÿæˆè¯»æ¨¡å¼çš„ FILE æŒ‡é’ˆå’Œå†™æ¨¡å¼çš„ FILE æŒ‡é’ˆã€‚è¿™å°±ä¸ºåŠå…³é—­åˆ›é€ å¥½äº†ç¯å¢ƒï¼Œå› ä¸ºå¥—æ¥å­—å’Œæ–‡ä»¶æè¿°ç¬¦å…·æœ‰å¦‚ä¸‹å…³ç³»ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;é”€æ¯æ‰€æœ‰æ–‡ä»¶æè¿°ç¬¦å€™æ‰èƒ½é”€æ¯å¥—æ¥å­—&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¹Ÿå°±æ˜¯è¯´ï¼Œé’ˆå¯¹å†™æ¨¡å¼ FILE æŒ‡é’ˆè°ƒç”¨ fclose å‡½æ•°æ—¶ï¼Œåªèƒ½é”€æ¯ä¸è¯¥ FILE æŒ‡é’ˆç›¸å…³çš„æ–‡ä»¶æè¿°ç¬¦ï¼Œæ— æ³•é”€æ¯å¥—æ¥å­—ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2019/01/30/5c5123ad7df31.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆè°ƒç”¨ fclose å‡½æ•°å€™è¿˜å‰©ä¸‹ 1 ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼Œå› æ­¤æ²¡æœ‰é”€æ¯å¥—æ¥å­—ã€‚é‚£æ­¤æ—¶çš„çŠ¶æ€æ˜¯å¦ä¸ºåŠå…³é—­çŠ¶æ€ï¼Ÿä¸æ˜¯ï¼åªæ˜¯å‡†å¤‡å¥½äº†è¿›å…¥åŠå…³é—­çŠ¶æ€ï¼Œè€Œä¸æ˜¯å·²ç»è¿›å…¥äº†åŠå…³é—­çŠ¶æ€ã€‚ä»”ç»†è§‚å¯Ÿï¼Œè¿˜å‰©ä¸‹ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ã€‚è€Œè¯¥æ–‡ä»¶æè¿°ç¬¦å¯ä»¥åŒæ—¶è¿›è¡Œ I/O ã€‚å› æ­¤ï¼Œä¸ä½†æ²¡æœ‰å‘é€ EOF ï¼Œè€Œä¸”ä»ç„¶å¯ä»¥åˆ©ç”¨æ–‡ä»¶æè¿°ç¬¦è¿›è¡Œè¾“å‡ºã€‚&lt;/p&gt;
&lt;h4 id=&#34;1622-å¤åˆ¶æ–‡ä»¶æè¿°ç¬¦&#34;&gt;16.2.2 å¤åˆ¶æ–‡ä»¶æè¿°ç¬¦&lt;/h4&gt;
&lt;p&gt;ä¸è°ƒç”¨ fork å‡½æ•°ä¸åŒï¼Œè°ƒç”¨ fork å‡½æ•°å°†å¤åˆ¶æ•´ä¸ªè¿›ç¨‹ï¼Œæ­¤å¤„è®¨è®ºçš„æ˜¯åŒä¸€è¿›ç¨‹å†…å®Œæˆå¯¹å®Œæˆæè¿°ç¬¦çš„å¤åˆ¶ã€‚å¦‚å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2019/01/30/5c512579c45b6.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¤åˆ¶å®Œæˆåï¼Œä¸¤ä¸ªæ–‡ä»¶æè¿°ç¬¦éƒ½å¯ä»¥è®¿é—®æ–‡ä»¶ï¼Œä½†æ˜¯ç¼–å·ä¸åŒã€‚&lt;/p&gt;
&lt;h4 id=&#34;1623-dup-å’Œ-dup2&#34;&gt;16.2.3 dup å’Œ dup2&lt;/h4&gt;
&lt;p&gt;ä¸‹é¢ç»™å‡ºä¸¤ä¸ªå‡½æ•°åŸå‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;2
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;3
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;4
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;5
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;6
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;7
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#1e889b&#34;&gt;&amp;lt;unistd.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#008b45&#34;&gt;dup&lt;/span&gt;(&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; fildes);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#008b45&#34;&gt;dup2&lt;/span&gt;(&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; fildes, &lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; fildes2);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;/*
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;æˆåŠŸæ—¶è¿”å›å¤åˆ¶çš„æ–‡ä»¶æè¿°ç¬¦ï¼Œå¤±è´¥æ—¶è¿”å› -1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;fildes : éœ€è¦å¤åˆ¶çš„æ–‡ä»¶æè¿°ç¬¦
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;fildes2 : æ˜ç¡®æŒ‡å®šçš„æ–‡ä»¶æè¿°ç¬¦çš„æ•´æ•°å€¼ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;*/&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;dup2 å‡½æ•°æ˜ç¡®æŒ‡å®šå¤åˆ¶çš„æ–‡ä»¶æè¿°ç¬¦çš„æ•´æ•°å€¼ã€‚å‘å…¶ä¼ é€’å¤§äº 0 ä¸”å°äºè¿›ç¨‹èƒ½ç”Ÿæˆçš„æœ€å¤§æ–‡ä»¶æè¿°ç¬¦å€¼æ—¶ï¼Œè¯¥å€¼å°†æˆä¸ºå¤åˆ¶å‡ºçš„æ–‡ä»¶æè¿°ç¬¦å€¼ã€‚ä¸‹é¢æ˜¯ä»£ç ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/caixiongjiang/TCPIP/blob/master/ch16/dup.c&#34;&gt;dup.c&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 2
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 3
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 4
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 5
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 6
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 7
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 8
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 9
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;10
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;11
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;12
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;13
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;14
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;15
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;16
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;17
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;18
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;19
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;20
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;21
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;22
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;23
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#1e889b&#34;&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#1e889b&#34;&gt;&amp;lt;unistd.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#008b45&#34;&gt;main&lt;/span&gt;(&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; argc, &lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;char&lt;/span&gt; *argv[])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; cfd1, cfd2;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;char&lt;/span&gt; str1[] = &lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;Hi~ &lt;/span&gt;&lt;span style=&#34;color:#cd5555&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;char&lt;/span&gt; str2[] = &lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;It&amp;#39;s nice day~ &lt;/span&gt;&lt;span style=&#34;color:#cd5555&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    cfd1 = dup(&lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;);        &lt;span style=&#34;color:#228b22&#34;&gt;//å¤åˆ¶æ–‡ä»¶æè¿°ç¬¦ 1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;&lt;/span&gt;    cfd2 = dup2(cfd1, &lt;span style=&#34;color:#b452cd&#34;&gt;7&lt;/span&gt;); &lt;span style=&#34;color:#228b22&#34;&gt;//å†æ¬¡å¤åˆ¶æ–‡ä»¶æè¿°ç¬¦,å®šä¸ºæ•°å€¼ 7
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    printf(&lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;fd1=%d , fd2=%d &lt;/span&gt;&lt;span style=&#34;color:#cd5555&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;&lt;/span&gt;, cfd1, cfd2);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    write(cfd1, str1, &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;sizeof&lt;/span&gt;(str1));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    write(cfd2, str2, &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;sizeof&lt;/span&gt;(str2));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    close(cfd1);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    close(cfd2); &lt;span style=&#34;color:#228b22&#34;&gt;//ç»ˆæ­¢å¤åˆ¶çš„æ–‡ä»¶æè¿°ç¬¦ï¼Œä½†æ˜¯ä»æœ‰ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;&lt;/span&gt;    write(&lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;, str1, &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;sizeof&lt;/span&gt;(str1));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    close(&lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    write(&lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;, str2, &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;sizeof&lt;/span&gt;(str2)); &lt;span style=&#34;color:#228b22&#34;&gt;//æ— æ³•å®Œæˆè¾“å‡º
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ç¼–è¯‘è¿è¡Œï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;gcc dup.c -o dup
./dup
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç»“æœï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2019/01/30/5c5135574d89a.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;1624-å¤åˆ¶æ–‡ä»¶æè¿°ç¬¦åæµçš„åˆ†ç¦»&#34;&gt;16.2.4 å¤åˆ¶æ–‡ä»¶æè¿°ç¬¦åã€Œæµã€çš„åˆ†ç¦»&lt;/h4&gt;
&lt;p&gt;ä¸‹é¢æ›´æ”¹ &lt;a href=&#34;https://github.com/caixiongjiang/TCPIP/blob/master/ch16/sep_clnt.c&#34;&gt;sep_clnt.c&lt;/a&gt; å’Œ &lt;a href=&#34;https://github.com/caixiongjiang/TCPIP/blob/master/ch16/sep_serv.c&#34;&gt;sep_serv.c&lt;/a&gt; å¯ä»¥ä½¿å¾—è®©å®ƒæ­£å¸¸å·¥ä½œï¼Œæ­£å¸¸å·¥ä½œæ˜¯æŒ‡é€šè¿‡æœåŠ¡å™¨çš„åŠå…³é—­çŠ¶æ€æ¥æ”¶å®¢æˆ·ç«¯æœ€åå‘é€çš„å­—ç¬¦ä¸²ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æ˜¯ä»£ç ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/caixiongjiang/TCPIP/blob/master/ch16/sep_serv2.c&#34;&gt;sep_serv2.c&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™ä¸ªä»£ç å¯ä»¥ä¸ &lt;a href=&#34;https://github.com/caixiongjiang/TCPIP/blob/master/ch16/sep_clnt.c&#34;&gt;sep_clnt.c&lt;/a&gt; é…åˆèµ·æ¥ä½¿ç”¨ï¼Œç¼–è¯‘è¿‡ç¨‹å’Œä¸Šé¢ä¸€æ ·ï¼Œè¿è¡Œç»“æœä¸ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2019/01/30/5c513d54a27e0.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;163-ä¹ é¢˜&#34;&gt;16.3 ä¹ é¢˜&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;ä»¥ä¸‹ç­”æ¡ˆä»…ä»£è¡¨æœ¬äººä¸ªäººè§‚ç‚¹ï¼Œå¯èƒ½ä¸æ˜¯æ­£ç¡®ç­”æ¡ˆã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä¸‹åˆ—å…³äº FILE ç»“æ„ä½“æŒ‡é’ˆå’Œæ–‡ä»¶æè¿°ç¬¦çš„è¯´æ³•é”™è¯¯çš„æ˜¯&lt;/strong&gt;ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ç­”ï¼šä»¥ä¸‹åŠ ç²—å†…å®¹ä»£è¡¨è¯´æ³•æ­£ç¡®ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸ FILE ç»“æ„ä½“æŒ‡é’ˆç›¸åŒï¼Œæ–‡ä»¶æè¿°ç¬¦ä¹Ÿåˆ†è¾“å…¥æè¿°ç¬¦å’Œè¾“å‡ºæè¿°ç¬¦&lt;/li&gt;
&lt;li&gt;å¤åˆ¶æ–‡ä»¶æè¿°ç¬¦æ—¶å°†ç”Ÿæˆç›¸åŒå€¼çš„æè¿°ç¬¦ï¼Œå¯ä»¥é€šè¿‡è¿™ 2 ä¸ªæè¿°ç¬¦è¿›è¡Œ I/O&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¯ä»¥åˆ©ç”¨åˆ›å»ºå¥—æ¥å­—æ—¶è¿”å›çš„æ–‡ä»¶æè¿°ç¬¦è¿›è¡Œ I/O ï¼Œä¹Ÿå¯ä»¥ä¸é€šè¿‡æ–‡ä»¶æè¿°ç¬¦ï¼Œç›´æ¥é€šè¿‡ FILE ç»“æ„ä½“æŒ‡é’ˆå®Œæˆ&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¯ä»¥ä»æ–‡ä»¶æè¿°ç¬¦ç”Ÿæˆ FILE ç»“æ„ä½“æŒ‡é’ˆï¼Œè€Œä¸”å¯ä»¥åˆ©ç”¨è¿™ç§ FILE ç»“æ„ä½“æŒ‡é’ˆè¿›è¡Œå¥—æ¥å­— I/O&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;è‹¥æ–‡ä»¶æè¿°ç¬¦ä¸ºè¯»æ¨¡å¼ï¼Œåˆ™åŸºäºè¯¥æè¿°ç¬¦ç”Ÿæˆçš„ FILE ç»“æ„ä½“æŒ‡é’ˆåŒæ ·æ˜¯è¯»æ¨¡å¼ï¼›è‹¥æ–‡ä»¶æè¿°ç¬¦ä¸ºå†™æ¨¡å¼ï¼Œåˆ™åŸºäºè¯¥æè¿°ç¬¦ç”Ÿæˆçš„ FILE ç»“æ„ä½“æŒ‡é’ˆåŒæ ·æ˜¯å†™æ¨¡å¼&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;EOF çš„å‘é€ç›¸å…³æè¿°ä¸­é”™è¯¯çš„æ˜¯&lt;/strong&gt;ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ç­”ï¼šä»¥ä¸‹åŠ ç²—å†…å®¹ä»£è¡¨è¯´æ³•æ­£ç¡®ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç»ˆæ­¢æ–‡ä»¶æè¿°ç¬¦æ—¶å‘é€ EOF&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å³ä½¿æœªå®Œæˆç»ˆæ­¢æ–‡ä»¶æè¿°ç¬¦ï¼Œå…³é—­è¾“å‡ºæµæ—¶ä¹Ÿä¼šå‘é€ EOF&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å¦‚æœå¤åˆ¶æ–‡ä»¶æè¿°ç¬¦ï¼Œåˆ™åŒ…æ‹¬å¤åˆ¶çš„æ–‡ä»¶æè¿°ç¬¦åœ¨å†…ï¼Œæ‰€æœ‰æ–‡ä»¶æè¿°ç¬¦éƒ½ç»ˆæ­¢æ—¶æ‰ä¼šå‘é€ EOF&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å³ä½¿å¤åˆ¶æ–‡ä»¶æè¿°ç¬¦ï¼Œä¹Ÿå¯ä»¥é€šè¿‡è°ƒç”¨ shutdown å‡½æ•°è¿›å…¥åŠå…³é—­çŠ¶æ€å¹¶å‘é€ EOF&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
- https://caixiongjiang.github.io/blog/2022/tcp-ip%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/tcp-ip%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E7%AC%AC-16-%E7%AB%A0-%E5%85%B3%E4%BA%8E-i-o-%E6%B5%81%E5%88%86%E7%A6%BB%E7%9A%84%E5%85%B6%E4%BB%96%E5%86%85%E5%AE%B9-%E7%AC%94%E8%AE%B0/ - </description>
        </item>
    
    
    
        <item>
        <title>ç¬¬äº”è®²ï¼šæ·±å…¥ç†è§£å®¹å™¨</title>
        <link>https://caixiongjiang.github.io/blog/2022/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E7%AC%AC5%E8%AE%B2-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</link>
        <pubDate>Fri, 08 Apr 2022 13:18:05 +0800</pubDate>
        
        <guid>https://caixiongjiang.github.io/blog/2022/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E7%AC%AC5%E8%AE%B2-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</guid>
        <description>ğŸŒ€Jarson Cai&#39;s Blog https://caixiongjiang.github.io/blog/2022/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E7%AC%AC5%E8%AE%B2-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/ -&lt;h2 id=&#34;ç¬¬äº”è®²æ·±å…¥ç†è§£å®¹å™¨&#34;&gt;ç¬¬äº”è®²ï¼šæ·±å…¥ç†è§£å®¹å™¨&lt;/h2&gt;
&lt;h3 id=&#34;å®¹å™¨çš„ç»“æ„å†åˆ†ç±»&#34;&gt;å®¹å™¨çš„ç»“æ„å†åˆ†ç±»&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/stl/img5_1.jpg&#34; alt=&#34;å®¹å™¨ç»“æ„å†åˆ†ç±»&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;heap å’Œ priority_queueä¸­æœ‰vectorçš„ç»“æ„&lt;/li&gt;
&lt;li&gt;stack å’Œ queueä¸­æœ‰dequeçš„ç»“æ„&lt;/li&gt;
&lt;li&gt;set å’Œ mapç³»åˆ—æœ‰rb_treeçš„ç»“æ„&lt;/li&gt;
&lt;li&gt;unorderedç³»åˆ—å®¹å™¨ä¸­æœ‰hashtableçš„ç»“æ„&lt;/li&gt;
&lt;li&gt;åœ¨c++11ä¸­ï¼šslist &amp;ndash;&amp;gt; forward_listï¼› hash_~ &amp;ndash;&amp;gt; unordered_~ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æ·±åº¦æ¢ç´¢list&#34;&gt;æ·±åº¦æ¢ç´¢list&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/stl/img5_2.jpg&#34; alt=&#34;listå®¹å™¨&#34;&gt;&lt;/p&gt;
&lt;p&gt;listï¼ˆç¯çŠ¶åŒå‘é“¾è¡¨ï¼‰å…¶æœ¬èº«æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘ä¸€ä¸ªnodeèŠ‚ç‚¹ï¼Œå…¶ç»“æ„ä¸ºä¸¤ä¸ªæŒ‡é’ˆï¼ˆä¸€ä¸ªå‘å‰ä¸€ä¸ªå‘åï¼‰+æ•°æ®å€¼&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;sizeof&lt;/span&gt;(list&amp;lt;&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt;&amp;gt;()) &lt;span style=&#34;color:#228b22&#34;&gt;//å…¶å€¼ä¸º4Bytesï¼ˆGNU2.9ï¼‰ 8Bytes(GNU4.9)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;listçš„ç»“æ„&#34;&gt;listçš„ç»“æ„&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;nodeçš„è®¾è®¡ï¼ˆGNU2.9ï¼‰ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;2
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;3
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;4
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;5
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;6
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tempalate&amp;lt;&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#008b45;font-weight:bold&#34;&gt;T&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#008b45;font-weight:bold&#34;&gt;__list_node&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;typedef&lt;/span&gt; &lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;void&lt;/span&gt;* void_pointer;&lt;span style=&#34;color:#228b22&#34;&gt;//ä¸€ä¸ªç©ºçš„æŒ‡é’ˆç½®äºå°¾ç«¯çš„ä¸€ä¸ªç©ºç™½èŠ‚ç‚¹ï¼Œç¬¦åˆ&amp;#34;å‰é—­åå¼€&amp;#34;çš„è¦æ±‚
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;&lt;/span&gt;    void_pointer prev;&lt;span style=&#34;color:#228b22&#34;&gt;//å‘å‰çš„æŒ‡é’ˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;&lt;/span&gt;    void_pointer next;&lt;span style=&#34;color:#228b22&#34;&gt;//å‘åçš„æŒ‡é’ˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;&lt;/span&gt;    T data;&lt;span style=&#34;color:#228b22&#34;&gt;//æ•°æ®
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;&lt;/span&gt;};
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;iteratorçš„è®¾è®¡ï¼ˆGNU2.9ï¼‰ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;2
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;3
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;4
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;5
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;6
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;7
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tempalte&amp;lt;&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#008b45;font-weight:bold&#34;&gt;T&lt;/span&gt;, &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#008b45;font-weight:bold&#34;&gt;Ref&lt;/span&gt;, &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#008b45;font-weight:bold&#34;&gt;Ptr&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#008b45;font-weight:bold&#34;&gt;__list_iterator&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;typedef&lt;/span&gt; T value_type;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;typedef&lt;/span&gt; Ptr pointer;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;typedef&lt;/span&gt; Ref reference;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a61717;background-color:#e3d2d2&#34;&gt;Â·Â·Â·&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#228b22&#34;&gt;//å…·ä½“çœ‹ã€ŠSTLæºç å‰–æã€‹p131
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;&lt;/span&gt;};
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;G4.9ç›¸è¾ƒäºG2.9ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¨¡ç‰ˆå‚æ•°ç›´æœ‰ä¸€ä¸ªï¼ˆæ˜“äºç†è§£ï¼‰&lt;/li&gt;
&lt;li&gt;nodeç»“æ„æœ‰å…¶parent&lt;/li&gt;
&lt;li&gt;nodeçš„æˆå‘˜çš„typeæ¯”è¾ƒç²¾å‡†&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;listçš„æ„é€ å’Œå†…å­˜ç®¡ç†&#34;&gt;listçš„æ„é€ å’Œå†…å­˜ç®¡ç†&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;å½“æˆ‘ä»¬ä»¥push_back()å°†æ–°å…ƒç´ æ’å…¥äºlistå°¾ç«¯æ—¶ï¼Œæ­¤å‡½æ•°å†…éƒ¨è°ƒç”¨insert():&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#008b45&#34;&gt;push_back&lt;/span&gt;(&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;const&lt;/span&gt; T&amp;amp; x) { insert(end(), x); } 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;è€Œå…¶ä¸­é‡è½½çš„insertçš„æºç ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 2
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 3
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 4
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 5
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 6
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 7
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 8
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 9
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;10
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;//æ’å…¥çš„æ–¹æ³•ä¸ºå‰æ’æ³•
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;//å‡½æ•°ç›®çš„ï¼šåœ¨è¿­ä»£å™¨positonçš„æ‰€æŒ‡ä½ç½®æ’å…¥ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå†…å®¹ä¸ºx
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;&lt;/span&gt;iterator &lt;span style=&#34;color:#008b45&#34;&gt;insert&lt;/span&gt;(iterator position, &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;const&lt;/span&gt; T&amp;amp; x) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    link_type tmp = create_node(x);&lt;span style=&#34;color:#228b22&#34;&gt;//äº§ç”Ÿä¸€ä¸ªèŠ‚ç‚¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#228b22&#34;&gt;//è°ƒæ•´åŒå‘æŒ‡é’ˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;&lt;/span&gt;    tmp-&amp;gt;next = position.node;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    temp-&amp;gt;prev = position.node-&amp;gt;prev;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    (link_type(positon.node-&amp;gt;prev))-&amp;gt;next = tmp;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;return&lt;/span&gt; tmp;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;ç”±äºlistä¸åƒvectoré‚£æ ·æœ‰å¯èƒ½åœ¨ç©ºé—´ä¸è¶³æ—¶åšé‡æ–°é…ç½®ï¼Œæ•°æ®ç§»åŠ¨çš„æ“ä½œï¼Œæ‰€ä»¥æ’å…¥å‰çš„æ‰€æœ‰è¿­ä»£å™¨åœ¨æ’å…¥åéƒ½ä»ç„¶æœ‰æ•ˆï¼&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&#34;listçš„å…ƒç´ æ“ä½œ&#34;&gt;listçš„å…ƒç´ æ“ä½œ&lt;/h4&gt;
&lt;p&gt;push_front(), push_back(), erase(), pop_front(), pop_back(), clear(), remove(), unique(),splice()
merge(), reverse(), sort()
&lt;em&gt;unique()ä½œç”¨ä¸ºç§»é™¤ç›¸åŒçš„è¿ç»­å…ƒç´ ï¼Œç§»é™¤åˆ°åªå‰©ä¸€ä¸ª&lt;/em&gt;
å…·ä½“æºç çœ‹ã€ŠSTLæºç å‰–æã€‹p136ï½p142&lt;/p&gt;
- https://caixiongjiang.github.io/blog/2022/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E7%AC%AC5%E8%AE%B2-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/ - </description>
        </item>
    
    
    
        <item>
        <title>ç¬¬å››è®²ï¼šæ·±å…¥ç†è§£åˆ†é…å™¨</title>
        <link>https://caixiongjiang.github.io/blog/2022/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E7%AC%AC4%E8%AE%B2-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</link>
        <pubDate>Fri, 08 Apr 2022 10:54:05 +0800</pubDate>
        
        <guid>https://caixiongjiang.github.io/blog/2022/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E7%AC%AC4%E8%AE%B2-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</guid>
        <description>ğŸŒ€Jarson Cai&#39;s Blog https://caixiongjiang.github.io/blog/2022/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E7%AC%AC4%E8%AE%B2-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/ -&lt;h2 id=&#34;ç¬¬å››è®²æ·±å…¥ç†è§£åˆ†é…å™¨&#34;&gt;ç¬¬å››è®²ï¼šæ·±å…¥ç†è§£åˆ†é…å™¨&lt;/h2&gt;
&lt;h3 id=&#34;operator-new--malloc&#34;&gt;operator new() &amp;amp; malloc()&lt;/h3&gt;
&lt;p&gt;operator() newä¼šè°ƒç”¨malloc(), malloc()ä½œç”¨æ˜¯åˆ†é…å†…å­˜ã€‚&lt;/p&gt;
&lt;p&gt;çœ‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/stl/img4_1.jpg&#34; alt=&#34;malloc()åˆ†é…çš„å†…å­˜è§†å›¾&#34;&gt;
sizeéƒ¨åˆ†ä¸ºæˆ‘ä»¬æ‰€éœ€è¦çš„å†…å­˜ï¼Œå¯ä»¥çœ‹å‡ºmalloc()åˆ†é…çš„å†…å­˜æ¯”æ‰€éœ€è¦çš„å†…å­˜å¤šã€‚&lt;strong&gt;å¤šåˆ†é…çš„å†…å­˜ç©ºé—´å¦‚æœç§°ä¸ºå¼€é”€çš„è¯ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬çš„å•ä¸ªå†…å­˜è¶Šå¤§ï¼Œå¼€é”€æ‰€å æ¯”ä¾‹å°±è¶Šå°ï¼&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;åˆ†é…å™¨æœ€é‡è¦çš„ä¸¤ä¸ªå‡½æ•°allocate--deallocate&#34;&gt;åˆ†é…å™¨æœ€é‡è¦çš„ä¸¤ä¸ªå‡½æ•°ï¼šallocate &amp;amp; deallocate&lt;/h3&gt;
&lt;p&gt;VC++ä¸‹å’ŒBC++ä¸‹ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ç”³è¯·å†…å­˜ï¼šallocator--&amp;gt;operator new()--&amp;gt;malloc()
é‡Šæ”¾å†…å­˜ï¼šdeallocator--&amp;gt;operator delete()--&amp;gt;free()
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;åˆ†é…512ä¸ªintæ•´æ•°ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; *p = allocator&amp;lt;&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt;&amp;gt;().allocate(&lt;span style=&#34;color:#b452cd&#34;&gt;512&lt;/span&gt;, (&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt;*)&lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;allocator&amp;lt;&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt;&amp;gt;().deallocate(p, &lt;span style=&#34;color:#b452cd&#34;&gt;512&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æ³¨ï¼š&lt;em&gt;ä¸€ä¸ªtype +ï¼ˆï¼‰å½¢æˆäº†ä¸€ä¸ªä¸´æ—¶å¯¹è±¡ï¼Œæ‰èƒ½è°ƒç”¨å…¶ä¸­çš„æˆå‘˜å‡½æ•°ã€‚ä¸¾ä¾‹ï¼š&lt;code&gt;queue&amp;lt;int&amp;gt;()&lt;/code&gt;&lt;/em&gt;&lt;/p&gt;
&lt;h4 id=&#34;allocçš„ä¼˜ç‚¹&#34;&gt;allocçš„ä¼˜ç‚¹&lt;/h4&gt;
&lt;p&gt;GNU2.9ä¸‹ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ç”³è¯·å†…å­˜ï¼šallocator--&amp;gt;allocate()--&amp;gt;operator new()--&amp;gt;malloc()
é‡Šæ”¾å†…å­˜ï¼šdeallocator--&amp;gt;deallocate()-&amp;gt;operator delete()--&amp;gt;free()
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ³¨ï¼š&lt;em&gt;è™½ç„¶GNUæ ‡å‡†allocatorè¢«è®¾è®¡å‡ºæ¥ï¼Œä½†å®ƒçš„å®¹å™¨åŸºæœ¬éƒ½ä¸ç”¨æ ‡å‡†çš„allocatorï¼Œè€Œæ˜¯ä½¿ç”¨alloc&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/stl/img4_2.jpg&#34; alt=&#34;å®¹å™¨çš„åˆ†é…å™¨&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/stl/img4_3.jpg&#34; alt=&#34;è¿è¡Œè¿‡ç¨‹&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä½¿ç”¨malloc()å’Œfree()ä¼šå¸¦æ¥å¾ˆå¤§çš„é¢å¤–å¼€é”€ï¼Œå¦‚æœåŒºå—å°ï¼Œå¼€é”€æ¯”ä¾‹ä¼šå¾ˆå¤§ã€‚&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é¢å¤–å¼€é”€ä¸­çš„cookieè®°å½•å†…å­˜çš„å¤§å°ï¼Œä½†å› ä¸ºå®¹å™¨å…ƒç´ çš„å¤§å°æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥allocä½¿ç”¨ä¸€ä¸ªé•¿é“¾è¡¨ï¼ˆi = 0ï½15ï¼‰ï¼Œç¬¬iä¸ªå¯¹åº”cookieå¤§å°ä¸º8(i + 1)Bytesçš„å†…å­˜å¤§å°ï¼Œå®¹å™¨çš„å†…å­˜å¤§å°ä¼šè¢«è°ƒæ•´ä¸º8çš„å€æ•°ï¼Œè¿™æ ·å°±åªéœ€è¦ç”¨å°‘é‡cookieæ¥è®°å½•å†…å­˜å¤§å°ï¼&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;æ‰€ä»¥ä½¿ç”¨allocå­˜æ”¾1000000ä¸ªå…ƒç´ ï¼Œå¯ä»¥çœæ‰cookieå¼€é”€å¤§çº¦8000000ä¸ªBytes&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;GNU4.9ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å®¹å™¨ä½¿ç”¨çš„åˆ†é…å™¨åˆå˜ä¸ºäº†allocatorï¼Œç»§æ‰¿äºnew_allocatorï¼Œä½¿ç”¨operator new() å’Œ operator delete()&lt;/li&gt;
&lt;li&gt;4.9ä¸‹çš„allocè¢«æ›´åä¸º__pool_allocï¼Œå±äº__gnu_cxx::__pool_alloc&lt;/li&gt;
&lt;/ul&gt;
- https://caixiongjiang.github.io/blog/2022/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E7%AC%AC4%E8%AE%B2-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/ - </description>
        </item>
    
    
    
        <item>
        <title>ç¬¬ä¸‰è®²:æ³›å‹ç¼–ç¨‹å’Œæ¨¡ç‰ˆæŠ€æœ¯</title>
        <link>https://caixiongjiang.github.io/blog/2022/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E7%AC%AC3%E8%AE%B2-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</link>
        <pubDate>Thu, 07 Apr 2022 15:21:05 +0800</pubDate>
        
        <guid>https://caixiongjiang.github.io/blog/2022/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E7%AC%AC3%E8%AE%B2-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</guid>
        <description>ğŸŒ€Jarson Cai&#39;s Blog https://caixiongjiang.github.io/blog/2022/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E7%AC%AC3%E8%AE%B2-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/ -&lt;h2 id=&#34;ç¬¬ä¸‰è®²æ³›å‹ç¼–ç¨‹å’Œæ¨¡ç‰ˆæŠ€æœ¯&#34;&gt;ç¬¬ä¸‰è®²:æ³›å‹ç¼–ç¨‹å’Œæ¨¡ç‰ˆæŠ€æœ¯&lt;/h2&gt;
&lt;h3 id=&#34;æºä»£ç ä¹‹åˆ†å¸ƒ&#34;&gt;æºä»£ç ä¹‹åˆ†å¸ƒ&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;VCçš„æ ‡å‡†åº“æ–‡ä»¶å¤¹:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/stl/img3_1.jpg&#34; alt=&#34;vcæ–‡ä»¶å¤¹&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;GNU c++æ ‡å‡†åº“æ–‡ä»¶å¤¹:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/stl/img3_2.jpg&#34; alt=&#34;gnu c++æ–‡ä»¶å¤¹&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;oopé¢å‘å¯¹è±¡ç¼–ç¨‹-vs-gpæ³›å‹ç¼–ç¨‹&#34;&gt;OOP(é¢å‘å¯¹è±¡ç¼–ç¨‹) vs GP(æ³›å‹ç¼–ç¨‹)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;OOPå°†dataså’Œmethodså…³è”åœ¨ä¸€èµ·ï¼ˆæˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°éƒ½æ”¾åœ¨ç±»é‡Œé¢ï¼‰
demo:listå†…éƒ¨æœ¬èº«å­˜åœ¨æœ‰sort()ç®—æ³•ï¼Œä½¿ç”¨è¯­æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;c.sort()
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;GPæ˜¯å°†dataså’Œmethodsåˆ†å¼€æ¥&lt;/p&gt;
&lt;p&gt;demoï¼švectorå’Œdequeå†…éƒ¨éƒ½æ²¡æœ‰sort()å‡½æ•°ï¼Œsort()å‡½æ•°æ˜¯æ”¾åœ¨ç®—æ³•é‡Œé¢çš„ï¼Œä½¿ç”¨è¯­æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;::sort(c.begin(), c.end());
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æ³¨ï¼š&lt;em&gt;listæœ¬èº«æ˜¯é“¾å¼å®¹å™¨ï¼Œæ— æ³•æ”¯æŒéšæœºè®¿é—®ï¼Œæ‰€ä»¥éœ€è¦æœ¬èº«è‡ªå·±é‡æ–°å®šä¹‰sort()ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é‡‡ç”¨GPçš„å¥½å¤„ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å®¹å™¨å’Œç®—æ³•å›¢é˜Ÿå¯ä»¥å„è‡ªå†™è‡ªå·±çš„ä¸œè¥¿ï¼Œå…¶é—´ç”¨è¿­ä»£å™¨æ¥è¿›è¡Œå…³è”ã€‚&lt;/li&gt;
&lt;li&gt;ç®—æ³•é€šè¿‡è¿­ä»£å™¨ç¡®å®šæ“ä½œèŒƒå›´ï¼Œå¹¶é€šè¿‡è¿­ä»£å™¨å–ç”¨å®¹å™¨çš„å…ƒç´ ã€‚&lt;/li&gt;
&lt;li&gt;ä¸¤ä¸ªçŸ³å¤´å¦‚ä½•æ¯”è¾ƒå¤§å°ä¸éœ€è¦ç±»æ¥å†³å®šï¼Œè€Œæ˜¯ç”¨ä»¿å‡½æ•°æ¥å†³å®šã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;max()ç®—æ³•çš„demoï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/stl/img3_3.jpg&#34; alt=&#34;max()ç®—æ³•çš„ä¸¤ä¸ªç‰ˆæœ¬&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒä¸ªç‰ˆæœ¬çš„å‚æ•°3æ¥æ”¶çš„æ˜¯&lt;strong&gt;å‡½æ•°å¯¹è±¡&lt;/strong&gt;æˆ–è€…æ˜¯&lt;strong&gt;ä»¿å‡½æ•°&lt;/strong&gt;ï¼Œ&lt;strong&gt;ç”¨äºè‡ªå®šä¹‰çš„æ¯”è¾ƒè§„åˆ™åˆ¶å®š&lt;/strong&gt;ï¼&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æ“ä½œç¬¦é‡è½½å¤ä¹ &#34;&gt;æ“ä½œç¬¦é‡è½½å¤ä¹ &lt;/h3&gt;
&lt;p&gt;æ“ä½œç¬¦æ“ä½œå•ä¸ªæ•°æˆ–è€…å¤šä¸ªæ•°ï¼Œä»¥åŠèƒ½å¦æˆä¸ºç±»å†…éƒ¨çš„æˆå‘˜å‡½æ•°&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/stl/img3_4.jpg&#34; alt=&#34;æ“ä½œç¬¦é‡è½½çš„ç±»å‹&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;æ¨¡ç‰ˆtemplateå¤ä¹ &#34;&gt;æ¨¡ç‰ˆTemplateå¤ä¹ &lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ç±»æ¨¡ç‰ˆ:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/stl/img3_5.jpg&#34; alt=&#34;ç±»æ¨¡ç‰ˆä¸¾ä¾‹&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å‡½æ•°æ¨¡ç‰ˆ:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/stl/img3_6.jpg&#34; alt=&#34;å‡½æ•°æ¨¡ç‰ˆä¸¾ä¾‹&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æˆå‘˜æ¨¡ç‰ˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;æ¨¡ç‰ˆä¸­æ³›åŒ–-vs-ç‰¹åŒ–&#34;&gt;æ¨¡ç‰ˆä¸­æ³›åŒ– vs ç‰¹åŒ–&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;æ³›åŒ–çš„ç‰¹ç‚¹æ˜¯å¯ä»¥æ¥æ”¶å¤§å¤šæ•°typeçš„æ•°æ®ç»“æ„&lt;/li&gt;
&lt;li&gt;ç‰¹åŒ–çš„ç‰¹ç‚¹æ˜¯ä¸ºäº†æŸäº›ç‰¹æ®Šçš„æ•°æ®ï¼ˆæ•°æ®æœ‰ä¸åŒçš„ç‰¹ç‚¹ï¼‰è¿›è¡Œçš„æ¨¡ç‰ˆä¸­ç‰¹æ®ŠåŒ–çš„å†™æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;demo:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/stl/img3_7.jpg&#34; alt=&#34;æ³›åŒ–å’Œç‰¹åŒ–&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/stl/img3_8.jpg&#34; alt=&#34;æ³›åŒ–å’Œç‰¹åŒ–&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;ç‰¹åŒ–ä¸­çš„åç‰¹åŒ–å±€éƒ¨ç‰¹åŒ–&#34;&gt;ç‰¹åŒ–ä¸­çš„åç‰¹åŒ–ï¼ˆå±€éƒ¨ç‰¹åŒ–ï¼‰&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;ä¸ªæ•°çš„åç‰¹åŒ–:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/stl/img3_9.jpg&#34; alt=&#34;ç‰¹åŒ–ä¸­çš„åç‰¹åŒ–&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;èŒƒå›´çš„åç‰¹åŒ–ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/stl/img3_10.jpg&#34; alt=&#34;ç‰¹åŒ–ä¸­çš„åç‰¹åŒ–&#34;&gt;&lt;/p&gt;
- https://caixiongjiang.github.io/blog/2022/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E7%AC%AC3%E8%AE%B2-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/ - </description>
        </item>
    
    
    
        <item>
        <title>ç¬¬äºŒè®²:å®¹å™¨ä¹‹åˆ†ç±»åŠå„ç§æµ‹è¯•</title>
        <link>https://caixiongjiang.github.io/blog/2022/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E7%AC%AC2%E8%AE%B2-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</link>
        <pubDate>Thu, 07 Apr 2022 10:07:05 +0800</pubDate>
        
        <guid>https://caixiongjiang.github.io/blog/2022/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E7%AC%AC2%E8%AE%B2-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</guid>
        <description>ğŸŒ€Jarson Cai&#39;s Blog https://caixiongjiang.github.io/blog/2022/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E7%AC%AC2%E8%AE%B2-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/ -&lt;h2 id=&#34;ç¬¬äºŒè®²å®¹å™¨ä¹‹åˆ†ç±»åŠå„ç§æµ‹è¯•&#34;&gt;ç¬¬äºŒè®²:å®¹å™¨ä¹‹åˆ†ç±»åŠå„ç§æµ‹è¯•&lt;/h2&gt;
&lt;h3 id=&#34;å®¹å™¨ç»“æ„åŠåˆ†ç±»&#34;&gt;å®¹å™¨ç»“æ„åŠåˆ†ç±»&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/stl/img2_1.jpg&#34; alt=&#34;å®¹å™¨çš„åˆ†ç±»&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/stl/img2_2.jpg&#34; alt=&#34;å®¹å™¨çš„åˆ†ç±»&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åºåˆ—å¼å®¹å™¨
&lt;ul&gt;
&lt;li&gt;æ•°ç»„ï¼ˆArrayï¼‰ï¼šå®šé•¿æ•°ç»„ï¼Œæ— æ³•æ‰©å……&lt;/li&gt;
&lt;li&gt;vectorï¼šå¯æ‰©å……çš„æ•°ç»„ï¼ˆåˆ†é…å™¨åšå†…å­˜æ‰©å……ï¼‰&lt;/li&gt;
&lt;li&gt;Dequeï¼šåŒç«¯é˜Ÿåˆ—&lt;/li&gt;
&lt;li&gt;Listï¼šåŒå‘é“¾è¡¨&lt;/li&gt;
&lt;li&gt;Forward-Listï¼šå•å‘é“¾è¡¨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å…³è”å¼å®¹å™¨ï¼ˆkey-&amp;gt;valueï¼‰
&lt;ul&gt;
&lt;li&gt;Set/Multisetï¼ˆMultisetä¸­çš„å€¼å¯ä»¥é‡å¤ï¼‰ï¼šå†…éƒ¨ä¸ºçº¢é»‘æ•°&lt;/li&gt;
&lt;li&gt;Map/Multimapï¼ˆMultimapä¸­çš„valueå€¼å¯ä»¥é‡å¤ï¼‰ï¼šå†…éƒ¨ä¸ºçº¢é»‘æ ‘&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ— åºå®¹å™¨ï¼ˆunordered,å¤§ç±»ä¸Šå±äºå…³è”å¼å®¹å™¨ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;ä»‹ç»ä¸€ä¸ªå¸¸ç”¨çš„ç»“æ„hashtableï¼šæ ¹æ®å…¬å¼è¿›è¡Œåˆ†ç±»ï¼Œ ä½†ä¼šäº§ç”Ÿç¢°æ’ï¼Œ
äº§ç”Ÿç¢°æ’çš„å…ƒç´ å…¨éƒ¨æ”¾åœ¨ä¸€ä¸ªé“¾è¡¨ä¸­ã€‚ä½†å¦‚æœé“¾è¡¨å¤ªé•¿å¦‚ä½•åšå‘¢ï¼Ÿåé¢ä¼šç»§ç»­ä»‹ç»ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;å…ˆå†™ç”¨äºæµ‹è¯•çš„å‡ ä¸ªè¾…åŠ©å‡½æ•°:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 2
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 3
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 4
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 5
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 6
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 7
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 8
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 9
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;10
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;11
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;12
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;13
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;14
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;15
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;16
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;17
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;18
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;19
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;20
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;21
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;22
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;23
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;24
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;25
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;26
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;27
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;28
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;29
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;30
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;31
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;32
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;33
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;34
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;35
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;36
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;37
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;using&lt;/span&gt; std::cin;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;using&lt;/span&gt; std::cout;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;using&lt;/span&gt; std::string;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;long&lt;/span&gt; &lt;span style=&#34;color:#008b45&#34;&gt;get_a_target_long&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;long&lt;/span&gt; target = &lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    cout &amp;lt;&amp;lt; &lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;target (0~&amp;#34;&lt;/span&gt; &amp;lt;&amp;lt; RAND_MAX &amp;lt;&amp;lt; &lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;):&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;return&lt;/span&gt; target;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;string &lt;span style=&#34;color:#008b45&#34;&gt;get_a_target_string&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;long&lt;/span&gt; target = &lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;char&lt;/span&gt; buf[&lt;span style=&#34;color:#b452cd&#34;&gt;10&lt;/span&gt;];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    cout &amp;lt;&amp;lt; &lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;target (0~&amp;#34;&lt;/span&gt; &amp;lt;&amp;lt; RAND_MAX &amp;lt;&amp;lt; &lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;):&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    cin &amp;gt;&amp;gt; target;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#228b22&#34;&gt;//snprintfåŠŸèƒ½ä¸ºæ ¼å¼åŒ–æˆå­—ç¬¦ä¸²
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#228b22&#34;&gt;// 1-- ç›®æ ‡å­—ç¬¦ä¸² 2 -- æ‹·è´å­—èŠ‚æ•° 3 -- æ ¼å¼åŒ–æˆå­—ç¬¦ä¸²ã€‚4 -- å¯å˜å‚æ•°ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;&lt;/span&gt;    snprintf(buf, &lt;span style=&#34;color:#b452cd&#34;&gt;10&lt;/span&gt;, &lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;%d&amp;#34;&lt;/span&gt;, target);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;return&lt;/span&gt; string(buf);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;//æ¯”è¾ƒä¸¤ä¸ªlongæ•°æ®æ˜¯å¦ç›¸ç­‰
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#008b45&#34;&gt;compareLongs&lt;/span&gt;(&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;void&lt;/span&gt;* a, &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;void&lt;/span&gt;* b)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;return&lt;/span&gt; (*(&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;long&lt;/span&gt;*)a - *(&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;long&lt;/span&gt;*)b);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;//æ¯”è¾ƒä¸¤ä¸ªstringæ•°æ®æ˜¯å¦ç›¸ç­‰
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#008b45&#34;&gt;compareStrings&lt;/span&gt;(&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;void&lt;/span&gt;* a, &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;void&lt;/span&gt;* b)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;if&lt;/span&gt;(*(string*)a &amp;gt; *(string*)b)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;if&lt;/span&gt;(*(string*)a &amp;lt; *(string*)b)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;return&lt;/span&gt; -&lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;else&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;é¡ºåºå®¹å™¨ä½¿ç”¨åŠæµ‹è¯•&#34;&gt;é¡ºåºå®¹å™¨ä½¿ç”¨åŠæµ‹è¯•&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨å®¹å™¨arrayï¼š&lt;a href=&#34;https://github.com/caixiongjiang/STL_sourcecode/blob/master/%E7%AC%AC%E4%BA%8C%E8%AE%B2/array.cpp&#34;&gt;array.cpp&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨å®¹å™¨vectorï¼š&lt;a href=&#34;https://github.com/caixiongjiang/STL_sourcecode/blob/master/%E7%AC%AC%E4%BA%8C%E8%AE%B2/vector.cpp&#34;&gt;vector.cpp&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨å®¹å™¨listï¼š&lt;a href=&#34;https://github.com/caixiongjiang/STL_sourcecode/blob/master/%E7%AC%AC%E4%BA%8C%E8%AE%B2/list.cpp&#34;&gt;list.cpp&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨å®¹å™¨forward_listï¼š&lt;a href=&#34;https://github.com/caixiongjiang/STL_sourcecode/blob/master/%E7%AC%AC%E4%BA%8C%E8%AE%B2/forward_list.cpp&#34;&gt;forward_list.cpp&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨å®¹å™¨slistï¼š&lt;a href=&#34;https://github.com/caixiongjiang/STL_sourcecode/blob/master/%E7%AC%AC%E4%BA%8C%E8%AE%B2/slist.cpp&#34;&gt;slist.cpp&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨å®¹å™¨dequeï¼š&lt;a href=&#34;https://github.com/caixiongjiang/STL_sourcecode/blob/master/%E7%AC%AC%E4%BA%8C%E8%AE%B2/deque.cpp&#34;&gt;deque.cpp&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;dequeå®¹å™¨çš„ç»“æ„ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/stl/img2_3.jpg&#34; alt=&#34;dequeå®¹å™¨çš„ç»“æ„&#34;&gt;&lt;/p&gt;
&lt;p&gt;dequeå®¹å™¨ç”±ä¸€ä¸ªä¸ªå…·æœ‰ä¸€å®šé•¿åº¦çš„bufferç»„æˆï¼Œåœ¨æ¯ä¸€ä¸ªbufferä¸Šæ˜¯è¿ç»­çš„ï¼Œ
ä½†æ˜¯bufferä¸bufferä¹‹é—´ä¸æ˜¯è¿ç»­çš„ã€‚ï¼ˆä¹Ÿå°±æ˜¯æ‰€è°“çš„&lt;strong&gt;åˆ†æ®µè¿ç»­&lt;/strong&gt;çš„ç‰¹ç‚¹ï¼‰&lt;/p&gt;
&lt;p&gt;dequeå†…å­˜æ‰©å……çš„æœºåˆ¶æ˜¯å‘ä¸¤è¾¹æ‰©å……ï¼šå“ªè¾¹ä¸å¤Ÿç”¨äº†å°±æ‰©å……ä¸€ä¸‹ï¼Œæ¯æ¬¡éƒ½æ‰©å……ä¸€ä¸ªbufferã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å…³è”å¼å®¹å™¨ä½¿ç”¨åŠæµ‹è¯•&#34;&gt;å…³è”å¼å®¹å™¨ä½¿ç”¨åŠæµ‹è¯•&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;æ³¨æ„ä¸€ç‚¹ï¼Œåªè¦æ˜¯å…³è”å¼çš„å®¹å™¨å®ƒçš„æŸ¥æ‰¾æ•ˆç‡éƒ½æ˜¯éå¸¸é«˜çš„ï¼&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨å®¹å™¨stackï¼š&lt;a href=&#34;https://github.com/caixiongjiang/STL_sourcecode/blob/master/%E7%AC%AC%E4%BA%8C%E8%AE%B2/stack.cpp&#34;&gt;stack.cpp&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;dequeå…¶å®å·²ç»æ¶µç›–äº†stackçš„åŠŸèƒ½ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/stl/img2_4.jpg&#34; alt=&#34;dequeå’Œstackçš„ç»“æ„å¯¹æ¯”&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨å®¹å™¨queueï¼š&lt;a href=&#34;https://github.com/caixiongjiang/STL_sourcecode/blob/master/%E7%AC%AC%E4%BA%8C%E8%AE%B2/queue.cpp&#34;&gt;queue.cpp&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;dequeå…¶å®å·²ç»æ¶µç›–äº†queueçš„åŠŸèƒ½ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/stl/img2_5.jpg&#34; alt=&#34;dequeå’Œqueueçš„ç»“æ„å¯¹æ¯”&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å…³è”æ€§å®¹å™¨ä½¿ç”¨åŠå…¶æµ‹è¯•&#34;&gt;å…³è”æ€§å®¹å™¨ä½¿ç”¨åŠå…¶æµ‹è¯•&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨å®¹å™¨multisetï¼š&lt;a href=&#34;https://github.com/caixiongjiang/STL_sourcecode/blob/master/%E7%AC%AC%E4%BA%8C%E8%AE%B2/multiset.cpp&#34;&gt;multiset.cpp&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;multisetçš„ç»“æ„ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/stl/img2_6.png&#34; alt=&#34;multisetå®¹å™¨çš„ç»“æ„&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨å®¹å™¨multimapï¼š&lt;a href=&#34;https://github.com/caixiongjiang/STL_sourcecode/blob/master/%E7%AC%AC%E4%BA%8C%E8%AE%B2/multimap.cpp&#34;&gt;multimap.cpp&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;multimapçš„ç»“æ„ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/stl/img2_7.jpg&#34; alt=&#34;multimapå®¹å™¨çš„ç»“æ„&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨å®¹å™¨unordered_multisetï¼š&lt;a href=&#34;https://github.com/caixiongjiang/STL_sourcecode/blob/master/%E7%AC%AC%E4%BA%8C%E8%AE%B2/unordered_multiset.cpp&#34;&gt;unordered_multiset.cpp&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;unordered_multisetçš„ç»“æ„ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/img2_8.jpg&#34; alt=&#34;unordered_multiset&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨å®¹å™¨unordered_multimapï¼š&lt;a href=&#34;https://github.com/caixiongjiang/STL_sourcecode/blob/master/%E7%AC%AC%E4%BA%8C%E8%AE%B2/unordered_multimap.cpp&#34;&gt;unordered_multimap.cpp&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;unordered_multimapçš„ç»“æ„ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/img2_9.jpg&#34; alt=&#34;unordered_multimapå®¹å™¨çš„ç»“æ„&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨å®¹å™¨setï¼š&lt;a href=&#34;https://github.com/caixiongjiang/STL_sourcecode/blob/master/%E7%AC%AC%E4%BA%8C%E8%AE%B2/set.cpp&#34;&gt;set.cpp&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;setçš„ç»“æ„ï¼šå’Œå‰é¢çš„multisetç›¸åŒï¼ˆä¸ºçº¢é»‘æ ‘ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨å®¹å™¨mapï¼š&lt;a href=&#34;https://github.com/caixiongjiang/STL_sourcecode/blob/master/%E7%AC%AC%E4%BA%8C%E8%AE%B2/map.cpp&#34;&gt;map.cpp&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;mapçš„ç»“æ„ï¼šå’Œå‰é¢çš„multimapç›¸åŒï¼ˆä¸ºçº¢é»‘æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹æœ‰ä¸¤ä¸ªå€¼ç»„åˆèµ·æ¥ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨å®¹å™¨unordered_setï¼š&lt;a href=&#34;https://github.com/caixiongjiang/STL_sourcecode/blob/master/%E7%AC%AC%E4%BA%8C%E8%AE%B2/unordered_set.cpp&#34;&gt;unordered_set.cpp&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;unordered_setçš„ç»“æ„ï¼šå’Œå‰é¢çš„unordered_multisetç›¸åŒï¼Œåº•å±‚ä¸ºhashtable&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨å®¹å™¨unordered_mapï¼š&lt;a href=&#34;https://github.com/caixiongjiang/STL_sourcecode/blob/master/%E7%AC%AC%E4%BA%8C%E8%AE%B2/unordered_map.cpp&#34;&gt;unordered_map.cpp&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;unordered_mapçš„ç»“æ„ï¼šå’Œå‰é¢çš„unordered_multimapç›¸åŒï¼Œåº•å±‚ä¸ºhashtable&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ³¨ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;priority_queueå’Œheapæ˜¯ä»¥å…¶ä»–çš„å®¹å™¨åšåº•éƒ¨æ”¯æ’‘çš„ï¼Œæ‰€ä»¥æ²¡æœ‰è¿›è¡Œå½’ç±»ã€‚&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;hash_set ç­‰ä»·äºunordered_set&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;hash_map ç­‰ä»·äºunordered_map&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;hash_multiset ç­‰ä»·äºunordered_multiset&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;hash_multimap ç­‰ä»·äºunordered_multimap&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;hash_~çš„å¤´æ–‡ä»¶æ˜¯æ”¾åœ¨ç‰¹æ®Šçš„å¤´æ–‡ä»¶ä¸­ï¼Œæ˜¯åœ¨ç‰¹æ®Šçš„æ–‡ä»¶å¤¹ä¸­&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;åˆ†é…å™¨ä½¿ç”¨åŠå…¶æµ‹è¯•&#34;&gt;åˆ†é…å™¨ä½¿ç”¨åŠå…¶æµ‹è¯•&lt;/h3&gt;
&lt;p&gt;åˆ†é…å™¨è‡ªèº«æ˜¯ç”¨ç®¡ç†å†…å­˜ä½¿ç”¨çš„ï¼Œæˆ‘ä»¬å¹³å¸¸ä½¿ç”¨å¾ˆå°‘ï¼Œä¸€èˆ¬ç›´æ¥ä½¿ç”¨å®¹å™¨é‡Œé»˜è®¤çš„åˆ†é…å™¨ï¼ˆå¯ä»¥çœç•¥ï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬ä¼šç›´æ¥ä½¿ç”¨å®¹å™¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/stl/img2_10.jpg&#34; alt=&#34;åˆ†é…å™¨æ ·ä¾‹&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/stl/img2_11.jpg&#34; alt=&#34;åˆ†é…å™¨æ ·ä¾‹&#34;&gt;&lt;/p&gt;
- https://caixiongjiang.github.io/blog/2022/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E7%AC%AC2%E8%AE%B2-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/ - </description>
        </item>
    
    
    
        <item>
        <title>ç¬¬ä¸€è®²:STLä½“ç³»ç»“æ„ä»‹ç»</title>
        <link>https://caixiongjiang.github.io/blog/2022/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E7%AC%AC1%E8%AE%B2-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</link>
        <pubDate>Thu, 07 Apr 2022 08:15:05 +0800</pubDate>
        
        <guid>https://caixiongjiang.github.io/blog/2022/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E7%AC%AC1%E8%AE%B2-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</guid>
        <description>ğŸŒ€Jarson Cai&#39;s Blog https://caixiongjiang.github.io/blog/2022/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E7%AC%AC1%E8%AE%B2-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/ -&lt;h2 id=&#34;ç¬¬ä¸€è®²stlä½“ç³»ç»“æ„ä»‹ç»&#34;&gt;ç¬¬ä¸€è®²:STLä½“ç³»ç»“æ„ä»‹ç»&lt;/h2&gt;
&lt;h3 id=&#34;cæ ‡å‡†åº“-vs-c-standard-library&#34;&gt;c++æ ‡å‡†åº“ vs c++ Standard Library&lt;/h3&gt;
&lt;p&gt;æ€»ä½“æ¥è¯´  c++æ ‡å‡†åº“ &amp;gt; c++ Standard Library&lt;/p&gt;
&lt;p&gt;æ ‡å‡†åº“ä»¥å¤´æ–‡ä»¶ï¼ˆ.hï¼‰çš„å½¢å¼å‘ˆç°:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;c++æ ‡å‡†åº“çš„header filesä¸å¸¦å‰¯æ¡£åï¼ˆ.hï¼‰, ä¾‹å¦‚#include &lt;vector&gt;&lt;/li&gt;
&lt;li&gt;æ–°å¼c header files ä¸å¸¦å‰¯æ¡£åï¼ˆ.hï¼‰ï¼Œä¾‹å¦‚ #include &lt;cstdio&gt;&lt;/li&gt;
&lt;li&gt;æ—§å¼c header files å¸¦æœ‰å‰¯æ¡£åï¼ˆ.hï¼‰ä»ç„¶å¯ç”¨ï¼Œä¾‹å¦‚ #include &amp;lt;stdio.h&amp;gt;&lt;/li&gt;
&lt;li&gt;æ–°å¼headerså†…çš„ç»„ä»¶å°è£…ä¸º namespace &amp;ldquo;std&amp;rdquo;
&lt;ul&gt;
&lt;li&gt;using namespace std;ï¼ˆç›¸å½“äºæŠŠstdæ–‡ä»¶å…¨éƒ¨æ‰“å¼€ï¼‰&lt;/li&gt;
&lt;li&gt;using std::cout;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ—§å¼headerså†…çš„ç»„ä»¶ä¸å°è£…åœ¨namespace &amp;ldquo;std&amp;rdquo;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;demoï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;2
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;3
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;4
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;5
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#1e889b&#34;&gt;&amp;lt;string&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#1e889b&#34;&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#1e889b&#34;&gt;&amp;lt;vector&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#1e889b&#34;&gt;&amp;lt;algorithm&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#1e889b&#34;&gt;&amp;lt;functional&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;using&lt;/span&gt; &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;namespace&lt;/span&gt; std;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;é‡è¦çš„ç½‘ç«™cæ ‡å‡†åº“&#34;&gt;é‡è¦çš„ç½‘ç«™ï¼ˆc++æ ‡å‡†åº“ï¼‰&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.cplusplus.com/&#34;&gt;cplusplus.com&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://en.cppreference.com/w/&#34;&gt;cppreference.com&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://gcc.gnu.org/&#34;&gt;gcc.gnu.org&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;stlå…­å¤§éƒ¨ä»¶&#34;&gt;STLå…­å¤§éƒ¨ä»¶&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;å®¹å™¨ï¼ˆcontainersï¼‰&lt;/li&gt;
&lt;li&gt;åˆ†é…å™¨ï¼ˆallocatorsï¼‰&lt;/li&gt;
&lt;li&gt;ç®—æ³•ï¼ˆalgorithmsï¼‰&lt;/li&gt;
&lt;li&gt;è¿­ä»£å™¨ï¼ˆiteratorsï¼‰&lt;/li&gt;
&lt;li&gt;é€‚é…å™¨ï¼ˆaddptersï¼‰&lt;/li&gt;
&lt;li&gt;ä»¿å‡½æ•°ï¼ˆfunctorsï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å…­å¤§éƒ¨ä»¶çš„å…³ç³»ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å®¹å™¨å¯ä»¥ä½¿æˆ‘ä»¬ä¸ç”¨ç®¡c++çš„å†…å­˜ï¼Œåˆ†é…å™¨æ”¯æŒå®¹å™¨è¿›è¡Œå†…å­˜ç®¡ç†ã€‚&lt;/li&gt;
&lt;li&gt;å®¹å™¨çš„æ•°æ®æ“ä½œä½¿ç”¨ç®—æ³•ï¼Œè®¿é—®æ•°æ®ä½¿ç”¨è¿­ä»£å™¨ï¼Œè¿­ä»£å™¨ï¼ˆç±»ä¼¼äºæŒ‡é’ˆï¼‰æ˜¯ç®—æ³•æ“ä½œå®¹å™¨å†…éƒ¨æ•°æ®çš„æ¡¥æ¢ã€‚&lt;/li&gt;
&lt;li&gt;ä»¿å‡½æ•°ç±»ä¼¼äºå‡½æ•°ï¼Œæš‚æ—¶å¯ä»¥ç”¨å‡½æ•°æ¥ç†è§£ã€‚&lt;/li&gt;
&lt;li&gt;é€‚é…å™¨æ˜¯ç”¨æ¥è½¬æ¢çš„ï¼Œå¯ä»¥å¯¹å®¹å™¨ï¼Œä»¿å‡½æ•°ï¼Œè¿­ä»£å™¨è¿›è¡Œè½¬æ¢ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;æ¨¡ç‰ˆç¼–ç¨‹å’Œé¢å‘å¯¹è±¡ç¼–ç¨‹çš„åŒºåˆ«&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¨¡ç‰ˆç¼–ç¨‹çš„ç®—æ³•å¦å¤–å°è£…ï¼Œè€Œé¢å‘å¯¹è±¡ä¸­å°†æ“ä½œæ•°æ®çš„ç®—æ³•ï¼ˆæˆ–è€…ç§°ä¸ºå‡½æ•°ï¼‰å°è£…åœ¨ç±»çš„å†…éƒ¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;demo:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 2
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 3
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 4
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 5
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 6
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 7
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 8
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 9
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;10
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;11
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;12
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;13
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;14
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;15
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;16
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;17
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;18
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;19
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;20
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;21
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;22
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;23
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#1e889b&#34;&gt;&amp;lt;vector&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#1e889b&#34;&gt;&amp;lt;algorithm&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#1e889b&#34;&gt;&amp;lt;functional&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#1e889b&#34;&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;using&lt;/span&gt; &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;namespace&lt;/span&gt; std;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#008b45&#34;&gt;main&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; ia[&lt;span style=&#34;color:#b452cd&#34;&gt;6&lt;/span&gt;] = {&lt;span style=&#34;color:#b452cd&#34;&gt;21&lt;/span&gt;,&lt;span style=&#34;color:#b452cd&#34;&gt;350&lt;/span&gt;, &lt;span style=&#34;color:#b452cd&#34;&gt;12&lt;/span&gt;, &lt;span style=&#34;color:#b452cd&#34;&gt;109&lt;/span&gt;, &lt;span style=&#34;color:#b452cd&#34;&gt;83&lt;/span&gt;, &lt;span style=&#34;color:#b452cd&#34;&gt;2&lt;/span&gt;};
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#228b22&#34;&gt;//allocatorä»£è¡¨åˆ†é…å™¨ï¼Œä¸è¿‡æ ‡å‡†åº“ä¸­æœ‰é»˜è®¤çš„åˆ†é…å™¨ï¼Œå®é™…ä½¿ç”¨æ—¶ä¸éœ€è¦å†™
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;&lt;/span&gt;    vector&amp;lt;&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt;, allocator&amp;lt;&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt;&amp;gt;&amp;gt; vi(ia, ia + &lt;span style=&#34;color:#b452cd&#34;&gt;6&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#228b22&#34;&gt;/**
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;     * count_ifä»£è¡¨ä¸€ä¸ªç®—æ³•ï¼šè®¡ç®—å‡ºç¬¦åˆç»™å‡ºæ¡ä»¶çš„å…ƒç´ æœ‰å‡ ä¸ª
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;     * vi.begin()å’Œvi.end()ä»£è¡¨è¿­ä»£å™¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;     * è¿™é‡Œçš„æ¡ä»¶æ˜¯å¤§äºç­‰äº40ï¼šnot1(bind2nd(less&amp;lt;int&amp;gt;(), 40))
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;     * less&amp;lt;int&amp;gt;()æ˜¯ä¸€ä¸ªä»¿å‡½æ•°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;     * bind2ndä»£è¡¨ä¸€ä¸ªé…ç½®å™¨ï¼šåŠŸèƒ½ä¸ºç»‘å®šç¬¬äºŒä¸ªå‚æ•°ï¼Œè¿™é‡Œå°±æ˜¯å°†ä»¿å‡½æ•°ä¸­çš„a &amp;lt; bå˜æˆäº†a &amp;lt; 40
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;     * not1ä¹Ÿæ˜¯ä¸€ä¸ªé…ç½®å™¨ï¼šåŠŸèƒ½ä¸ºå°† &amp;#34;&amp;lt;40&amp;#34; æ”¹æˆ &amp;#34;&amp;gt;=40&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;     * */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    cout &amp;lt;&amp;lt; count_if(vi.begin(), vi.end(), not1(bind2nd(less&amp;lt;&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt;&amp;gt;(), &lt;span style=&#34;color:#b452cd&#34;&gt;40&lt;/span&gt;)));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;ä½¿ç”¨å‰é—­åå¼€åŒºé—´&#34;&gt;ä½¿ç”¨å‰é—­åå¼€åŒºé—´&lt;/h3&gt;
&lt;p&gt;ä¹Ÿå°±æ˜¯æ‰€è°“çš„ &amp;ldquo;[  )&amp;rdquo;&lt;/p&gt;
&lt;p&gt;èŒƒä¾‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/stl/img1_1.jpg&#34; alt=&#34;è¿­ä»£å™¨æŒ‡å‘çš„ä½ç½®&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é€‚åº¦ä½¿ç”¨autoï¼ˆc++11å¼•å…¥ï¼‰&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/stl/img1_2.jpg&#34; alt=&#34;autoä»£æ›¿è¿­ä»£å™¨ï¼ˆç¼–è¯‘å™¨è‡ªåŠ¨æ¨å¯¼ï¼‰&#34;&gt;&lt;/p&gt;
- https://caixiongjiang.github.io/blog/2022/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90/stl%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E7%AC%AC1%E8%AE%B2-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/ - </description>
        </item>
    
    
    
        <item>
        <title>ã€ŠTCP/IPç½‘ç»œç¼–ç¨‹ã€‹ç¬¬ 15 ç«  å¥—æ¥å­—å’Œæ ‡å‡†I/O ç¬”è®°</title>
        <link>https://caixiongjiang.github.io/blog/2022/tcp-ip%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/tcp-ip%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E7%AC%AC-15-%E7%AB%A0-%E5%A5%97%E6%8E%A5%E5%AD%97%E5%92%8C%E6%A0%87%E5%87%86i-o-%E7%AC%94%E8%AE%B0/</link>
        <pubDate>Wed, 06 Apr 2022 17:53:25 +0800</pubDate>
        
        <guid>https://caixiongjiang.github.io/blog/2022/tcp-ip%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/tcp-ip%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E7%AC%AC-15-%E7%AB%A0-%E5%A5%97%E6%8E%A5%E5%AD%97%E5%92%8C%E6%A0%87%E5%87%86i-o-%E7%AC%94%E8%AE%B0/</guid>
        <description>ğŸŒ€Jarson Cai&#39;s Blog https://caixiongjiang.github.io/blog/2022/tcp-ip%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/tcp-ip%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E7%AC%AC-15-%E7%AB%A0-%E5%A5%97%E6%8E%A5%E5%AD%97%E5%92%8C%E6%A0%87%E5%87%86i-o-%E7%AC%94%E8%AE%B0/ -&lt;h2 id=&#34;ç¬¬-15-ç« -å¥—æ¥å­—å’Œæ ‡å‡†io&#34;&gt;ç¬¬ 15 ç«  å¥—æ¥å­—å’Œæ ‡å‡†I/O&lt;/h2&gt;
&lt;h3 id=&#34;151-æ ‡å‡†-io-çš„ä¼˜ç‚¹&#34;&gt;15.1 æ ‡å‡† I/O çš„ä¼˜ç‚¹&lt;/h3&gt;
&lt;h4 id=&#34;1511-æ ‡å‡†-io-å‡½æ•°çš„ä¸¤ä¸ªä¼˜ç‚¹&#34;&gt;15.1.1 æ ‡å‡† I/O å‡½æ•°çš„ä¸¤ä¸ªä¼˜ç‚¹&lt;/h4&gt;
&lt;p&gt;ä¸‹é¢æ˜¯æ ‡å‡† I/O å‡½æ•°çš„ä¸¤ä¸ªä¼˜ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ ‡å‡† I/O å‡½æ•°å…·æœ‰è‰¯å¥½çš„ç§»æ¤æ€§&lt;/li&gt;
&lt;li&gt;æ ‡å‡† I/O å‡½æ•°å¯ä»¥åˆ©ç”¨ç¼“å†²æé«˜æ€§èƒ½&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åˆ›å»ºå¥—æ¥å­—æ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šå‡†å¤‡ I/O ç¼“å†²ã€‚æ­¤ç¼“å†²åœ¨æ‰§è¡Œ TCP åè®®æ—¶å‘æŒ¥ç€éå¸¸é‡è¦çš„ä½œç”¨ã€‚æ­¤æ—¶è‹¥ä½¿ç”¨æ ‡å‡† I/O å‡½æ•°ï¼Œå°†å¾—åˆ°é¢å¤–çš„ç¼“å†²æ”¯æŒã€‚å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2019/01/29/5c500e53ad9aa.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;å‡è®¾ä½¿ç”¨ fputs å‡½æ•°è¿›è¡Œä¼ è¾“å­—ç¬¦ä¸² ã€ŒHelloã€æ—¶ï¼Œé¦–å…ˆå°†æ•°æ®ä¼ é€’åˆ°æ ‡å‡† I/O ç¼“å†²ï¼Œç„¶åå°†æ•°æ®ç§»åŠ¨åˆ°å¥—æ¥å­—è¾“å‡ºç¼“å†²ï¼Œæœ€åå°†å­—ç¬¦ä¸²å‘é€åˆ°å¯¹æ–¹ä¸»æœºã€‚&lt;/p&gt;
&lt;p&gt;è®¾ç½®ç¼“å†²çš„ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†æé«˜æ€§èƒ½ã€‚ä»ä»¥ä¸‹ä¸¤ç‚¹å¯ä»¥è¯´æ˜æ€§èƒ½çš„æé«˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¼ è¾“çš„æ•°æ®é‡&lt;/li&gt;
&lt;li&gt;æ•°æ®å‘è¾“å‡ºç¼“å†²ç§»åŠ¨çš„æ¬¡æ•°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ¯”è¾ƒ 1 ä¸ªå­—èŠ‚çš„æ•°æ®å‘é€ 10 æ¬¡çš„æƒ…å†µå’Œ 10 ä¸ªæ•°æ®åŒ…å‘é€ 1 æ¬¡çš„æƒ…å†µã€‚å‘é€æ•°æ®æ—¶ï¼Œæ•°æ®åŒ…ä¸­å«æœ‰å¤´ä¿¡æ¯ã€‚å¤´ä¿¡ä¸æ•°æ®å¤§å°æ— å…³ï¼Œæ˜¯æŒ‰ç…§ä¸€å®šçš„æ ¼å¼å¡«å…¥çš„ã€‚å‡è®¾å¤´ä¿¡æ¯å  40 ä¸ªå­—èŠ‚ï¼Œéœ€è¦ä¼ è¾“çš„æ•°æ®é‡ä¹Ÿå­˜åœ¨è¾ƒå¤§åŒºåˆ«ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1 ä¸ªå­—èŠ‚ 10 æ¬¡ï¼š40*10=400 å­—èŠ‚&lt;/li&gt;
&lt;li&gt;10ä¸ªå­—èŠ‚ 1 æ¬¡ï¼š40*1=40 å­—èŠ‚ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;1512-æ ‡å‡†-io-å‡½æ•°å’Œç³»ç»Ÿå‡½æ•°ä¹‹é—´çš„æ€§èƒ½å¯¹æ¯”&#34;&gt;15.1.2 æ ‡å‡† I/O å‡½æ•°å’Œç³»ç»Ÿå‡½æ•°ä¹‹é—´çš„æ€§èƒ½å¯¹æ¯”&lt;/h4&gt;
&lt;p&gt;ä¸‹é¢æ˜¯åˆ©ç”¨ç³»ç»Ÿå‡½æ•°çš„ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/caixiongjiang/TCPIP/blob/master/ch15/syscpy.c&#34;&gt;syscpy.c&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸‹é¢æ˜¯ä½¿ç”¨æ ‡å‡† I/O å‡½æ•°å¤åˆ¶æ–‡ä»¶&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/caixiongjiang/TCPIP/blob/master/ch15/stdcpy.c&#34;&gt;stdcpy.c&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¯¹äºä»¥ä¸Šä¸¤ä¸ªä»£ç è¿›è¡Œæµ‹è¯•ï¼Œæ˜æ˜¾åŸºäºæ ‡å‡† I/O å‡½æ•°çš„ä»£ç è·‘çš„æ›´å¿«&lt;/p&gt;
&lt;h4 id=&#34;1513-æ ‡å‡†-io-å‡½æ•°çš„å‡ ä¸ªç¼ºç‚¹&#34;&gt;15.1.3 æ ‡å‡† I/O å‡½æ•°çš„å‡ ä¸ªç¼ºç‚¹&lt;/h4&gt;
&lt;p&gt;æ ‡å‡† I/O å‡½æ•°å­˜åœ¨ä»¥ä¸‹å‡ ä¸ªç¼ºç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸å®¹æ˜“è¿›è¡ŒåŒå‘é€šä¿¡&lt;/li&gt;
&lt;li&gt;æœ‰æ—¶å¯èƒ½é¢‘ç¹è°ƒç”¨ fflush å‡½æ•°&lt;/li&gt;
&lt;li&gt;éœ€è¦ä»¥ FILE ç»“æ„ä½“æŒ‡é’ˆçš„å½¢å¼è¿”å›æ–‡ä»¶æè¿°ç¬¦ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;152-ä½¿ç”¨æ ‡å‡†-io-å‡½æ•°&#34;&gt;15.2 ä½¿ç”¨æ ‡å‡† I/O å‡½æ•°&lt;/h3&gt;
&lt;h4 id=&#34;1521-åˆ©ç”¨-fdopen-å‡½æ•°è½¬æ¢ä¸º-file-ç»“æ„ä½“æŒ‡é’ˆ&#34;&gt;15.2.1 åˆ©ç”¨ fdopen å‡½æ•°è½¬æ¢ä¸º FILE ç»“æ„ä½“æŒ‡é’ˆ&lt;/h4&gt;
&lt;p&gt;å‡½æ•°åŸå‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;2
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;3
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;4
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;5
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;6
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#1e889b&#34;&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;&lt;/span&gt;FILE *&lt;span style=&#34;color:#008b45&#34;&gt;fdopen&lt;/span&gt;(&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; fildes, &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;char&lt;/span&gt; *mode);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;/*
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;æˆåŠŸæ—¶è¿”å›è½¬æ¢çš„ FILE ç»“æ„ä½“æŒ‡é’ˆï¼Œå¤±è´¥æ—¶è¿”å› NULL
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;fildes ï¼š éœ€è¦è½¬æ¢çš„æ–‡ä»¶æè¿°ç¬¦
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;mode ï¼š å°†è¦åˆ›å»ºçš„ FILE ç»“æ„ä½“æŒ‡é’ˆçš„æ¨¡å¼ä¿¡æ¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;*/&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä»¥ä¸‹ä¸ºç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/caixiongjiang/TCPIP/blob/master/ch15/desto.c&#34;&gt;desto.c&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 2
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 3
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 4
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 5
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 6
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 7
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 8
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 9
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;10
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;11
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;12
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;13
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;14
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;15
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;16
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;17
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#1e889b&#34;&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#1e889b&#34;&gt;&amp;lt;fcntl.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#008b45&#34;&gt;main&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    FILE *fp;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; fd = open(&lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;data.dat&amp;#34;&lt;/span&gt;, O_WRONLY | O_CREAT | O_TRUNC); &lt;span style=&#34;color:#228b22&#34;&gt;//åˆ›å»ºæ–‡ä»¶å¹¶è¿”å›æ–‡ä»¶æè¿°ç¬¦
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;if&lt;/span&gt; (fd == -&lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        fputs(&lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;file open error&amp;#34;&lt;/span&gt;, stdout);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;return&lt;/span&gt; -&lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    fd = fdopen(fd, &lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;w&amp;#34;&lt;/span&gt;); &lt;span style=&#34;color:#228b22&#34;&gt;//è¿”å› å†™ æ¨¡å¼çš„ FILE æŒ‡é’ˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;&lt;/span&gt;    fputs(&lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;NetWork C programming &lt;/span&gt;&lt;span style=&#34;color:#cd5555&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;&lt;/span&gt;, fp);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    fclose(fp);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ç¼–è¯‘è¿è¡Œï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;gcc desto.c -o desto
./desto
cat data.dat
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿è¡Œç»“æœï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2019/01/29/5c5018ff07b29.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ–‡ä»¶æè¿°ç¬¦è½¬æ¢ä¸º FILE æŒ‡é’ˆï¼Œå¹¶å¯ä»¥é€šè¿‡è¯¥æŒ‡é’ˆè°ƒç”¨æ ‡å‡† I/O å‡½æ•°ã€‚&lt;/p&gt;
&lt;h4 id=&#34;1522-åˆ©ç”¨-fileno-å‡½æ•°è½¬æ¢ä¸ºæ–‡ä»¶æè¿°ç¬¦&#34;&gt;15.2.2 åˆ©ç”¨ fileno å‡½æ•°è½¬æ¢ä¸ºæ–‡ä»¶æè¿°ç¬¦&lt;/h4&gt;
&lt;p&gt;å‡½æ•°åŸå‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;2
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;3
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;4
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#1e889b&#34;&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#008b45&#34;&gt;fileno&lt;/span&gt;(FILE *stream);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;/*
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;æˆåŠŸæ—¶è¿”å›æ–‡ä»¶æè¿°ç¬¦ï¼Œå¤±è´¥æ—¶è¿”å› -1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;*/&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/caixiongjiang/TCPIP/blob/master/ch15/todes.c&#34;&gt;todes.c&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 2
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 3
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 4
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 5
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 6
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 7
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 8
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 9
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;10
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;11
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;12
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;13
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;14
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;15
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;16
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;17
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;18
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;19
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;20
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#1e889b&#34;&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#1e889b&#34;&gt;&amp;lt;fcntl.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#008b45&#34;&gt;main&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    FILE *fp;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; fd = open(&lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;data.dat&amp;#34;&lt;/span&gt;, O_WRONLY | O_CREAT | O_TRUNC);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;if&lt;/span&gt; (fd == -&lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        fputs(&lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;file open error&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;return&lt;/span&gt; -&lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    printf(&lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;First file descriptor : %d &lt;/span&gt;&lt;span style=&#34;color:#cd5555&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;&lt;/span&gt;, fd);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    fp = fdopen(fd, &lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;w&amp;#34;&lt;/span&gt;); &lt;span style=&#34;color:#228b22&#34;&gt;//è½¬æˆ file æŒ‡é’ˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;&lt;/span&gt;    fputs(&lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;TCP/IP SOCKET PROGRAMMING &lt;/span&gt;&lt;span style=&#34;color:#cd5555&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;&lt;/span&gt;, fp);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    printf(&lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;Second file descriptor: %d &lt;/span&gt;&lt;span style=&#34;color:#cd5555&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;&lt;/span&gt;, fileno(fp)); &lt;span style=&#34;color:#228b22&#34;&gt;//è½¬å›æ–‡ä»¶æè¿°ç¬¦
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;&lt;/span&gt;    fclose(fp);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;153-åŸºäºå¥—æ¥å­—çš„æ ‡å‡†-io-å‡½æ•°ä½¿ç”¨&#34;&gt;15.3 åŸºäºå¥—æ¥å­—çš„æ ‡å‡† I/O å‡½æ•°ä½¿ç”¨&lt;/h3&gt;
&lt;p&gt;æŠŠç¬¬å››ç« çš„å›å£°å®¢æˆ·ç«¯å’Œå›å£°æœåŠ¡ç«¯çš„å†…å®¹æ”¹ä¸ºåŸºäºæ ‡å‡† I/O å‡½æ•°çš„æ•°æ®äº¤æ¢å½¢å¼ã€‚&lt;/p&gt;
&lt;p&gt;ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/caixiongjiang/TCPIP/blob/master/ch15/echo_client.c&#34;&gt;echo_client.c&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/caixiongjiang/TCPIP/blob/master/ch15/echo_stdserv.c&#34;&gt;echo_stdserv.c&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç¼–è¯‘è¿è¡Œï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;gcc echo_client.c -o eclient
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;gcc echo_stdserv.c -o eserver
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ç»“æœï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2019/01/29/5c502001581bc.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥çœ‹å‡ºï¼Œè¿è¡Œç»“æœå’Œç¬¬å››ç« ç›¸åŒï¼Œè¿™æ˜¯åˆ©ç”¨æ ‡å‡† I/O å®ç°çš„ã€‚&lt;/p&gt;
&lt;h3 id=&#34;154-ä¹ é¢˜&#34;&gt;15.4 ä¹ é¢˜&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;ä»¥ä¸‹ç­”æ¡ˆä»…ä»£è¡¨æœ¬äººä¸ªäººè§‚ç‚¹ï¼Œå¯èƒ½ä¸æ˜¯æ­£ç¡®ç­”æ¡ˆã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è¯·è¯´æ˜æ ‡å‡† I/O çš„ 2 ä¸ªä¼˜ç‚¹ã€‚ä»–ä¸ºä½•æ‹¥æœ‰è¿™ 2 ä¸ªä¼˜ç‚¹ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç­”ï¼šâ‘ å…·æœ‰å¾ˆé«˜çš„ç§»æ¤æ€§â‘¡æœ‰è‰¯å¥½çš„ç¼“å†²æé«˜æ€§èƒ½ã€‚å› ä¸ºè¿™äº›å‡½æ•°æ˜¯ç”± ANSI C æ ‡å‡†å®šä¹‰çš„ã€‚é€‚åˆæ‰€æœ‰ç¼–ç¨‹é¢†åŸŸã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;åˆ©ç”¨æ ‡å‡† I/O å‡½æ•°ä¼ è¾“æ•°æ®æ—¶ï¼Œä¸‹é¢çš„è¯´æ³•æ˜¯é”™è¯¯çš„&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è°ƒç”¨ fputs å‡½æ•°ä¼ è¾“æ•°æ®æ—¶ï¼Œè°ƒç”¨ååº”ç«‹å³å¼€å§‹å‘é€ï¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;ä¸ºä½•ä¸Šè¿°è¯´æ³•æ˜¯é”™è¯¯çš„ï¼Ÿä¸ºè¾¾åˆ°è¿™ç§æ•ˆæœåº”è¯¥æ·»åŠ å“ªäº›å¤„ç†è¿‡ç¨‹ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç­”ï¼šåªæ˜¯ä¼ è¾“åˆ°äº†ç¼“å†²ä¸­ï¼Œåº”è¯¥åˆ©ç”¨ fflush æ¥åˆ·æ–°ç¼“å†²åŒºã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
- https://caixiongjiang.github.io/blog/2022/tcp-ip%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/tcp-ip%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E7%AC%AC-15-%E7%AB%A0-%E5%A5%97%E6%8E%A5%E5%AD%97%E5%92%8C%E6%A0%87%E5%87%86i-o-%E7%AC%94%E8%AE%B0/ - </description>
        </item>
    
    
    
        <item>
        <title>ã€Šæ¨¡å¼è¯†åˆ«&amp;æœºå™¨å­¦ä¹ ã€‹è¯¾åä½œä¸šï¼ˆ2ï¼‰</title>
        <link>https://caixiongjiang.github.io/blog/2022/%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E8%AF%BE%E5%90%8E%E4%BD%9C%E4%B8%9A2/</link>
        <pubDate>Tue, 05 Apr 2022 18:07:05 +0800</pubDate>
        
        <guid>https://caixiongjiang.github.io/blog/2022/%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E8%AF%BE%E5%90%8E%E4%BD%9C%E4%B8%9A2/</guid>
        <description>ğŸŒ€Jarson Cai&#39;s Blog https://caixiongjiang.github.io/blog/2022/%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E8%AF%BE%E5%90%8E%E4%BD%9C%E4%B8%9A2/ -&lt;h2 id=&#34;æ¨¡å¼è¯†åˆ«æœºå™¨å­¦ä¹ è¯¾åä½œä¸š&#34;&gt;ã€Šæ¨¡å¼è¯†åˆ«&amp;amp;æœºå™¨å­¦ä¹ ã€‹è¯¾åä½œä¸š&lt;/h2&gt;
&lt;h3 id=&#34;ä½œä¸šäºŒ&#34;&gt;ä½œä¸šäºŒ&lt;/h3&gt;
&lt;p&gt;æ ¹æ®æœ€å°å‡æ–¹è¯¯å·®ç®—æ³•ï¼ˆhkç®—æ³•ï¼‰å¯¹0~9çš„ä¸­ä»»æ„ä¸¤ä¸ªæ•°è¿›è¡Œåˆ†ç±»ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ä»£ç å®ç°&#34;&gt;ä»£ç å®ç°&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;h_k.m:(ä¸»å‡½æ•°)&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 2
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 3
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 4
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 5
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 6
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 7
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 8
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 9
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;10
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;11
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;12
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;13
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;14
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;15
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;16
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;17
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;18
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;19
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;20
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;21
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;22
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;23
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;24
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;25
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;26
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;27
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;28
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;29
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;30
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;31
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;32
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;33
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;34
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;35
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;36
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;37
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;38
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;39
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;40
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;41
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;42
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;43
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;44
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;45
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;46
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;47
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;48
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;49
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;50
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;51
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;52
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;53
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;54
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;55
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;56
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;57
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;58
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;59
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;60
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;61
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;62
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;63
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;64
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;65
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;66
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;67
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;68
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;69
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;70
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;71
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;72
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;73
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;74
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;75
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;76
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;77
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-matlab&#34; data-lang=&#34;matlab&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;%h_k.m&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;clear variables
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;clc
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;%è¯»å–æ•°æ®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;load(&lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#39;test_images.mat&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;load(&lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#39;test_labels.mat&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;%è®¾å®šæ•°æ®é›†&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;train_num = &lt;span style=&#34;color:#b452cd&#34;&gt;1000&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;test_num = &lt;span style=&#34;color:#b452cd&#34;&gt;200&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;%ä¸´æ—¶å˜é‡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#658b00&#34;&gt;j&lt;/span&gt; = &lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;epoch = &lt;span style=&#34;color:#b452cd&#34;&gt;100&lt;/span&gt;;&lt;span style=&#34;color:#228b22&#34;&gt;%è®¾å®šçš„æœ€å¤§è®­ç»ƒè½®æ•°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;nums = [&lt;span style=&#34;color:#b452cd&#34;&gt;4&lt;/span&gt;, &lt;span style=&#34;color:#b452cd&#34;&gt;6&lt;/span&gt;];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;lr = &lt;span style=&#34;color:#b452cd&#34;&gt;0.2&lt;/span&gt;; &lt;span style=&#34;color:#228b22&#34;&gt;%å­¦ä¹ ç‡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;flag = &lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;;&lt;span style=&#34;color:#228b22&#34;&gt;%é»˜è®¤ä»£è¡¨çº¿æ€§å¯åˆ†&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;%æå–æ ·æœ¬å¹¶åšå¥½æ ‡ç­¾è½¬æ¢&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#658b00&#34;&gt;i&lt;/span&gt; = &lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;:&lt;span style=&#34;color:#b452cd&#34;&gt;10000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;if&lt;/span&gt; test_labels1(&lt;span style=&#34;color:#658b00&#34;&gt;i&lt;/span&gt;) == nums(&lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        data(:, :, &lt;span style=&#34;color:#658b00&#34;&gt;j&lt;/span&gt;) = test_images(:, :, &lt;span style=&#34;color:#658b00&#34;&gt;i&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        label(&lt;span style=&#34;color:#658b00&#34;&gt;j&lt;/span&gt;) = &lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;;&lt;span style=&#34;color:#228b22&#34;&gt;%ä»£è¡¨ç¬¬ä¸€ä¸ªæ•°çš„æ ‡ç­¾&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#658b00&#34;&gt;j&lt;/span&gt; = &lt;span style=&#34;color:#658b00&#34;&gt;j&lt;/span&gt; + &lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;if&lt;/span&gt; test_labels1(&lt;span style=&#34;color:#658b00&#34;&gt;i&lt;/span&gt;) == nums(&lt;span style=&#34;color:#b452cd&#34;&gt;2&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        data(:, :, &lt;span style=&#34;color:#658b00&#34;&gt;j&lt;/span&gt;) = test_images(:, :, &lt;span style=&#34;color:#658b00&#34;&gt;i&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        label(&lt;span style=&#34;color:#658b00&#34;&gt;j&lt;/span&gt;) = -&lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;;&lt;span style=&#34;color:#228b22&#34;&gt;%ä»£è¡¨ç¬¬äºŒä¸ªæ•°çš„æ ‡ç­¾&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#658b00&#34;&gt;j&lt;/span&gt; = &lt;span style=&#34;color:#658b00&#34;&gt;j&lt;/span&gt; + &lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#658b00&#34;&gt;j&lt;/span&gt; &amp;gt; train_num + test_num
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;%å°†æ ‡ç­¾æå‰å‡†å¤‡å¥½ï¼Œå¢å¹¿åˆ°è®­ç»ƒæ•°æ®ä¸­&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;temp = &lt;span style=&#34;color:#658b00&#34;&gt;ones&lt;/span&gt;(train_num, &lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#658b00&#34;&gt;i&lt;/span&gt; = &lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt; : &lt;span style=&#34;color:#b452cd&#34;&gt;1000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   temp(&lt;span style=&#34;color:#658b00&#34;&gt;i&lt;/span&gt;, &lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;) = label(&lt;span style=&#34;color:#658b00&#34;&gt;i&lt;/span&gt;); 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;%çŸ©é˜µè½¬å‘é‡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;data_ = mat2vector(data, train_num + test_num);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;%æµ‹è¯•æ•°æ®å½’ä¸€åŒ–&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;test_data = [data_(train_num + &lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;:train_num + test_num, :), &lt;span style=&#34;color:#658b00&#34;&gt;ones&lt;/span&gt;(test_num, &lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;)];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;%æƒå‘é‡è¿­ä»£&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[w, flag, e] = lmse(data_(&lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;:train_num, :),label(&lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;,&lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;:train_num), lr, flag, epoch, temp);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;% æµ‹è¯•ï¼ˆé¢„æµ‹ï¼‰ &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;s = [];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;for&lt;/span&gt; k = &lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;:test_num
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        s(k) = test_data(k,:)*w;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;if&lt;/span&gt; s(k) &amp;gt; &lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            result(k) = &lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;;&lt;span style=&#34;color:#228b22&#34;&gt;%é¢„æµ‹ä¸ºç¬¬ä¸€ä¸ªæ•°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;else&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            result(k) = -&lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;;&lt;span style=&#34;color:#228b22&#34;&gt;%é¢„æµ‹ä¸ºç¬¬äºŒä¸ªæ•°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;% è¾“å‡ºé¢„æµ‹çš„å‡†ç¡®ç‡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;acc = &lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt;;&lt;span style=&#34;color:#228b22&#34;&gt;%æ­£ç¡®åˆ†ç±»ä¸ªæ•°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;err = &lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt;;&lt;span style=&#34;color:#228b22&#34;&gt;%é”™è¯¯åˆ†ç±»çš„ä¸ªæ•°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;for&lt;/span&gt; sample = &lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;:test_num
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;if&lt;/span&gt; result(sample)==label(train_num+sample)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;acc = acc+&lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;else&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;fprintf(&lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#39;åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š%d\n&amp;#39;&lt;/span&gt;,sample);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        err = err + &lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;end&lt;/span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;fprintf(&lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#39;åˆ†ç±»é”™è¯¯çš„ä¸ªæ•°ä¸ºï¼š%d,åˆ†ç±»æ­£ç¡®çš„ä¸ªæ•°ä¸ºï¼š%d\n&amp;#39;&lt;/span&gt;,err, acc);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;fprintf(&lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#39;ç²¾ç¡®åº¦ä¸ºï¼š%5.2f%%\n&amp;#39;&lt;/span&gt;,(acc / test_num)*&lt;span style=&#34;color:#b452cd&#34;&gt;100&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;mat2vector.m:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 2
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 3
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 4
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 5
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 6
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 7
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 8
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 9
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;10
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;11
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-matlab&#34; data-lang=&#34;matlab&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;%mat2vector.m&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;function&lt;/span&gt;[w] =&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008b45&#34;&gt;mat2vector&lt;/span&gt;(mat, maxCnt)&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;w = [];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#658b00&#34;&gt;i&lt;/span&gt; = &lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt; : maxCnt
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        mat1 = mat(:, :, &lt;span style=&#34;color:#658b00&#34;&gt;i&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        [x, y] = &lt;span style=&#34;color:#658b00&#34;&gt;size&lt;/span&gt;(mat1);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        mat2 = mat1&amp;#39;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        mat3 = &lt;span style=&#34;color:#658b00&#34;&gt;reshape&lt;/span&gt;(mat2, &lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;, x * y);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        w = [w; mat3];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;end&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;lmse.m:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 2
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 3
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 4
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 5
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 6
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 7
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 8
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 9
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;10
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;11
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;12
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;13
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;14
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;15
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;16
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;17
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;18
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;19
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;20
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;21
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;22
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;23
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;24
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;25
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;26
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;27
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;28
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;29
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;30
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;31
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;32
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;33
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;34
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;35
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;36
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;37
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;38
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;39
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;40
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;41
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;42
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;43
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;44
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;45
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;46
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;47
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;48
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;49
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;50
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;51
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;52
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;53
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;54
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;55
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;56
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;57
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;58
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;59
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;60
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;61
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;62
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;63
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;64
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;65
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;66
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;67
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;68
&lt;/span&gt;&lt;span style=&#34;white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;69
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-matlab&#34; data-lang=&#34;matlab&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;%lmse.m&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;%lmseç®—æ³•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;%å‚æ•°1ï¼šè®­ç»ƒæ•°æ® å‚æ•°2ï¼šæ ‡ç­¾ å‚æ•°3ï¼šå­¦ä¹ ç‡ å‚æ•°4ï¼šæ ‡å¿—ä½ï¼ˆæ˜¯å¦çº¿æ€§å¯åˆ†ï¼‰å‚æ•°5ï¼šå¢å¹¿éœ€è¦çš„æ•°æ®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;%è¿”å›å€¼ï¼šæƒå‘é‡ flagæ ‡å¿—ä½ è¯¯å·®å‘é‡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;function&lt;/span&gt;[res,flag,e] =&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008b45&#34;&gt;lmse&lt;/span&gt;(data, label,lr, flag, maxEpoch, temp)&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;res = [];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    [rows,cols]=&lt;span style=&#34;color:#658b00&#34;&gt;size&lt;/span&gt;(data);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;for&lt;/span&gt; m = &lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt; : rows
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;if&lt;/span&gt; label(m) == -&lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            data(m,:) = -data(m,:);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    b=[&lt;span style=&#34;color:#658b00&#34;&gt;ones&lt;/span&gt;(&lt;span style=&#34;color:#b452cd&#34;&gt;1000&lt;/span&gt;,&lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;)];&lt;span style=&#34;color:#228b22&#34;&gt;%åˆå§‹æ¾å¼›å‘é‡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    data = [data,temp];&lt;span style=&#34;color:#228b22&#34;&gt;%è®­ç»ƒæ•°æ®å¢å¹¿&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    data1 = pinv(data); &lt;span style=&#34;color:#228b22&#34;&gt;%pinvä¸ºæ±‚ä¼ªé€†ï¼Œå› ä¸ºéƒ¨åˆ†çŸ©é˜µä¸å¯é€†&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    w = (data1)*b;&lt;span style=&#34;color:#228b22&#34;&gt;%åˆå§‹æƒå‘é‡ &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    e = data * w - b;&lt;span style=&#34;color:#228b22&#34;&gt;%è¯¯å·®å‘é‡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    delta = lr * (e + &lt;span style=&#34;color:#658b00&#34;&gt;abs&lt;/span&gt;(e));&lt;span style=&#34;color:#228b22&#34;&gt;% (e(k) + |e(k)|)*n(k + 1)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    N = &lt;span style=&#34;color:#658b00&#34;&gt;length&lt;/span&gt;(b);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    k = &lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    isEnd = &lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt;; &lt;span style=&#34;color:#228b22&#34;&gt;%å¾ªç¯ç»“æŸçš„æ ‡å¿—&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;while&lt;/span&gt;(~isEnd)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;if&lt;/span&gt;(k &amp;gt;= maxEpoch)&lt;span style=&#34;color:#228b22&#34;&gt;%æœ€å¤§è®­ç»ƒè½®æ•°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            flag = &lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#228b22&#34;&gt;%è¯¯å·®å¤§äº0çš„æ•°ç›®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        x = &lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        x_tozero = &lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#228b22&#34;&gt;%è¯¯å·®å°äº0çš„æ•°ç›®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        y = &lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        y_tozero = &lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#658b00&#34;&gt;i&lt;/span&gt; = &lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt; : N
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;if&lt;/span&gt;(e(&lt;span style=&#34;color:#658b00&#34;&gt;i&lt;/span&gt;) &amp;lt; &lt;span style=&#34;color:#b452cd&#34;&gt;1e-4&lt;/span&gt; &amp;amp;&amp;amp; e(&lt;span style=&#34;color:#658b00&#34;&gt;i&lt;/span&gt;) &amp;gt; &lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                x_tozero = x_tozero + &lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;elseif&lt;/span&gt; (e(&lt;span style=&#34;color:#658b00&#34;&gt;i&lt;/span&gt;) &amp;gt; -(&lt;span style=&#34;color:#b452cd&#34;&gt;1e-4&lt;/span&gt;) &amp;amp;&amp;amp; e(&lt;span style=&#34;color:#658b00&#34;&gt;i&lt;/span&gt;) &amp;lt; &lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                y_tozero = y_tozero + &lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;elseif&lt;/span&gt; (e(&lt;span style=&#34;color:#658b00&#34;&gt;i&lt;/span&gt;) &amp;gt; &lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                x = x + &lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;else&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                y = y + &lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#228b22&#34;&gt;%fprintf(&amp;#39;x,x_tozero,y,y_tozero:%d,%d,%d,%d&amp;#39;, x,x_tozero,y,y_tozero);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;if&lt;/span&gt;((x_tozero + y_tozero) == N) &lt;span style=&#34;color:#228b22&#34;&gt;%%æ‰€æœ‰æ ·æœ¬è¯¯å·®è¶‹å‘äº0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            isEnd = &lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;elseif&lt;/span&gt; ((x_tozero + x) == N) &lt;span style=&#34;color:#228b22&#34;&gt;%%è¯¯å·®è¶‹å‘äº0æˆ–è€…å¤§äº0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            isEnd = &lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;elseif&lt;/span&gt; ((y_tozero + y) == N) &lt;span style=&#34;color:#228b22&#34;&gt;%%è¯¯å·®è¶‹å‘äº0æˆ–è€…å°äº0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            flag = &lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt;;&lt;span style=&#34;color:#228b22&#34;&gt;%çº¿æ€§ä¸å¯åˆ†&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            isEnd = &lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;else&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;           k = k + &lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;           w = w + data1*delta;&lt;span style=&#34;color:#228b22&#34;&gt;%æƒå‘é‡æ›´æ–°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;           b = b + delta; &lt;span style=&#34;color:#228b22&#34;&gt;%æ¾å¼›å‘é‡æ›´æ–°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;           e = data * w - b;&lt;span style=&#34;color:#228b22&#34;&gt;%è¯¯å·®å‘é‡æ›´æ–°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;           delta = lr * (e + &lt;span style=&#34;color:#658b00&#34;&gt;abs&lt;/span&gt;(e));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    res = [res;w];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    fprintf(&lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#39;è¿­ä»£çš„è½®æ•°ï¼š%d\n&amp;#39;&lt;/span&gt;, k);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;ç»“æœ&#34;&gt;ç»“æœ&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;å¯¹4å’Œ8è¿›è¡Œåˆ†ç±»ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;è¿­ä»£çš„è½®æ•°ï¼š100
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š6
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š19
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š25
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š27
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š29
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š39
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š41
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š42
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š50
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š51
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š55
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š57
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š105
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š112
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š146
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š150
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š151
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š157
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š158
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š166
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š184
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š188
åˆ†ç±»é”™è¯¯çš„ä¸ªæ•°ä¸ºï¼š22,åˆ†ç±»æ­£ç¡®çš„ä¸ªæ•°ä¸ºï¼š178
ç²¾ç¡®åº¦ä¸ºï¼š89.00%
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;å¯¹1å’Œ9è¿›è¡Œåˆ†ç±»ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;è¿­ä»£çš„è½®æ•°ï¼š100
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š11
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š17
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š36
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š40
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š81
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š85
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š92
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š99
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š115
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š116
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š126
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š130
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š166
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š191
åˆ†ç±»é”™è¯¯çš„ä¸ªæ•°ä¸ºï¼š14,åˆ†ç±»æ­£ç¡®çš„ä¸ªæ•°ä¸ºï¼š186
ç²¾ç¡®åº¦ä¸ºï¼š93.00%
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;å¯¹2å’Œ6è¿›è¡Œåˆ†ç±»ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;è¿­ä»£çš„è½®æ•°ï¼š100
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š8
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š11
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š49
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š73
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š107
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š149
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š189
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š190
åˆ†ç±»é”™è¯¯çš„åºå·ä¸ºï¼š196
åˆ†ç±»é”™è¯¯çš„ä¸ªæ•°ä¸ºï¼š9,åˆ†ç±»æ­£ç¡®çš„ä¸ªæ•°ä¸ºï¼š191
ç²¾ç¡®åº¦ä¸ºï¼š95.50%
&lt;/code&gt;&lt;/pre&gt;- https://caixiongjiang.github.io/blog/2022/%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E8%AF%BE%E5%90%8E%E4%BD%9C%E4%B8%9A2/ - </description>
        </item>
    
    
  </channel>
</rss> 